var By=Object.defineProperty;var Gy=(t,n,s)=>n in t?By(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;var Jn=(t,n,s)=>Gy(t,typeof n!="symbol"?n+"":n,s);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const A of f.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&a(A)}).observe(document,{childList:!0,subtree:!0});function s(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(l){if(l.ep)return;l.ep=!0;const f=s(l);fetch(l.href,f)}})();var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var z0={exports:{}},sd={},H0={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=Symbol.for("react.element"),zy=Symbol.for("react.portal"),Hy=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),qy=Symbol.for("react.context"),Qy=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),Yy=Symbol.for("react.memo"),Xy=Symbol.for("react.lazy"),Dg=Symbol.iterator;function Zy(t){return t===null||typeof t!="object"?null:(t=Dg&&t[Dg]||t["@@iterator"],typeof t=="function"?t:null)}var W0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K0=Object.assign,$0={};function No(t,n,s){this.props=t,this.context=n,this.refs=$0,this.updater=s||W0}No.prototype.isReactComponent={};No.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")};No.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q0(){}q0.prototype=No.prototype;function Tf(t,n,s){this.props=t,this.context=n,this.refs=$0,this.updater=s||W0}var kf=Tf.prototype=new q0;kf.constructor=Tf;K0(kf,No.prototype);kf.isPureReactComponent=!0;var Og=Array.isArray,Q0=Object.prototype.hasOwnProperty,If={current:null},J0={key:!0,ref:!0,__self:!0,__source:!0};function Y0(t,n,s){var a,l={},f=null,A=null;if(n!=null)for(a in n.ref!==void 0&&(A=n.ref),n.key!==void 0&&(f=""+n.key),n)Q0.call(n,a)&&!J0.hasOwnProperty(a)&&(l[a]=n[a]);var k=arguments.length-2;if(k===1)l.children=s;else if(1<k){for(var O=Array(k),b=0;b<k;b++)O[b]=arguments[b+2];l.children=O}if(t&&t.defaultProps)for(a in k=t.defaultProps,k)l[a]===void 0&&(l[a]=k[a]);return{$$typeof:Za,type:t,key:f,ref:A,props:l,_owner:If.current}}function e1(t,n){return{$$typeof:Za,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function Rf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Za}function t1(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return n[s]})}var Mg=/\/+/g;function ih(t,n){return typeof t=="object"&&t!==null&&t.key!=null?t1(""+t.key):n.toString(36)}function Ec(t,n,s,a,l){var f=typeof t;(f==="undefined"||f==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(f){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Za:case zy:A=!0}}if(A)return A=t,l=l(A),t=a===""?"."+ih(A,0):a,Og(l)?(s="",t!=null&&(s=t.replace(Mg,"$&/")+"/"),Ec(l,n,s,"",function(b){return b})):l!=null&&(Rf(l)&&(l=e1(l,s+(!l.key||A&&A.key===l.key?"":(""+l.key).replace(Mg,"$&/")+"/")+t)),n.push(l)),1;if(A=0,a=a===""?".":a+":",Og(t))for(var k=0;k<t.length;k++){f=t[k];var O=a+ih(f,k);A+=Ec(f,n,s,O,l)}else if(O=Zy(t),typeof O=="function")for(t=O.call(t),k=0;!(f=t.next()).done;)f=f.value,O=a+ih(f,k++),A+=Ec(f,n,s,O,l);else if(f==="object")throw n=String(t),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return A}function oc(t,n,s){if(t==null)return t;var a=[],l=0;return Ec(t,a,"","",function(f){return n.call(s,f,l++)}),a}function n1(t){if(t._status===-1){var n=t._result;n=n(),n.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=n)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},Cc={transition:null},i1={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:If};function X0(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:oc,forEach:function(t,n,s){oc(t,function(){n.apply(this,arguments)},s)},count:function(t){var n=0;return oc(t,function(){n++}),n},toArray:function(t){return oc(t,function(n){return n})||[]},only:function(t){if(!Rf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=No;ut.Fragment=Hy;ut.Profiler=Ky;ut.PureComponent=Tf;ut.StrictMode=Wy;ut.Suspense=Jy;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1;ut.act=X0;ut.cloneElement=function(t,n,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=K0({},t.props),l=t.key,f=t.ref,A=t._owner;if(n!=null){if(n.ref!==void 0&&(f=n.ref,A=If.current),n.key!==void 0&&(l=""+n.key),t.type&&t.type.defaultProps)var k=t.type.defaultProps;for(O in n)Q0.call(n,O)&&!J0.hasOwnProperty(O)&&(a[O]=n[O]===void 0&&k!==void 0?k[O]:n[O])}var O=arguments.length-2;if(O===1)a.children=s;else if(1<O){k=Array(O);for(var b=0;b<O;b++)k[b]=arguments[b+2];a.children=k}return{$$typeof:Za,type:t.type,key:l,ref:f,props:a,_owner:A}};ut.createContext=function(t){return t={$$typeof:qy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$y,_context:t},t.Consumer=t};ut.createElement=Y0;ut.createFactory=function(t){var n=Y0.bind(null,t);return n.type=t,n};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:Qy,render:t}};ut.isValidElement=Rf;ut.lazy=function(t){return{$$typeof:Xy,_payload:{_status:-1,_result:t},_init:n1}};ut.memo=function(t,n){return{$$typeof:Yy,type:t,compare:n===void 0?null:n}};ut.startTransition=function(t){var n=Cc.transition;Cc.transition={};try{t()}finally{Cc.transition=n}};ut.unstable_act=X0;ut.useCallback=function(t,n){return bn.current.useCallback(t,n)};ut.useContext=function(t){return bn.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};ut.useEffect=function(t,n){return bn.current.useEffect(t,n)};ut.useId=function(){return bn.current.useId()};ut.useImperativeHandle=function(t,n,s){return bn.current.useImperativeHandle(t,n,s)};ut.useInsertionEffect=function(t,n){return bn.current.useInsertionEffect(t,n)};ut.useLayoutEffect=function(t,n){return bn.current.useLayoutEffect(t,n)};ut.useMemo=function(t,n){return bn.current.useMemo(t,n)};ut.useReducer=function(t,n,s){return bn.current.useReducer(t,n,s)};ut.useRef=function(t){return bn.current.useRef(t)};ut.useState=function(t){return bn.current.useState(t)};ut.useSyncExternalStore=function(t,n,s){return bn.current.useSyncExternalStore(t,n,s)};ut.useTransition=function(){return bn.current.useTransition()};ut.version="18.3.1";H0.exports=ut;var Ki=H0.exports;const Eo=V0(Ki);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=Ki,s1=Symbol.for("react.element"),o1=Symbol.for("react.fragment"),a1=Object.prototype.hasOwnProperty,l1=r1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c1={key:!0,ref:!0,__self:!0,__source:!0};function Z0(t,n,s){var a,l={},f=null,A=null;s!==void 0&&(f=""+s),n.key!==void 0&&(f=""+n.key),n.ref!==void 0&&(A=n.ref);for(a in n)a1.call(n,a)&&!c1.hasOwnProperty(a)&&(l[a]=n[a]);if(t&&t.defaultProps)for(a in n=t.defaultProps,n)l[a]===void 0&&(l[a]=n[a]);return{$$typeof:s1,type:t,key:f,ref:A,props:l,_owner:l1.current}}sd.Fragment=o1;sd.jsx=Z0;sd.jsxs=Z0;z0.exports=sd;var ke=z0.exports,xh={},eA={exports:{}},ti={},tA={exports:{}},nA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function n(oe,Ce){var De=oe.length;oe.push(Ce);e:for(;0<De;){var Fe=De-1>>>1,_e=oe[Fe];if(0<l(_e,Ce))oe[Fe]=Ce,oe[De]=_e,De=Fe;else break e}}function s(oe){return oe.length===0?null:oe[0]}function a(oe){if(oe.length===0)return null;var Ce=oe[0],De=oe.pop();if(De!==Ce){oe[0]=De;e:for(var Fe=0,_e=oe.length,Et=_e>>>1;Fe<Et;){var lt=2*(Fe+1)-1,ft=oe[lt],vt=lt+1,It=oe[vt];if(0>l(ft,De))vt<_e&&0>l(It,ft)?(oe[Fe]=It,oe[vt]=De,Fe=vt):(oe[Fe]=ft,oe[lt]=De,Fe=lt);else if(vt<_e&&0>l(It,De))oe[Fe]=It,oe[vt]=De,Fe=vt;else break e}}return Ce}function l(oe,Ce){var De=oe.sortIndex-Ce.sortIndex;return De!==0?De:oe.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var A=Date,k=A.now();t.unstable_now=function(){return A.now()-k}}var O=[],b=[],J=1,G=null,K=3,M=!1,v=!1,y=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(oe){for(var Ce=s(b);Ce!==null;){if(Ce.callback===null)a(b);else if(Ce.startTime<=oe)a(b),Ce.sortIndex=Ce.expirationTime,n(O,Ce);else break;Ce=s(b)}}function ce(oe){if(y=!1,j(oe),!v)if(s(O)!==null)v=!0,Ae(h);else{var Ce=s(b);Ce!==null&&He(ce,Ce.startTime-oe)}}function h(oe,Ce){v=!1,y&&(y=!1,I(we),we=-1),M=!0;var De=K;try{for(j(Ce),G=s(O);G!==null&&(!(G.expirationTime>Ce)||oe&&!Je());){var Fe=G.callback;if(typeof Fe=="function"){G.callback=null,K=G.priorityLevel;var _e=Fe(G.expirationTime<=Ce);Ce=t.unstable_now(),typeof _e=="function"?G.callback=_e:G===s(O)&&a(O),j(Ce)}else a(O);G=s(O)}if(G!==null)var Et=!0;else{var lt=s(b);lt!==null&&He(ce,lt.startTime-Ce),Et=!1}return Et}finally{G=null,K=De,M=!1}}var se=!1,pe=null,we=-1,Be=5,Se=-1;function Je(){return!(t.unstable_now()-Se<Be)}function F(){if(pe!==null){var oe=t.unstable_now();Se=oe;var Ce=!0;try{Ce=pe(!0,oe)}finally{Ce?Q():(se=!1,pe=null)}}else se=!1}var Q;if(typeof P=="function")Q=function(){P(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ae=ee.port2;ee.port1.onmessage=F,Q=function(){ae.postMessage(null)}}else Q=function(){R(F,0)};function Ae(oe){pe=oe,se||(se=!0,Q())}function He(oe,Ce){we=R(function(){oe(t.unstable_now())},Ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){v||M||(v=!0,Ae(h))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return K},t.unstable_getFirstCallbackNode=function(){return s(O)},t.unstable_next=function(oe){switch(K){case 1:case 2:case 3:var Ce=3;break;default:Ce=K}var De=K;K=Ce;try{return oe()}finally{K=De}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,Ce){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var De=K;K=oe;try{return Ce()}finally{K=De}},t.unstable_scheduleCallback=function(oe,Ce,De){var Fe=t.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?Fe+De:Fe):De=Fe,oe){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=De+_e,oe={id:J++,callback:Ce,priorityLevel:oe,startTime:De,expirationTime:_e,sortIndex:-1},De>Fe?(oe.sortIndex=De,n(b,oe),s(O)===null&&oe===s(b)&&(y?(I(we),we=-1):y=!0,He(ce,De-Fe))):(oe.sortIndex=_e,n(O,oe),v||M||(v=!0,Ae(h))),oe},t.unstable_shouldYield=Je,t.unstable_wrapCallback=function(oe){var Ce=K;return function(){var De=K;K=Ce;try{return oe.apply(this,arguments)}finally{K=De}}}})(nA);tA.exports=nA;var d1=tA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=Ki,ei=d1;function Pe(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iA=new Set,_a={};function Ts(t,n){Co(t,n),Co(t+"Capture",n)}function Co(t,n){for(_a[t]=n,t=0;t<n.length;t++)iA.add(n[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nh=Object.prototype.hasOwnProperty,h1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lg={},_g={};function f1(t){return Nh.call(_g,t)?!0:Nh.call(Lg,t)?!1:h1.test(t)?_g[t]=!0:(Lg[t]=!0,!1)}function p1(t,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m1(t,n,s,a){if(n===null||typeof n>"u"||p1(t,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function En(t,n,s,a,l,f,A){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=f,this.removeEmptyString=A}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];an[n]=new En(n,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pf=/[\-:]([a-z])/g;function xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Pf,xf);an[n]=new En(n,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Pf,xf);an[n]=new En(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Pf,xf);an[n]=new En(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nf(t,n,s,a){var l=an.hasOwnProperty(n)?an[n]:null;(l!==null?l.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(m1(n,s,l,a)&&(s=null),a||l===null?f1(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):l.mustUseProperty?t[l.propertyName]=s===null?l.type===3?!1:"":s:(n=l.attributeName,a=l.attributeNamespace,s===null?t.removeAttribute(n):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,a?t.setAttributeNS(a,n,s):t.setAttribute(n,s))))}var fr=u1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ac=Symbol.for("react.element"),ro=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),Dh=Symbol.for("react.profiler"),rA=Symbol.for("react.provider"),sA=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Mh=Symbol.for("react.suspense_list"),Mf=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),oA=Symbol.for("react.offscreen"),Fg=Symbol.iterator;function pa(t){return t===null||typeof t!="object"?null:(t=Fg&&t[Fg]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,rh;function ba(t){if(rh===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);rh=n&&n[1]||""}return`
`+rh+t}var sh=!1;function oh(t,n){if(!t||sh)return"";sh=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(b){var a=b}Reflect.construct(t,[],n)}else{try{n.call()}catch(b){a=b}t.call(n.prototype)}else{try{throw Error()}catch(b){a=b}t()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var l=b.stack.split(`
`),f=a.stack.split(`
`),A=l.length-1,k=f.length-1;1<=A&&0<=k&&l[A]!==f[k];)k--;for(;1<=A&&0<=k;A--,k--)if(l[A]!==f[k]){if(A!==1||k!==1)do if(A--,k--,0>k||l[A]!==f[k]){var O=`
`+l[A].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=A&&0<=k);break}}}finally{sh=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?ba(t):""}function v1(t){switch(t.tag){case 5:return ba(t.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 2:case 15:return t=oh(t.type,!1),t;case 11:return t=oh(t.type.render,!1),t;case 1:return t=oh(t.type,!0),t;default:return""}}function Lh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case ro:return"Portal";case Dh:return"Profiler";case Df:return"StrictMode";case Oh:return"Suspense";case Mh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sA:return(t.displayName||"Context")+".Consumer";case rA:return(t._context.displayName||"Context")+".Provider";case Of:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mf:return n=t.displayName||null,n!==null?n:Lh(t.type)||"Memo";case kr:n=t._payload,t=t._init;try{return Lh(t(n))}catch{}}return null}function g1(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lh(n);case 8:return n===Df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aA(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function A1(t){var n=aA(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return l.call(this)},set:function(A){a=""+A,f.call(this,A)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(A){a=""+A},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function lc(t){t._valueTracker||(t._valueTracker=A1(t))}function lA(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return t&&(a=aA(t)?t.checked?"true":"false":t.value),t=a,t!==s?(n.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _h(t,n){var s=n.checked;return Ft({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Ug(t,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=Br(n.value!=null?n.value:s),t._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function cA(t,n){n=n.checked,n!=null&&Nf(t,"checked",n,!1)}function Fh(t,n){cA(t,n);var s=Br(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Uh(t,n.type,s):n.hasOwnProperty("defaultValue")&&Uh(t,n.type,Br(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function jg(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Uh(t,n,s){(n!=="number"||Lc(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Ea=Array.isArray;function go(t,n,s,a){if(t=t.options,n){n={};for(var l=0;l<s.length;l++)n["$"+s[l]]=!0;for(s=0;s<t.length;s++)l=n.hasOwnProperty("$"+t[s].value),t[s].selected!==l&&(t[s].selected=l),l&&a&&(t[s].defaultSelected=!0)}else{for(s=""+Br(s),n=null,l=0;l<t.length;l++){if(t[l].value===s){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}n!==null||t[l].disabled||(n=t[l])}n!==null&&(n.selected=!0)}}function jh(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return Ft({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bg(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(Pe(92));if(Ea(s)){if(1<s.length)throw Error(Pe(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:Br(s)}}function dA(t,n){var s=Br(n.value),a=Br(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),a!=null&&(t.defaultValue=""+a)}function Gg(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function uA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bh(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?uA(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cc,hA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,l){MSApp.execUnsafeLocalFunction(function(){return t(n,s,a,l)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(cc=cc||document.createElement("div"),cc.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function Fa(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S1=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(t){S1.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Ia[n]=Ia[t]})});function fA(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Ia.hasOwnProperty(t)&&Ia[t]?(""+n).trim():n+"px"}function pA(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,l=fA(s,n[s],a);s==="float"&&(s="cssFloat"),a?t.setProperty(s,l):t[s]=l}}var y1=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gh(t,n){if(n){if(y1[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(Pe(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(Pe(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(Pe(61))}if(n.style!=null&&typeof n.style!="object")throw Error(Pe(62))}}function Vh(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=null;function Lf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hh=null,Ao=null,So=null;function Vg(t){if(t=nl(t)){if(typeof Hh!="function")throw Error(Pe(280));var n=t.stateNode;n&&(n=dd(n),Hh(t.stateNode,t.type,n))}}function mA(t){Ao?So?So.push(t):So=[t]:Ao=t}function vA(){if(Ao){var t=Ao,n=So;if(So=Ao=null,Vg(t),n)for(t=0;t<n.length;t++)Vg(n[t])}}function gA(t,n){return t(n)}function AA(){}var ah=!1;function SA(t,n,s){if(ah)return t(n,s);ah=!0;try{return gA(t,n,s)}finally{ah=!1,(Ao!==null||So!==null)&&(AA(),vA())}}function Ua(t,n){var s=t.stateNode;if(s===null)return null;var a=dd(s);if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(Pe(231,n,typeof s));return s}var Wh=!1;if(lr)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Wh=!1}function w1(t,n,s,a,l,f,A,k,O){var b=Array.prototype.slice.call(arguments,3);try{n.apply(s,b)}catch(J){this.onError(J)}}var Ra=!1,_c=null,Fc=!1,Kh=null,b1={onError:function(t){Ra=!0,_c=t}};function E1(t,n,s,a,l,f,A,k,O){Ra=!1,_c=null,w1.apply(b1,arguments)}function C1(t,n,s,a,l,f,A,k,O){if(E1.apply(this,arguments),Ra){if(Ra){var b=_c;Ra=!1,_c=null}else throw Error(Pe(198));Fc||(Fc=!0,Kh=b)}}function ks(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function yA(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function zg(t){if(ks(t)!==t)throw Error(Pe(188))}function T1(t){var n=t.alternate;if(!n){if(n=ks(t),n===null)throw Error(Pe(188));return n!==t?null:t}for(var s=t,a=n;;){var l=s.return;if(l===null)break;var f=l.alternate;if(f===null){if(a=l.return,a!==null){s=a;continue}break}if(l.child===f.child){for(f=l.child;f;){if(f===s)return zg(l),t;if(f===a)return zg(l),n;f=f.sibling}throw Error(Pe(188))}if(s.return!==a.return)s=l,a=f;else{for(var A=!1,k=l.child;k;){if(k===s){A=!0,s=l,a=f;break}if(k===a){A=!0,a=l,s=f;break}k=k.sibling}if(!A){for(k=f.child;k;){if(k===s){A=!0,s=f,a=l;break}if(k===a){A=!0,a=f,s=l;break}k=k.sibling}if(!A)throw Error(Pe(189))}}if(s.alternate!==a)throw Error(Pe(190))}if(s.tag!==3)throw Error(Pe(188));return s.stateNode.current===s?t:n}function wA(t){return t=T1(t),t!==null?bA(t):null}function bA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=bA(t);if(n!==null)return n;t=t.sibling}return null}var EA=ei.unstable_scheduleCallback,Hg=ei.unstable_cancelCallback,k1=ei.unstable_shouldYield,I1=ei.unstable_requestPaint,zt=ei.unstable_now,R1=ei.unstable_getCurrentPriorityLevel,_f=ei.unstable_ImmediatePriority,CA=ei.unstable_UserBlockingPriority,Uc=ei.unstable_NormalPriority,P1=ei.unstable_LowPriority,TA=ei.unstable_IdlePriority,od=null,Hi=null;function x1(t){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(od,t,void 0,(t.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:O1,N1=Math.log,D1=Math.LN2;function O1(t){return t>>>=0,t===0?32:31-(N1(t)/D1|0)|0}var dc=64,uc=4194304;function Ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jc(t,n){var s=t.pendingLanes;if(s===0)return 0;var a=0,l=t.suspendedLanes,f=t.pingedLanes,A=s&268435455;if(A!==0){var k=A&~l;k!==0?a=Ca(k):(f&=A,f!==0&&(a=Ca(f)))}else A=s&~l,A!==0?a=Ca(A):f!==0&&(a=Ca(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&l)&&(l=a&-a,f=n&-n,l>=f||l===16&&(f&4194240)!==0))return n;if(a&4&&(a|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=a;0<n;)s=31-Pi(n),l=1<<s,a|=t[s],n&=~l;return a}function M1(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L1(t,n){for(var s=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,f=t.pendingLanes;0<f;){var A=31-Pi(f),k=1<<A,O=l[A];O===-1?(!(k&s)||k&a)&&(l[A]=M1(k,n)):O<=n&&(t.expiredLanes|=k),f&=~k}}function $h(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kA(){var t=dc;return dc<<=1,!(dc&4194240)&&(dc=64),t}function lh(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function el(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Pi(n),t[n]=s}function _1(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<s;){var l=31-Pi(s),f=1<<l;n[l]=0,a[l]=-1,t[l]=-1,s&=~f}}function Ff(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var a=31-Pi(s),l=1<<a;l&n|t[a]&n&&(t[a]|=n),s&=~l}}var Ct=0;function IA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RA,Uf,PA,xA,NA,qh=!1,hc=[],Dr=null,Or=null,Mr=null,ja=new Map,Ba=new Map,Rr=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wg(t,n){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":ja.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(n.pointerId)}}function va(t,n,s,a,l,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:f,targetContainers:[l]},n!==null&&(n=nl(n),n!==null&&Uf(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),t)}function U1(t,n,s,a,l){switch(n){case"focusin":return Dr=va(Dr,t,n,s,a,l),!0;case"dragenter":return Or=va(Or,t,n,s,a,l),!0;case"mouseover":return Mr=va(Mr,t,n,s,a,l),!0;case"pointerover":var f=l.pointerId;return ja.set(f,va(ja.get(f)||null,t,n,s,a,l)),!0;case"gotpointercapture":return f=l.pointerId,Ba.set(f,va(Ba.get(f)||null,t,n,s,a,l)),!0}return!1}function DA(t){var n=ms(t.target);if(n!==null){var s=ks(n);if(s!==null){if(n=s.tag,n===13){if(n=yA(s),n!==null){t.blockedOn=n,NA(t.priority,function(){PA(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Qh(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var a=new s.constructor(s.type,s);zh=a,s.target.dispatchEvent(a),zh=null}else return n=nl(s),n!==null&&Uf(n),t.blockedOn=s,!1;n.shift()}return!0}function Kg(t,n,s){Tc(t)&&s.delete(n)}function j1(){qh=!1,Dr!==null&&Tc(Dr)&&(Dr=null),Or!==null&&Tc(Or)&&(Or=null),Mr!==null&&Tc(Mr)&&(Mr=null),ja.forEach(Kg),Ba.forEach(Kg)}function ga(t,n){t.blockedOn===n&&(t.blockedOn=null,qh||(qh=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,j1)))}function Ga(t){function n(l){return ga(l,t)}if(0<hc.length){ga(hc[0],t);for(var s=1;s<hc.length;s++){var a=hc[s];a.blockedOn===t&&(a.blockedOn=null)}}for(Dr!==null&&ga(Dr,t),Or!==null&&ga(Or,t),Mr!==null&&ga(Mr,t),ja.forEach(n),Ba.forEach(n),s=0;s<Rr.length;s++)a=Rr[s],a.blockedOn===t&&(a.blockedOn=null);for(;0<Rr.length&&(s=Rr[0],s.blockedOn===null);)DA(s),s.blockedOn===null&&Rr.shift()}var yo=fr.ReactCurrentBatchConfig,Bc=!0;function B1(t,n,s,a){var l=Ct,f=yo.transition;yo.transition=null;try{Ct=1,jf(t,n,s,a)}finally{Ct=l,yo.transition=f}}function G1(t,n,s,a){var l=Ct,f=yo.transition;yo.transition=null;try{Ct=4,jf(t,n,s,a)}finally{Ct=l,yo.transition=f}}function jf(t,n,s,a){if(Bc){var l=Qh(t,n,s,a);if(l===null)Ah(t,n,a,Gc,s),Wg(t,a);else if(U1(l,t,n,s,a))a.stopPropagation();else if(Wg(t,a),n&4&&-1<F1.indexOf(t)){for(;l!==null;){var f=nl(l);if(f!==null&&RA(f),f=Qh(t,n,s,a),f===null&&Ah(t,n,a,Gc,s),f===l)break;l=f}l!==null&&a.stopPropagation()}else Ah(t,n,a,null,s)}}var Gc=null;function Qh(t,n,s,a){if(Gc=null,t=Lf(a),t=ms(t),t!==null)if(n=ks(t),n===null)t=null;else if(s=n.tag,s===13){if(t=yA(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Gc=t,null}function OA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R1()){case _f:return 1;case CA:return 4;case Uc:case P1:return 16;case TA:return 536870912;default:return 16}default:return 16}}var xr=null,Bf=null,kc=null;function MA(){if(kc)return kc;var t,n=Bf,s=n.length,a,l="value"in xr?xr.value:xr.textContent,f=l.length;for(t=0;t<s&&n[t]===l[t];t++);var A=s-t;for(a=1;a<=A&&n[s-a]===l[f-a];a++);return kc=l.slice(t,1<a?1-a:void 0)}function Ic(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function fc(){return!0}function $g(){return!1}function ni(t){function n(s,a,l,f,A){this._reactName=s,this._targetInst=l,this.type=a,this.nativeEvent=f,this.target=A,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(s=t[k],this[k]=s?s(f):f[k]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fc:$g,this.isPropagationStopped=$g,this}return Ft(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),n}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=ni(Do),tl=Ft({},Do,{view:0,detail:0}),V1=ni(tl),ch,dh,Aa,ad=Ft({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Aa&&(Aa&&t.type==="mousemove"?(ch=t.screenX-Aa.screenX,dh=t.screenY-Aa.screenY):dh=ch=0,Aa=t),ch)},movementY:function(t){return"movementY"in t?t.movementY:dh}}),qg=ni(ad),z1=Ft({},ad,{dataTransfer:0}),H1=ni(z1),W1=Ft({},tl,{relatedTarget:0}),uh=ni(W1),K1=Ft({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),$1=ni(K1),q1=Ft({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q1=ni(q1),J1=Ft({},Do,{data:0}),Qg=ni(J1),Y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ew(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Z1[t])?!!n[t]:!1}function Vf(){return ew}var tw=Ft({},tl,{key:function(t){if(t.key){var n=Y1[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ic(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(t){return t.type==="keypress"?Ic(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ic(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nw=ni(tw),iw=Ft({},ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=ni(iw),rw=Ft({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),sw=ni(rw),ow=Ft({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),aw=ni(ow),lw=Ft({},ad,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cw=ni(lw),dw=[9,13,27,32],zf=lr&&"CompositionEvent"in window,Pa=null;lr&&"documentMode"in document&&(Pa=document.documentMode);var uw=lr&&"TextEvent"in window&&!Pa,LA=lr&&(!zf||Pa&&8<Pa&&11>=Pa),Yg=" ",Xg=!1;function _A(t,n){switch(t){case"keyup":return dw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function hw(t,n){switch(t){case"compositionend":return FA(n);case"keypress":return n.which!==32?null:(Xg=!0,Yg);case"textInput":return t=n.data,t===Yg&&Xg?null:t;default:return null}}function fw(t,n){if(oo)return t==="compositionend"||!zf&&_A(t,n)?(t=MA(),kc=Bf=xr=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return LA&&n.locale!=="ko"?null:n.data;default:return null}}var pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!pw[t.type]:n==="textarea"}function UA(t,n,s,a){mA(a),n=Vc(n,"onChange"),0<n.length&&(s=new Gf("onChange","change",null,s,a),t.push({event:s,listeners:n}))}var xa=null,Va=null;function mw(t){QA(t,0)}function ld(t){var n=co(t);if(lA(n))return t}function vw(t,n){if(t==="change")return n}var jA=!1;if(lr){var hh;if(lr){var fh="oninput"in document;if(!fh){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),fh=typeof e0.oninput=="function"}hh=fh}else hh=!1;jA=hh&&(!document.documentMode||9<document.documentMode)}function t0(){xa&&(xa.detachEvent("onpropertychange",BA),Va=xa=null)}function BA(t){if(t.propertyName==="value"&&ld(Va)){var n=[];UA(n,Va,t,Lf(t)),SA(mw,n)}}function gw(t,n,s){t==="focusin"?(t0(),xa=n,Va=s,xa.attachEvent("onpropertychange",BA)):t==="focusout"&&t0()}function Aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ld(Va)}function Sw(t,n){if(t==="click")return ld(n)}function yw(t,n){if(t==="input"||t==="change")return ld(n)}function ww(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ni=typeof Object.is=="function"?Object.is:ww;function za(t,n){if(Ni(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var l=s[a];if(!Nh.call(n,l)||!Ni(t[l],n[l]))return!1}return!0}function n0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i0(t,n){var s=n0(t);t=0;for(var a;s;){if(s.nodeType===3){if(a=t+s.textContent.length,t<=n&&a>=n)return{node:s,offset:n-t};t=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=n0(s)}}function GA(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?GA(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function VA(){for(var t=window,n=Lc();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Lc(t.document)}return n}function Hf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function bw(t){var n=VA(),s=t.focusedElem,a=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&GA(s.ownerDocument.documentElement,s)){if(a!==null&&Hf(s)){if(n=a.start,t=a.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var l=s.textContent.length,f=Math.min(a.start,l);a=a.end===void 0?f:Math.min(a.end,l),!t.extend&&f>a&&(l=a,a=f,f=l),l=i0(s,f);var A=i0(s,a);l&&A&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(n=n.createRange(),n.setStart(l.node,l.offset),t.removeAllRanges(),f>a?(t.addRange(n),t.extend(A.node,A.offset)):(n.setEnd(A.node,A.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ew=lr&&"documentMode"in document&&11>=document.documentMode,ao=null,Jh=null,Na=null,Yh=!1;function r0(t,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yh||ao==null||ao!==Lc(a)||(a=ao,"selectionStart"in a&&Hf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Na&&za(Na,a)||(Na=a,a=Vc(Jh,"onSelect"),0<a.length&&(n=new Gf("onSelect","select",null,n,s),t.push({event:n,listeners:a}),n.target=ao)))}function pc(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var lo={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},ph={},zA={};lr&&(zA=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function cd(t){if(ph[t])return ph[t];if(!lo[t])return t;var n=lo[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in zA)return ph[t]=n[s];return t}var HA=cd("animationend"),WA=cd("animationiteration"),KA=cd("animationstart"),$A=cd("transitionend"),qA=new Map,s0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,n){qA.set(t,n),Ts(n,[t])}for(var mh=0;mh<s0.length;mh++){var vh=s0[mh],Cw=vh.toLowerCase(),Tw=vh[0].toUpperCase()+vh.slice(1);Vr(Cw,"on"+Tw)}Vr(HA,"onAnimationEnd");Vr(WA,"onAnimationIteration");Vr(KA,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr($A,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function o0(t,n,s){var a=t.type||"unknown-event";t.currentTarget=s,C1(a,n,void 0,t),t.currentTarget=null}function QA(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var a=t[s],l=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var A=a.length-1;0<=A;A--){var k=a[A],O=k.instance,b=k.currentTarget;if(k=k.listener,O!==f&&l.isPropagationStopped())break e;o0(l,k,b),f=O}else for(A=0;A<a.length;A++){if(k=a[A],O=k.instance,b=k.currentTarget,k=k.listener,O!==f&&l.isPropagationStopped())break e;o0(l,k,b),f=O}}}if(Fc)throw t=Kh,Fc=!1,Kh=null,t}function Rt(t,n){var s=n[nf];s===void 0&&(s=n[nf]=new Set);var a=t+"__bubble";s.has(a)||(JA(n,t,2,!1),s.add(a))}function gh(t,n,s){var a=0;n&&(a|=4),JA(s,t,a,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function Ha(t){if(!t[mc]){t[mc]=!0,iA.forEach(function(s){s!=="selectionchange"&&(kw.has(s)||gh(s,!1,t),gh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,gh("selectionchange",!1,n))}}function JA(t,n,s,a){switch(OA(n)){case 1:var l=B1;break;case 4:l=G1;break;default:l=jf}s=l.bind(null,n,s,t),l=void 0,!Wh||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(n,s,{capture:!0,passive:l}):t.addEventListener(n,s,!0):l!==void 0?t.addEventListener(n,s,{passive:l}):t.addEventListener(n,s,!1)}function Ah(t,n,s,a,l){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var A=a.tag;if(A===3||A===4){var k=a.stateNode.containerInfo;if(k===l||k.nodeType===8&&k.parentNode===l)break;if(A===4)for(A=a.return;A!==null;){var O=A.tag;if((O===3||O===4)&&(O=A.stateNode.containerInfo,O===l||O.nodeType===8&&O.parentNode===l))return;A=A.return}for(;k!==null;){if(A=ms(k),A===null)return;if(O=A.tag,O===5||O===6){a=f=A;continue e}k=k.parentNode}}a=a.return}SA(function(){var b=f,J=Lf(s),G=[];e:{var K=qA.get(t);if(K!==void 0){var M=Gf,v=t;switch(t){case"keypress":if(Ic(s)===0)break e;case"keydown":case"keyup":M=nw;break;case"focusin":v="focus",M=uh;break;case"focusout":v="blur",M=uh;break;case"beforeblur":case"afterblur":M=uh;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=H1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=sw;break;case HA:case WA:case KA:M=$1;break;case $A:M=aw;break;case"scroll":M=V1;break;case"wheel":M=cw;break;case"copy":case"cut":case"paste":M=Q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Jg}var y=(n&4)!==0,R=!y&&t==="scroll",I=y?K!==null?K+"Capture":null:K;y=[];for(var P=b,j;P!==null;){j=P;var ce=j.stateNode;if(j.tag===5&&ce!==null&&(j=ce,I!==null&&(ce=Ua(P,I),ce!=null&&y.push(Wa(P,ce,j)))),R)break;P=P.return}0<y.length&&(K=new M(K,v,null,s,J),G.push({event:K,listeners:y}))}}if(!(n&7)){e:{if(K=t==="mouseover"||t==="pointerover",M=t==="mouseout"||t==="pointerout",K&&s!==zh&&(v=s.relatedTarget||s.fromElement)&&(ms(v)||v[cr]))break e;if((M||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,M?(v=s.relatedTarget||s.toElement,M=b,v=v?ms(v):null,v!==null&&(R=ks(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(M=null,v=b),M!==v)){if(y=qg,ce="onMouseLeave",I="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(y=Jg,ce="onPointerLeave",I="onPointerEnter",P="pointer"),R=M==null?K:co(M),j=v==null?K:co(v),K=new y(ce,P+"leave",M,s,J),K.target=R,K.relatedTarget=j,ce=null,ms(J)===b&&(y=new y(I,P+"enter",v,s,J),y.target=j,y.relatedTarget=R,ce=y),R=ce,M&&v)t:{for(y=M,I=v,P=0,j=y;j;j=io(j))P++;for(j=0,ce=I;ce;ce=io(ce))j++;for(;0<P-j;)y=io(y),P--;for(;0<j-P;)I=io(I),j--;for(;P--;){if(y===I||I!==null&&y===I.alternate)break t;y=io(y),I=io(I)}y=null}else y=null;M!==null&&a0(G,K,M,y,!1),v!==null&&R!==null&&a0(G,R,v,y,!0)}}e:{if(K=b?co(b):window,M=K.nodeName&&K.nodeName.toLowerCase(),M==="select"||M==="input"&&K.type==="file")var h=vw;else if(Zg(K))if(jA)h=yw;else{h=Aw;var se=gw}else(M=K.nodeName)&&M.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(h=Sw);if(h&&(h=h(t,b))){UA(G,h,s,J);break e}se&&se(t,K,b),t==="focusout"&&(se=K._wrapperState)&&se.controlled&&K.type==="number"&&Uh(K,"number",K.value)}switch(se=b?co(b):window,t){case"focusin":(Zg(se)||se.contentEditable==="true")&&(ao=se,Jh=b,Na=null);break;case"focusout":Na=Jh=ao=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,r0(G,s,J);break;case"selectionchange":if(Ew)break;case"keydown":case"keyup":r0(G,s,J)}var pe;if(zf)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else oo?_A(t,s)&&(we="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(we="onCompositionStart");we&&(LA&&s.locale!=="ko"&&(oo||we!=="onCompositionStart"?we==="onCompositionEnd"&&oo&&(pe=MA()):(xr=J,Bf="value"in xr?xr.value:xr.textContent,oo=!0)),se=Vc(b,we),0<se.length&&(we=new Qg(we,t,null,s,J),G.push({event:we,listeners:se}),pe?we.data=pe:(pe=FA(s),pe!==null&&(we.data=pe)))),(pe=uw?hw(t,s):fw(t,s))&&(b=Vc(b,"onBeforeInput"),0<b.length&&(J=new Qg("onBeforeInput","beforeinput",null,s,J),G.push({event:J,listeners:b}),J.data=pe))}QA(G,n)})}function Wa(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Vc(t,n){for(var s=n+"Capture",a=[];t!==null;){var l=t,f=l.stateNode;l.tag===5&&f!==null&&(l=f,f=Ua(t,s),f!=null&&a.unshift(Wa(t,f,l)),f=Ua(t,n),f!=null&&a.push(Wa(t,f,l))),t=t.return}return a}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a0(t,n,s,a,l){for(var f=n._reactName,A=[];s!==null&&s!==a;){var k=s,O=k.alternate,b=k.stateNode;if(O!==null&&O===a)break;k.tag===5&&b!==null&&(k=b,l?(O=Ua(s,f),O!=null&&A.unshift(Wa(s,O,k))):l||(O=Ua(s,f),O!=null&&A.push(Wa(s,O,k)))),s=s.return}A.length!==0&&t.push({event:n,listeners:A})}var Iw=/\r\n?/g,Rw=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(Iw,`
`).replace(Rw,"")}function vc(t,n,s){if(n=l0(n),l0(t)!==n&&s)throw Error(Pe(425))}function zc(){}var Xh=null,Zh=null;function ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,xw=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(t){return c0.resolve(null).then(t).catch(Nw)}:tf;function Nw(t){setTimeout(function(){throw t})}function Sh(t,n){var s=n,a=0;do{var l=s.nextSibling;if(t.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(a===0){t.removeChild(l),Ga(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=l}while(s);Ga(n)}function Lr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function d0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),zi="__reactFiber$"+Oo,Ka="__reactProps$"+Oo,cr="__reactContainer$"+Oo,nf="__reactEvents$"+Oo,Dw="__reactListeners$"+Oo,Ow="__reactHandles$"+Oo;function ms(t){var n=t[zi];if(n)return n;for(var s=t.parentNode;s;){if(n=s[cr]||s[zi]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=d0(t);t!==null;){if(s=t[zi])return s;t=d0(t)}return n}t=s,s=t.parentNode}return null}function nl(t){return t=t[zi]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Pe(33))}function dd(t){return t[Ka]||null}var rf=[],uo=-1;function zr(t){return{current:t}}function Pt(t){0>uo||(t.current=rf[uo],rf[uo]=null,uo--)}function kt(t,n){uo++,rf[uo]=t.current,t.current=n}var Gr={},vn=zr(Gr),Fn=zr(!1),ys=Gr;function To(t,n){var s=t.type.contextTypes;if(!s)return Gr;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var l={},f;for(f in s)l[f]=n[f];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=l),l}function Un(t){return t=t.childContextTypes,t!=null}function Hc(){Pt(Fn),Pt(vn)}function u0(t,n,s){if(vn.current!==Gr)throw Error(Pe(168));kt(vn,n),kt(Fn,s)}function YA(t,n,s){var a=t.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var l in a)if(!(l in n))throw Error(Pe(108,g1(t)||"Unknown",l));return Ft({},s,a)}function Wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gr,ys=vn.current,kt(vn,t),kt(Fn,Fn.current),!0}function h0(t,n,s){var a=t.stateNode;if(!a)throw Error(Pe(169));s?(t=YA(t,n,ys),a.__reactInternalMemoizedMergedChildContext=t,Pt(Fn),Pt(vn),kt(vn,t)):Pt(Fn),kt(Fn,s)}var rr=null,ud=!1,yh=!1;function XA(t){rr===null?rr=[t]:rr.push(t)}function Mw(t){ud=!0,XA(t)}function Hr(){if(!yh&&rr!==null){yh=!0;var t=0,n=Ct;try{var s=rr;for(Ct=1;t<s.length;t++){var a=s[t];do a=a(!0);while(a!==null)}rr=null,ud=!1}catch(l){throw rr!==null&&(rr=rr.slice(t+1)),EA(_f,Hr),l}finally{Ct=n,yh=!1}}return null}var ho=[],fo=0,Kc=null,$c=0,ci=[],di=0,ws=null,sr=1,or="";function hs(t,n){ho[fo++]=$c,ho[fo++]=Kc,Kc=t,$c=n}function ZA(t,n,s){ci[di++]=sr,ci[di++]=or,ci[di++]=ws,ws=t;var a=sr;t=or;var l=32-Pi(a)-1;a&=~(1<<l),s+=1;var f=32-Pi(n)+l;if(30<f){var A=l-l%5;f=(a&(1<<A)-1).toString(32),a>>=A,l-=A,sr=1<<32-Pi(n)+l|s<<l|a,or=f+t}else sr=1<<f|s<<l|a,or=t}function Wf(t){t.return!==null&&(hs(t,1),ZA(t,1,0))}function Kf(t){for(;t===Kc;)Kc=ho[--fo],ho[fo]=null,$c=ho[--fo],ho[fo]=null;for(;t===ws;)ws=ci[--di],ci[di]=null,or=ci[--di],ci[di]=null,sr=ci[--di],ci[di]=null}var Zn=null,Xn=null,Ot=!1,Ri=null;function eS(t,n){var s=ui(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function f0(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Zn=t,Xn=Lr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Zn=t,Xn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ws!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=ui(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,Zn=t,Xn=null,!0):!1;default:return!1}}function sf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function of(t){if(Ot){var n=Xn;if(n){var s=n;if(!f0(t,n)){if(sf(t))throw Error(Pe(418));n=Lr(s.nextSibling);var a=Zn;n&&f0(t,n)?eS(a,s):(t.flags=t.flags&-4097|2,Ot=!1,Zn=t)}}else{if(sf(t))throw Error(Pe(418));t.flags=t.flags&-4097|2,Ot=!1,Zn=t}}}function p0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function gc(t){if(t!==Zn)return!1;if(!Ot)return p0(t),Ot=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!ef(t.type,t.memoizedProps)),n&&(n=Xn)){if(sf(t))throw tS(),Error(Pe(418));for(;n;)eS(t,n),n=Lr(n.nextSibling)}if(p0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Pe(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){Xn=Lr(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}Xn=null}}else Xn=Zn?Lr(t.stateNode.nextSibling):null;return!0}function tS(){for(var t=Xn;t;)t=Lr(t.nextSibling)}function ko(){Xn=Zn=null,Ot=!1}function $f(t){Ri===null?Ri=[t]:Ri.push(t)}var Lw=fr.ReactCurrentBatchConfig;function Sa(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Pe(309));var a=s.stateNode}if(!a)throw Error(Pe(147,t));var l=a,f=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(A){var k=l.refs;A===null?delete k[f]:k[f]=A},n._stringRef=f,n)}if(typeof t!="string")throw Error(Pe(284));if(!s._owner)throw Error(Pe(290,t))}return t}function Ac(t,n){throw t=Object.prototype.toString.call(n),Error(Pe(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function m0(t){var n=t._init;return n(t._payload)}function nS(t){function n(I,P){if(t){var j=I.deletions;j===null?(I.deletions=[P],I.flags|=16):j.push(P)}}function s(I,P){if(!t)return null;for(;P!==null;)n(I,P),P=P.sibling;return null}function a(I,P){for(I=new Map;P!==null;)P.key!==null?I.set(P.key,P):I.set(P.index,P),P=P.sibling;return I}function l(I,P){return I=jr(I,P),I.index=0,I.sibling=null,I}function f(I,P,j){return I.index=j,t?(j=I.alternate,j!==null?(j=j.index,j<P?(I.flags|=2,P):j):(I.flags|=2,P)):(I.flags|=1048576,P)}function A(I){return t&&I.alternate===null&&(I.flags|=2),I}function k(I,P,j,ce){return P===null||P.tag!==6?(P=Ih(j,I.mode,ce),P.return=I,P):(P=l(P,j),P.return=I,P)}function O(I,P,j,ce){var h=j.type;return h===so?J(I,P,j.props.children,ce,j.key):P!==null&&(P.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===kr&&m0(h)===P.type)?(ce=l(P,j.props),ce.ref=Sa(I,P,j),ce.return=I,ce):(ce=Mc(j.type,j.key,j.props,null,I.mode,ce),ce.ref=Sa(I,P,j),ce.return=I,ce)}function b(I,P,j,ce){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=Rh(j,I.mode,ce),P.return=I,P):(P=l(P,j.children||[]),P.return=I,P)}function J(I,P,j,ce,h){return P===null||P.tag!==7?(P=Ss(j,I.mode,ce,h),P.return=I,P):(P=l(P,j),P.return=I,P)}function G(I,P,j){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Ih(""+P,I.mode,j),P.return=I,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ac:return j=Mc(P.type,P.key,P.props,null,I.mode,j),j.ref=Sa(I,null,P),j.return=I,j;case ro:return P=Rh(P,I.mode,j),P.return=I,P;case kr:var ce=P._init;return G(I,ce(P._payload),j)}if(Ea(P)||pa(P))return P=Ss(P,I.mode,j,null),P.return=I,P;Ac(I,P)}return null}function K(I,P,j,ce){var h=P!==null?P.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return h!==null?null:k(I,P,""+j,ce);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ac:return j.key===h?O(I,P,j,ce):null;case ro:return j.key===h?b(I,P,j,ce):null;case kr:return h=j._init,K(I,P,h(j._payload),ce)}if(Ea(j)||pa(j))return h!==null?null:J(I,P,j,ce,null);Ac(I,j)}return null}function M(I,P,j,ce,h){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return I=I.get(j)||null,k(P,I,""+ce,h);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case ac:return I=I.get(ce.key===null?j:ce.key)||null,O(P,I,ce,h);case ro:return I=I.get(ce.key===null?j:ce.key)||null,b(P,I,ce,h);case kr:var se=ce._init;return M(I,P,j,se(ce._payload),h)}if(Ea(ce)||pa(ce))return I=I.get(j)||null,J(P,I,ce,h,null);Ac(P,ce)}return null}function v(I,P,j,ce){for(var h=null,se=null,pe=P,we=P=0,Be=null;pe!==null&&we<j.length;we++){pe.index>we?(Be=pe,pe=null):Be=pe.sibling;var Se=K(I,pe,j[we],ce);if(Se===null){pe===null&&(pe=Be);break}t&&pe&&Se.alternate===null&&n(I,pe),P=f(Se,P,we),se===null?h=Se:se.sibling=Se,se=Se,pe=Be}if(we===j.length)return s(I,pe),Ot&&hs(I,we),h;if(pe===null){for(;we<j.length;we++)pe=G(I,j[we],ce),pe!==null&&(P=f(pe,P,we),se===null?h=pe:se.sibling=pe,se=pe);return Ot&&hs(I,we),h}for(pe=a(I,pe);we<j.length;we++)Be=M(pe,I,we,j[we],ce),Be!==null&&(t&&Be.alternate!==null&&pe.delete(Be.key===null?we:Be.key),P=f(Be,P,we),se===null?h=Be:se.sibling=Be,se=Be);return t&&pe.forEach(function(Je){return n(I,Je)}),Ot&&hs(I,we),h}function y(I,P,j,ce){var h=pa(j);if(typeof h!="function")throw Error(Pe(150));if(j=h.call(j),j==null)throw Error(Pe(151));for(var se=h=null,pe=P,we=P=0,Be=null,Se=j.next();pe!==null&&!Se.done;we++,Se=j.next()){pe.index>we?(Be=pe,pe=null):Be=pe.sibling;var Je=K(I,pe,Se.value,ce);if(Je===null){pe===null&&(pe=Be);break}t&&pe&&Je.alternate===null&&n(I,pe),P=f(Je,P,we),se===null?h=Je:se.sibling=Je,se=Je,pe=Be}if(Se.done)return s(I,pe),Ot&&hs(I,we),h;if(pe===null){for(;!Se.done;we++,Se=j.next())Se=G(I,Se.value,ce),Se!==null&&(P=f(Se,P,we),se===null?h=Se:se.sibling=Se,se=Se);return Ot&&hs(I,we),h}for(pe=a(I,pe);!Se.done;we++,Se=j.next())Se=M(pe,I,we,Se.value,ce),Se!==null&&(t&&Se.alternate!==null&&pe.delete(Se.key===null?we:Se.key),P=f(Se,P,we),se===null?h=Se:se.sibling=Se,se=Se);return t&&pe.forEach(function(F){return n(I,F)}),Ot&&hs(I,we),h}function R(I,P,j,ce){if(typeof j=="object"&&j!==null&&j.type===so&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ac:e:{for(var h=j.key,se=P;se!==null;){if(se.key===h){if(h=j.type,h===so){if(se.tag===7){s(I,se.sibling),P=l(se,j.props.children),P.return=I,I=P;break e}}else if(se.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===kr&&m0(h)===se.type){s(I,se.sibling),P=l(se,j.props),P.ref=Sa(I,se,j),P.return=I,I=P;break e}s(I,se);break}else n(I,se);se=se.sibling}j.type===so?(P=Ss(j.props.children,I.mode,ce,j.key),P.return=I,I=P):(ce=Mc(j.type,j.key,j.props,null,I.mode,ce),ce.ref=Sa(I,P,j),ce.return=I,I=ce)}return A(I);case ro:e:{for(se=j.key;P!==null;){if(P.key===se)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){s(I,P.sibling),P=l(P,j.children||[]),P.return=I,I=P;break e}else{s(I,P);break}else n(I,P);P=P.sibling}P=Rh(j,I.mode,ce),P.return=I,I=P}return A(I);case kr:return se=j._init,R(I,P,se(j._payload),ce)}if(Ea(j))return v(I,P,j,ce);if(pa(j))return y(I,P,j,ce);Ac(I,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,P!==null&&P.tag===6?(s(I,P.sibling),P=l(P,j),P.return=I,I=P):(s(I,P),P=Ih(j,I.mode,ce),P.return=I,I=P),A(I)):s(I,P)}return R}var Io=nS(!0),iS=nS(!1),qc=zr(null),Qc=null,po=null,qf=null;function Qf(){qf=po=Qc=null}function Jf(t){var n=qc.current;Pt(qc),t._currentValue=n}function af(t,n,s){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===s)break;t=t.return}}function wo(t,n){Qc=t,qf=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(_n=!0),t.firstContext=null)}function fi(t){var n=t._currentValue;if(qf!==t)if(t={context:t,memoizedValue:n,next:null},po===null){if(Qc===null)throw Error(Pe(308));po=t,Qc.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return n}var vs=null;function Yf(t){vs===null?vs=[t]:vs.push(t)}function rS(t,n,s,a){var l=n.interleaved;return l===null?(s.next=s,Yf(n)):(s.next=l.next,l.next=s),n.interleaved=s,dr(t,a)}function dr(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Ir=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sS(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function _r(t,n,s){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,gt&2){var l=a.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),a.pending=n,dr(t,s)}return l=a.interleaved,l===null?(n.next=n,Yf(a)):(n.next=l.next,l.next=n),a.interleaved=n,dr(t,s)}function Rc(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=t.pendingLanes,s|=a,n.lanes=s,Ff(t,s)}}function v0(t,n){var s=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var l=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var A={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?l=f=A:f=f.next=A,s=s.next}while(s!==null);f===null?l=f=n:f=f.next=n}else l=f=n;s={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:f,shared:a.shared,effects:a.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function Jc(t,n,s,a){var l=t.updateQueue;Ir=!1;var f=l.firstBaseUpdate,A=l.lastBaseUpdate,k=l.shared.pending;if(k!==null){l.shared.pending=null;var O=k,b=O.next;O.next=null,A===null?f=b:A.next=b,A=O;var J=t.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==A&&(k===null?J.firstBaseUpdate=b:k.next=b,J.lastBaseUpdate=O))}if(f!==null){var G=l.baseState;A=0,J=b=O=null,k=f;do{var K=k.lane,M=k.eventTime;if((a&K)===K){J!==null&&(J=J.next={eventTime:M,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var v=t,y=k;switch(K=n,M=s,y.tag){case 1:if(v=y.payload,typeof v=="function"){G=v.call(M,G,K);break e}G=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,K=typeof v=="function"?v.call(M,G,K):v,K==null)break e;G=Ft({},G,K);break e;case 2:Ir=!0}}k.callback!==null&&k.lane!==0&&(t.flags|=64,K=l.effects,K===null?l.effects=[k]:K.push(k))}else M={eventTime:M,lane:K,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(b=J=M,O=G):J=J.next=M,A|=K;if(k=k.next,k===null){if(k=l.shared.pending,k===null)break;K=k,k=K.next,K.next=null,l.lastBaseUpdate=K,l.shared.pending=null}}while(!0);if(J===null&&(O=G),l.baseState=O,l.firstBaseUpdate=b,l.lastBaseUpdate=J,n=l.shared.interleaved,n!==null){l=n;do A|=l.lane,l=l.next;while(l!==n)}else f===null&&(l.shared.lanes=0);Es|=A,t.lanes=A,t.memoizedState=G}}function g0(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var a=t[n],l=a.callback;if(l!==null){if(a.callback=null,a=s,typeof l!="function")throw Error(Pe(191,l));l.call(a)}}}var il={},Wi=zr(il),$a=zr(il),qa=zr(il);function gs(t){if(t===il)throw Error(Pe(174));return t}function Zf(t,n){switch(kt(qa,n),kt($a,t),kt(Wi,il),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Bh(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Bh(n,t)}Pt(Wi),kt(Wi,n)}function Ro(){Pt(Wi),Pt($a),Pt(qa)}function oS(t){gs(qa.current);var n=gs(Wi.current),s=Bh(n,t.type);n!==s&&(kt($a,t),kt(Wi,s))}function ep(t){$a.current===t&&(Pt(Wi),Pt($a))}var Lt=zr(0);function Yc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wh=[];function tp(){for(var t=0;t<wh.length;t++)wh[t]._workInProgressVersionPrimary=null;wh.length=0}var Pc=fr.ReactCurrentDispatcher,bh=fr.ReactCurrentBatchConfig,bs=0,_t=null,qt=null,Zt=null,Xc=!1,Da=!1,Qa=0,_w=0;function fn(){throw Error(Pe(321))}function np(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Ni(t[s],n[s]))return!1;return!0}function ip(t,n,s,a,l,f){if(bs=f,_t=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Pc.current=t===null||t.memoizedState===null?Bw:Gw,t=s(a,l),Da){f=0;do{if(Da=!1,Qa=0,25<=f)throw Error(Pe(301));f+=1,Zt=qt=null,n.updateQueue=null,Pc.current=Vw,t=s(a,l)}while(Da)}if(Pc.current=Zc,n=qt!==null&&qt.next!==null,bs=0,Zt=qt=_t=null,Xc=!1,n)throw Error(Pe(300));return t}function rp(){var t=Qa!==0;return Qa=0,t}function Vi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?_t.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function pi(){if(qt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var n=Zt===null?_t.memoizedState:Zt.next;if(n!==null)Zt=n,qt=t;else{if(t===null)throw Error(Pe(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Zt===null?_t.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function Ja(t,n){return typeof n=="function"?n(t):n}function Eh(t){var n=pi(),s=n.queue;if(s===null)throw Error(Pe(311));s.lastRenderedReducer=t;var a=qt,l=a.baseQueue,f=s.pending;if(f!==null){if(l!==null){var A=l.next;l.next=f.next,f.next=A}a.baseQueue=l=f,s.pending=null}if(l!==null){f=l.next,a=a.baseState;var k=A=null,O=null,b=f;do{var J=b.lane;if((bs&J)===J)O!==null&&(O=O.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),a=b.hasEagerState?b.eagerState:t(a,b.action);else{var G={lane:J,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};O===null?(k=O=G,A=a):O=O.next=G,_t.lanes|=J,Es|=J}b=b.next}while(b!==null&&b!==f);O===null?A=a:O.next=k,Ni(a,n.memoizedState)||(_n=!0),n.memoizedState=a,n.baseState=A,n.baseQueue=O,s.lastRenderedState=a}if(t=s.interleaved,t!==null){l=t;do f=l.lane,_t.lanes|=f,Es|=f,l=l.next;while(l!==t)}else l===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Ch(t){var n=pi(),s=n.queue;if(s===null)throw Error(Pe(311));s.lastRenderedReducer=t;var a=s.dispatch,l=s.pending,f=n.memoizedState;if(l!==null){s.pending=null;var A=l=l.next;do f=t(f,A.action),A=A.next;while(A!==l);Ni(f,n.memoizedState)||(_n=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,a]}function aS(){}function lS(t,n){var s=_t,a=pi(),l=n(),f=!Ni(a.memoizedState,l);if(f&&(a.memoizedState=l,_n=!0),a=a.queue,sp(uS.bind(null,s,a,t),[t]),a.getSnapshot!==n||f||Zt!==null&&Zt.memoizedState.tag&1){if(s.flags|=2048,Ya(9,dS.bind(null,s,a,l,n),void 0,null),en===null)throw Error(Pe(349));bs&30||cS(s,n,l)}return l}function cS(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=_t.updateQueue,n===null?(n={lastEffect:null,stores:null},_t.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function dS(t,n,s,a){n.value=s,n.getSnapshot=a,hS(n)&&fS(t)}function uS(t,n,s){return s(function(){hS(n)&&fS(t)})}function hS(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Ni(t,s)}catch{return!0}}function fS(t){var n=dr(t,1);n!==null&&xi(n,t,1,-1)}function A0(t){var n=Vi();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:t},n.queue=t,t=t.dispatch=jw.bind(null,_t,t),[n.memoizedState,t]}function Ya(t,n,s,a){return t={tag:t,create:n,destroy:s,deps:a,next:null},n=_t.updateQueue,n===null?(n={lastEffect:null,stores:null},_t.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(a=s.next,s.next=t,t.next=a,n.lastEffect=t)),t}function pS(){return pi().memoizedState}function xc(t,n,s,a){var l=Vi();_t.flags|=t,l.memoizedState=Ya(1|n,s,void 0,a===void 0?null:a)}function hd(t,n,s,a){var l=pi();a=a===void 0?null:a;var f=void 0;if(qt!==null){var A=qt.memoizedState;if(f=A.destroy,a!==null&&np(a,A.deps)){l.memoizedState=Ya(n,s,f,a);return}}_t.flags|=t,l.memoizedState=Ya(1|n,s,f,a)}function S0(t,n){return xc(8390656,8,t,n)}function sp(t,n){return hd(2048,8,t,n)}function mS(t,n){return hd(4,2,t,n)}function vS(t,n){return hd(4,4,t,n)}function gS(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function AS(t,n,s){return s=s!=null?s.concat([t]):null,hd(4,4,gS.bind(null,n,t),s)}function op(){}function SS(t,n){var s=pi();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&np(n,a[1])?a[0]:(s.memoizedState=[t,n],t)}function yS(t,n){var s=pi();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&np(n,a[1])?a[0]:(t=t(),s.memoizedState=[t,n],t)}function wS(t,n,s){return bs&21?(Ni(s,n)||(s=kA(),_t.lanes|=s,Es|=s,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=s)}function Fw(t,n){var s=Ct;Ct=s!==0&&4>s?s:4,t(!0);var a=bh.transition;bh.transition={};try{t(!1),n()}finally{Ct=s,bh.transition=a}}function bS(){return pi().memoizedState}function Uw(t,n,s){var a=Ur(t);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},ES(t))CS(n,s);else if(s=rS(t,n,s,a),s!==null){var l=wn();xi(s,t,a,l),TS(s,n,a)}}function jw(t,n,s){var a=Ur(t),l={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(ES(t))CS(n,l);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var A=n.lastRenderedState,k=f(A,s);if(l.hasEagerState=!0,l.eagerState=k,Ni(k,A)){var O=n.interleaved;O===null?(l.next=l,Yf(n)):(l.next=O.next,O.next=l),n.interleaved=l;return}}catch{}finally{}s=rS(t,n,l,a),s!==null&&(l=wn(),xi(s,t,a,l),TS(s,n,a))}}function ES(t){var n=t.alternate;return t===_t||n!==null&&n===_t}function CS(t,n){Da=Xc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function TS(t,n,s){if(s&4194240){var a=n.lanes;a&=t.pendingLanes,s|=a,n.lanes=s,Ff(t,s)}}var Zc={readContext:fi,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},Bw={readContext:fi,useCallback:function(t,n){return Vi().memoizedState=[t,n===void 0?null:n],t},useContext:fi,useEffect:S0,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,xc(4194308,4,gS.bind(null,n,t),s)},useLayoutEffect:function(t,n){return xc(4194308,4,t,n)},useInsertionEffect:function(t,n){return xc(4,2,t,n)},useMemo:function(t,n){var s=Vi();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var a=Vi();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=Uw.bind(null,_t,t),[a.memoizedState,t]},useRef:function(t){var n=Vi();return t={current:t},n.memoizedState=t},useState:A0,useDebugValue:op,useDeferredValue:function(t){return Vi().memoizedState=t},useTransition:function(){var t=A0(!1),n=t[0];return t=Fw.bind(null,t[1]),Vi().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var a=_t,l=Vi();if(Ot){if(s===void 0)throw Error(Pe(407));s=s()}else{if(s=n(),en===null)throw Error(Pe(349));bs&30||cS(a,n,s)}l.memoizedState=s;var f={value:s,getSnapshot:n};return l.queue=f,S0(uS.bind(null,a,f,t),[t]),a.flags|=2048,Ya(9,dS.bind(null,a,f,s,n),void 0,null),s},useId:function(){var t=Vi(),n=en.identifierPrefix;if(Ot){var s=or,a=sr;s=(a&~(1<<32-Pi(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=Qa++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=_w++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Gw={readContext:fi,useCallback:SS,useContext:fi,useEffect:sp,useImperativeHandle:AS,useInsertionEffect:mS,useLayoutEffect:vS,useMemo:yS,useReducer:Eh,useRef:pS,useState:function(){return Eh(Ja)},useDebugValue:op,useDeferredValue:function(t){var n=pi();return wS(n,qt.memoizedState,t)},useTransition:function(){var t=Eh(Ja)[0],n=pi().memoizedState;return[t,n]},useMutableSource:aS,useSyncExternalStore:lS,useId:bS,unstable_isNewReconciler:!1},Vw={readContext:fi,useCallback:SS,useContext:fi,useEffect:sp,useImperativeHandle:AS,useInsertionEffect:mS,useLayoutEffect:vS,useMemo:yS,useReducer:Ch,useRef:pS,useState:function(){return Ch(Ja)},useDebugValue:op,useDeferredValue:function(t){var n=pi();return qt===null?n.memoizedState=t:wS(n,qt.memoizedState,t)},useTransition:function(){var t=Ch(Ja)[0],n=pi().memoizedState;return[t,n]},useMutableSource:aS,useSyncExternalStore:lS,useId:bS,unstable_isNewReconciler:!1};function Ti(t,n){if(t&&t.defaultProps){n=Ft({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function lf(t,n,s,a){n=t.memoizedState,s=s(a,n),s=s==null?n:Ft({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var fd={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var a=wn(),l=Ur(t),f=ar(a,l);f.payload=n,s!=null&&(f.callback=s),n=_r(t,f,l),n!==null&&(xi(n,t,l,a),Rc(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var a=wn(),l=Ur(t),f=ar(a,l);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=_r(t,f,l),n!==null&&(xi(n,t,l,a),Rc(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=wn(),a=Ur(t),l=ar(s,a);l.tag=2,n!=null&&(l.callback=n),n=_r(t,l,a),n!==null&&(xi(n,t,a,s),Rc(n,t,a))}};function y0(t,n,s,a,l,f,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,A):n.prototype&&n.prototype.isPureReactComponent?!za(s,a)||!za(l,f):!0}function kS(t,n,s){var a=!1,l=Gr,f=n.contextType;return typeof f=="object"&&f!==null?f=fi(f):(l=Un(n)?ys:vn.current,a=n.contextTypes,f=(a=a!=null)?To(t,l):Gr),n=new n(s,f),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=fd,t.stateNode=n,n._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=f),n}function w0(t,n,s,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==t&&fd.enqueueReplaceState(n,n.state,null)}function cf(t,n,s,a){var l=t.stateNode;l.props=s,l.state=t.memoizedState,l.refs={},Xf(t);var f=n.contextType;typeof f=="object"&&f!==null?l.context=fi(f):(f=Un(n)?ys:vn.current,l.context=To(t,f)),l.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(lf(t,n,f,s),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(n=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),n!==l.state&&fd.enqueueReplaceState(l,l.state,null),Jc(t,s,l,a),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function Po(t,n){try{var s="",a=n;do s+=v1(a),a=a.return;while(a);var l=s}catch(f){l=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:n,stack:l,digest:null}}function Th(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function df(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var zw=typeof WeakMap=="function"?WeakMap:Map;function IS(t,n,s){s=ar(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){td||(td=!0,yf=a),df(t,n)},s}function RS(t,n,s){s=ar(-1,s),s.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var l=n.value;s.payload=function(){return a(l)},s.callback=function(){df(t,n)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){df(t,n),typeof a!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var A=n.stack;this.componentDidCatch(n.value,{componentStack:A!==null?A:""})}),s}function b0(t,n,s){var a=t.pingCache;if(a===null){a=t.pingCache=new zw;var l=new Set;a.set(n,l)}else l=a.get(n),l===void 0&&(l=new Set,a.set(n,l));l.has(s)||(l.add(s),t=ib.bind(null,t,n,s),n.then(t,t))}function E0(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function C0(t,n,s,a,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=ar(-1,1),n.tag=2,_r(s,n,1))),s.lanes|=1),t)}var Hw=fr.ReactCurrentOwner,_n=!1;function yn(t,n,s,a){n.child=t===null?iS(n,null,s,a):Io(n,t.child,s,a)}function T0(t,n,s,a,l){s=s.render;var f=n.ref;return wo(n,l),a=ip(t,n,s,a,f,l),s=rp(),t!==null&&!_n?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~l,ur(t,n,l)):(Ot&&s&&Wf(n),n.flags|=1,yn(t,n,a,l),n.child)}function k0(t,n,s,a,l){if(t===null){var f=s.type;return typeof f=="function"&&!pp(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,PS(t,n,f,a,l)):(t=Mc(s.type,null,a,n,n.mode,l),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!(t.lanes&l)){var A=f.memoizedProps;if(s=s.compare,s=s!==null?s:za,s(A,a)&&t.ref===n.ref)return ur(t,n,l)}return n.flags|=1,t=jr(f,a),t.ref=n.ref,t.return=n,n.child=t}function PS(t,n,s,a,l){if(t!==null){var f=t.memoizedProps;if(za(f,a)&&t.ref===n.ref)if(_n=!1,n.pendingProps=a=f,(t.lanes&l)!==0)t.flags&131072&&(_n=!0);else return n.lanes=t.lanes,ur(t,n,l)}return uf(t,n,s,a,l)}function xS(t,n,s){var a=n.pendingProps,l=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(vo,Yn),Yn|=s;else{if(!(s&1073741824))return t=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,kt(vo,Yn),Yn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:s,kt(vo,Yn),Yn|=a}else f!==null?(a=f.baseLanes|s,n.memoizedState=null):a=s,kt(vo,Yn),Yn|=a;return yn(t,n,l,s),n.child}function NS(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function uf(t,n,s,a,l){var f=Un(s)?ys:vn.current;return f=To(n,f),wo(n,l),s=ip(t,n,s,a,f,l),a=rp(),t!==null&&!_n?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~l,ur(t,n,l)):(Ot&&a&&Wf(n),n.flags|=1,yn(t,n,s,l),n.child)}function I0(t,n,s,a,l){if(Un(s)){var f=!0;Wc(n)}else f=!1;if(wo(n,l),n.stateNode===null)Nc(t,n),kS(n,s,a),cf(n,s,a,l),a=!0;else if(t===null){var A=n.stateNode,k=n.memoizedProps;A.props=k;var O=A.context,b=s.contextType;typeof b=="object"&&b!==null?b=fi(b):(b=Un(s)?ys:vn.current,b=To(n,b));var J=s.getDerivedStateFromProps,G=typeof J=="function"||typeof A.getSnapshotBeforeUpdate=="function";G||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(k!==a||O!==b)&&w0(n,A,a,b),Ir=!1;var K=n.memoizedState;A.state=K,Jc(n,a,A,l),O=n.memoizedState,k!==a||K!==O||Fn.current||Ir?(typeof J=="function"&&(lf(n,s,J,a),O=n.memoizedState),(k=Ir||y0(n,s,k,a,K,O,b))?(G||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(n.flags|=4194308)):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=O),A.props=a,A.state=O,A.context=b,a=k):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{A=n.stateNode,sS(t,n),k=n.memoizedProps,b=n.type===n.elementType?k:Ti(n.type,k),A.props=b,G=n.pendingProps,K=A.context,O=s.contextType,typeof O=="object"&&O!==null?O=fi(O):(O=Un(s)?ys:vn.current,O=To(n,O));var M=s.getDerivedStateFromProps;(J=typeof M=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(k!==G||K!==O)&&w0(n,A,a,O),Ir=!1,K=n.memoizedState,A.state=K,Jc(n,a,A,l);var v=n.memoizedState;k!==G||K!==v||Fn.current||Ir?(typeof M=="function"&&(lf(n,s,M,a),v=n.memoizedState),(b=Ir||y0(n,s,b,a,K,v,O)||!1)?(J||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(a,v,O),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(a,v,O)),typeof A.componentDidUpdate=="function"&&(n.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof A.componentDidUpdate!="function"||k===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=v),A.props=a,A.state=v,A.context=O,a=b):(typeof A.componentDidUpdate!="function"||k===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),a=!1)}return hf(t,n,s,a,f,l)}function hf(t,n,s,a,l,f){NS(t,n);var A=(n.flags&128)!==0;if(!a&&!A)return l&&h0(n,s,!1),ur(t,n,f);a=n.stateNode,Hw.current=n;var k=A&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,t!==null&&A?(n.child=Io(n,t.child,null,f),n.child=Io(n,null,k,f)):yn(t,n,k,f),n.memoizedState=a.state,l&&h0(n,s,!0),n.child}function DS(t){var n=t.stateNode;n.pendingContext?u0(t,n.pendingContext,n.pendingContext!==n.context):n.context&&u0(t,n.context,!1),Zf(t,n.containerInfo)}function R0(t,n,s,a,l){return ko(),$f(l),n.flags|=256,yn(t,n,s,a),n.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function pf(t){return{baseLanes:t,cachePool:null,transitions:null}}function OS(t,n,s){var a=n.pendingProps,l=Lt.current,f=!1,A=(n.flags&128)!==0,k;if((k=A)||(k=t!==null&&t.memoizedState===null?!1:(l&2)!==0),k?(f=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),kt(Lt,l&1),t===null)return of(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(A=a.children,t=a.fallback,f?(a=n.mode,f=n.child,A={mode:"hidden",children:A},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=A):f=vd(A,a,0,null),t=Ss(t,a,s,null),f.return=n,t.return=n,f.sibling=t,n.child=f,n.child.memoizedState=pf(s),n.memoizedState=ff,t):ap(n,A));if(l=t.memoizedState,l!==null&&(k=l.dehydrated,k!==null))return Ww(t,n,A,a,k,l,s);if(f){f=a.fallback,A=n.mode,l=t.child,k=l.sibling;var O={mode:"hidden",children:a.children};return!(A&1)&&n.child!==l?(a=n.child,a.childLanes=0,a.pendingProps=O,n.deletions=null):(a=jr(l,O),a.subtreeFlags=l.subtreeFlags&14680064),k!==null?f=jr(k,f):(f=Ss(f,A,s,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,A=t.child.memoizedState,A=A===null?pf(s):{baseLanes:A.baseLanes|s,cachePool:null,transitions:A.transitions},f.memoizedState=A,f.childLanes=t.childLanes&~s,n.memoizedState=ff,a}return f=t.child,t=f.sibling,a=jr(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=a,n.memoizedState=null,a}function ap(t,n){return n=vd({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Sc(t,n,s,a){return a!==null&&$f(a),Io(n,t.child,null,s),t=ap(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ww(t,n,s,a,l,f,A){if(s)return n.flags&256?(n.flags&=-257,a=Th(Error(Pe(422))),Sc(t,n,A,a)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(f=a.fallback,l=n.mode,a=vd({mode:"visible",children:a.children},l,0,null),f=Ss(f,l,A,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&Io(n,t.child,null,A),n.child.memoizedState=pf(A),n.memoizedState=ff,f);if(!(n.mode&1))return Sc(t,n,A,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var k=a.dgst;return a=k,f=Error(Pe(419)),a=Th(f,a,void 0),Sc(t,n,A,a)}if(k=(A&t.childLanes)!==0,_n||k){if(a=en,a!==null){switch(A&-A){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(a.suspendedLanes|A)?0:l,l!==0&&l!==f.retryLane&&(f.retryLane=l,dr(t,l),xi(a,t,l,-1))}return fp(),a=Th(Error(Pe(421))),Sc(t,n,A,a)}return l.data==="$?"?(n.flags|=128,n.child=t.child,n=rb.bind(null,t),l._reactRetry=n,null):(t=f.treeContext,Xn=Lr(l.nextSibling),Zn=n,Ot=!0,Ri=null,t!==null&&(ci[di++]=sr,ci[di++]=or,ci[di++]=ws,sr=t.id,or=t.overflow,ws=n),n=ap(n,a.children),n.flags|=4096,n)}function P0(t,n,s){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),af(t.return,n,s)}function kh(t,n,s,a,l){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:l}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=s,f.tailMode=l)}function MS(t,n,s){var a=n.pendingProps,l=a.revealOrder,f=a.tail;if(yn(t,n,a.children,s),a=Lt.current,a&2)a=a&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P0(t,s,n);else if(t.tag===19)P0(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(kt(Lt,a),!(n.mode&1))n.memoizedState=null;else switch(l){case"forwards":for(s=n.child,l=null;s!==null;)t=s.alternate,t!==null&&Yc(t)===null&&(l=s),s=s.sibling;s=l,s===null?(l=n.child,n.child=null):(l=s.sibling,s.sibling=null),kh(n,!1,l,s,f);break;case"backwards":for(s=null,l=n.child,n.child=null;l!==null;){if(t=l.alternate,t!==null&&Yc(t)===null){n.child=l;break}t=l.sibling,l.sibling=s,s=l,l=t}kh(n,!0,s,null,f);break;case"together":kh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Nc(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function ur(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Es|=n.lanes,!(s&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(Pe(153));if(n.child!==null){for(t=n.child,s=jr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=jr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Kw(t,n,s){switch(n.tag){case 3:DS(n),ko();break;case 5:oS(n);break;case 1:Un(n.type)&&Wc(n);break;case 4:Zf(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,l=n.memoizedProps.value;kt(qc,a._currentValue),a._currentValue=l;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(kt(Lt,Lt.current&1),n.flags|=128,null):s&n.child.childLanes?OS(t,n,s):(kt(Lt,Lt.current&1),t=ur(t,n,s),t!==null?t.sibling:null);kt(Lt,Lt.current&1);break;case 19:if(a=(s&n.childLanes)!==0,t.flags&128){if(a)return MS(t,n,s);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),kt(Lt,Lt.current),a)break;return null;case 22:case 23:return n.lanes=0,xS(t,n,s)}return ur(t,n,s)}var LS,mf,_S,FS;LS=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};mf=function(){};_S=function(t,n,s,a){var l=t.memoizedProps;if(l!==a){t=n.stateNode,gs(Wi.current);var f=null;switch(s){case"input":l=_h(t,l),a=_h(t,a),f=[];break;case"select":l=Ft({},l,{value:void 0}),a=Ft({},a,{value:void 0}),f=[];break;case"textarea":l=jh(t,l),a=jh(t,a),f=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=zc)}Gh(s,a);var A;s=null;for(b in l)if(!a.hasOwnProperty(b)&&l.hasOwnProperty(b)&&l[b]!=null)if(b==="style"){var k=l[b];for(A in k)k.hasOwnProperty(A)&&(s||(s={}),s[A]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(_a.hasOwnProperty(b)?f||(f=[]):(f=f||[]).push(b,null));for(b in a){var O=a[b];if(k=l!=null?l[b]:void 0,a.hasOwnProperty(b)&&O!==k&&(O!=null||k!=null))if(b==="style")if(k){for(A in k)!k.hasOwnProperty(A)||O&&O.hasOwnProperty(A)||(s||(s={}),s[A]="");for(A in O)O.hasOwnProperty(A)&&k[A]!==O[A]&&(s||(s={}),s[A]=O[A])}else s||(f||(f=[]),f.push(b,s)),s=O;else b==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(f=f||[]).push(b,O)):b==="children"?typeof O!="string"&&typeof O!="number"||(f=f||[]).push(b,""+O):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(_a.hasOwnProperty(b)?(O!=null&&b==="onScroll"&&Rt("scroll",t),f||k===O||(f=[])):(f=f||[]).push(b,O))}s&&(f=f||[]).push("style",s);var b=f;(n.updateQueue=b)&&(n.flags|=4)}};FS=function(t,n,s,a){s!==a&&(n.flags|=4)};function ya(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function pn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,a=0;if(n)for(var l=t.child;l!==null;)s|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)s|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=s,n}function $w(t,n,s){var a=n.pendingProps;switch(Kf(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(n),null;case 1:return Un(n.type)&&Hc(),pn(n),null;case 3:return a=n.stateNode,Ro(),Pt(Fn),Pt(vn),tp(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(gc(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ri!==null&&(Ef(Ri),Ri=null))),mf(t,n),pn(n),null;case 5:ep(n);var l=gs(qa.current);if(s=n.type,t!==null&&n.stateNode!=null)_S(t,n,s,a,l),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(Pe(166));return pn(n),null}if(t=gs(Wi.current),gc(n)){a=n.stateNode,s=n.type;var f=n.memoizedProps;switch(a[zi]=n,a[Ka]=f,t=(n.mode&1)!==0,s){case"dialog":Rt("cancel",a),Rt("close",a);break;case"iframe":case"object":case"embed":Rt("load",a);break;case"video":case"audio":for(l=0;l<Ta.length;l++)Rt(Ta[l],a);break;case"source":Rt("error",a);break;case"img":case"image":case"link":Rt("error",a),Rt("load",a);break;case"details":Rt("toggle",a);break;case"input":Ug(a,f),Rt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Rt("invalid",a);break;case"textarea":Bg(a,f),Rt("invalid",a)}Gh(s,f),l=null;for(var A in f)if(f.hasOwnProperty(A)){var k=f[A];A==="children"?typeof k=="string"?a.textContent!==k&&(f.suppressHydrationWarning!==!0&&vc(a.textContent,k,t),l=["children",k]):typeof k=="number"&&a.textContent!==""+k&&(f.suppressHydrationWarning!==!0&&vc(a.textContent,k,t),l=["children",""+k]):_a.hasOwnProperty(A)&&k!=null&&A==="onScroll"&&Rt("scroll",a)}switch(s){case"input":lc(a),jg(a,f,!0);break;case"textarea":lc(a),Gg(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=zc)}a=l,n.updateQueue=a,a!==null&&(n.flags|=4)}else{A=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uA(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=A.createElement(s,{is:a.is}):(t=A.createElement(s),s==="select"&&(A=t,a.multiple?A.multiple=!0:a.size&&(A.size=a.size))):t=A.createElementNS(t,s),t[zi]=n,t[Ka]=a,LS(t,n,!1,!1),n.stateNode=t;e:{switch(A=Vh(s,a),s){case"dialog":Rt("cancel",t),Rt("close",t),l=a;break;case"iframe":case"object":case"embed":Rt("load",t),l=a;break;case"video":case"audio":for(l=0;l<Ta.length;l++)Rt(Ta[l],t);l=a;break;case"source":Rt("error",t),l=a;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),l=a;break;case"details":Rt("toggle",t),l=a;break;case"input":Ug(t,a),l=_h(t,a),Rt("invalid",t);break;case"option":l=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},l=Ft({},a,{value:void 0}),Rt("invalid",t);break;case"textarea":Bg(t,a),l=jh(t,a),Rt("invalid",t);break;default:l=a}Gh(s,l),k=l;for(f in k)if(k.hasOwnProperty(f)){var O=k[f];f==="style"?pA(t,O):f==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&hA(t,O)):f==="children"?typeof O=="string"?(s!=="textarea"||O!=="")&&Fa(t,O):typeof O=="number"&&Fa(t,""+O):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(_a.hasOwnProperty(f)?O!=null&&f==="onScroll"&&Rt("scroll",t):O!=null&&Nf(t,f,O,A))}switch(s){case"input":lc(t),jg(t,a,!1);break;case"textarea":lc(t),Gg(t);break;case"option":a.value!=null&&t.setAttribute("value",""+Br(a.value));break;case"select":t.multiple=!!a.multiple,f=a.value,f!=null?go(t,!!a.multiple,f,!1):a.defaultValue!=null&&go(t,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=zc)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return pn(n),null;case 6:if(t&&n.stateNode!=null)FS(t,n,t.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(Pe(166));if(s=gs(qa.current),gs(Wi.current),gc(n)){if(a=n.stateNode,s=n.memoizedProps,a[zi]=n,(f=a.nodeValue!==s)&&(t=Zn,t!==null))switch(t.tag){case 3:vc(a.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vc(a.nodeValue,s,(t.mode&1)!==0)}f&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[zi]=n,n.stateNode=a}return pn(n),null;case 13:if(Pt(Lt),a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&Xn!==null&&n.mode&1&&!(n.flags&128))tS(),ko(),n.flags|=98560,f=!1;else if(f=gc(n),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(Pe(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(Pe(317));f[zi]=n}else ko(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;pn(n),f=!1}else Ri!==null&&(Ef(Ri),Ri=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(t===null||Lt.current&1?Qt===0&&(Qt=3):fp())),n.updateQueue!==null&&(n.flags|=4),pn(n),null);case 4:return Ro(),mf(t,n),t===null&&Ha(n.stateNode.containerInfo),pn(n),null;case 10:return Jf(n.type._context),pn(n),null;case 17:return Un(n.type)&&Hc(),pn(n),null;case 19:if(Pt(Lt),f=n.memoizedState,f===null)return pn(n),null;if(a=(n.flags&128)!==0,A=f.rendering,A===null)if(a)ya(f,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(A=Yc(t),A!==null){for(n.flags|=128,ya(f,!1),a=A.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)f=s,t=a,f.flags&=14680066,A=f.alternate,A===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=A.childLanes,f.lanes=A.lanes,f.child=A.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=A.memoizedProps,f.memoizedState=A.memoizedState,f.updateQueue=A.updateQueue,f.type=A.type,t=A.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return kt(Lt,Lt.current&1|2),n.child}t=t.sibling}f.tail!==null&&zt()>xo&&(n.flags|=128,a=!0,ya(f,!1),n.lanes=4194304)}else{if(!a)if(t=Yc(A),t!==null){if(n.flags|=128,a=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),ya(f,!0),f.tail===null&&f.tailMode==="hidden"&&!A.alternate&&!Ot)return pn(n),null}else 2*zt()-f.renderingStartTime>xo&&s!==1073741824&&(n.flags|=128,a=!0,ya(f,!1),n.lanes=4194304);f.isBackwards?(A.sibling=n.child,n.child=A):(s=f.last,s!==null?s.sibling=A:n.child=A,f.last=A)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=zt(),n.sibling=null,s=Lt.current,kt(Lt,a?s&1|2:s&1),n):(pn(n),null);case 22:case 23:return hp(),a=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?Yn&1073741824&&(pn(n),n.subtreeFlags&6&&(n.flags|=8192)):pn(n),null;case 24:return null;case 25:return null}throw Error(Pe(156,n.tag))}function qw(t,n){switch(Kf(n),n.tag){case 1:return Un(n.type)&&Hc(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ro(),Pt(Fn),Pt(vn),tp(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return ep(n),null;case 13:if(Pt(Lt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(Pe(340));ko()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Pt(Lt),null;case 4:return Ro(),null;case 10:return Jf(n.type._context),null;case 22:case 23:return hp(),null;case 24:return null;default:return null}}var yc=!1,mn=!1,Qw=typeof WeakSet=="function"?WeakSet:Set,We=null;function mo(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Bt(t,n,a)}else s.current=null}function vf(t,n,s){try{s()}catch(a){Bt(t,n,a)}}var x0=!1;function Jw(t,n){if(Xh=Bc,t=VA(),Hf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var l=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var A=0,k=-1,O=-1,b=0,J=0,G=t,K=null;t:for(;;){for(var M;G!==s||l!==0&&G.nodeType!==3||(k=A+l),G!==f||a!==0&&G.nodeType!==3||(O=A+a),G.nodeType===3&&(A+=G.nodeValue.length),(M=G.firstChild)!==null;)K=G,G=M;for(;;){if(G===t)break t;if(K===s&&++b===l&&(k=A),K===f&&++J===a&&(O=A),(M=G.nextSibling)!==null)break;G=K,K=G.parentNode}G=M}s=k===-1||O===-1?null:{start:k,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Zh={focusedElem:t,selectionRange:s},Bc=!1,We=n;We!==null;)if(n=We,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,We=t;else for(;We!==null;){n=We;try{var v=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,R=v.memoizedState,I=n.stateNode,P=I.getSnapshotBeforeUpdate(n.elementType===n.type?y:Ti(n.type,y),R);I.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var j=n.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(ce){Bt(n,n.return,ce)}if(t=n.sibling,t!==null){t.return=n.return,We=t;break}We=n.return}return v=x0,x0=!1,v}function Oa(t,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&t)===t){var f=l.destroy;l.destroy=void 0,f!==void 0&&vf(n,s,f)}l=l.next}while(l!==a)}}function pd(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function gf(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function US(t){var n=t.alternate;n!==null&&(t.alternate=null,US(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[zi],delete n[Ka],delete n[nf],delete n[Dw],delete n[Ow])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jS(t){return t.tag===5||t.tag===3||t.tag===4}function N0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,n,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zc));else if(a!==4&&(t=t.child,t!==null))for(Af(t,n,s),t=t.sibling;t!==null;)Af(t,n,s),t=t.sibling}function Sf(t,n,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Sf(t,n,s),t=t.sibling;t!==null;)Sf(t,n,s),t=t.sibling}var sn=null,Ii=!1;function Tr(t,n,s){for(s=s.child;s!==null;)BS(t,n,s),s=s.sibling}function BS(t,n,s){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(od,s)}catch{}switch(s.tag){case 5:mn||mo(s,n);case 6:var a=sn,l=Ii;sn=null,Tr(t,n,s),sn=a,Ii=l,sn!==null&&(Ii?(t=sn,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):sn.removeChild(s.stateNode));break;case 18:sn!==null&&(Ii?(t=sn,s=s.stateNode,t.nodeType===8?Sh(t.parentNode,s):t.nodeType===1&&Sh(t,s),Ga(t)):Sh(sn,s.stateNode));break;case 4:a=sn,l=Ii,sn=s.stateNode.containerInfo,Ii=!0,Tr(t,n,s),sn=a,Ii=l;break;case 0:case 11:case 14:case 15:if(!mn&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var f=l,A=f.destroy;f=f.tag,A!==void 0&&(f&2||f&4)&&vf(s,n,A),l=l.next}while(l!==a)}Tr(t,n,s);break;case 1:if(!mn&&(mo(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(k){Bt(s,n,k)}Tr(t,n,s);break;case 21:Tr(t,n,s);break;case 22:s.mode&1?(mn=(a=mn)||s.memoizedState!==null,Tr(t,n,s),mn=a):Tr(t,n,s);break;default:Tr(t,n,s)}}function D0(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Qw),n.forEach(function(a){var l=sb.bind(null,t,a);s.has(a)||(s.add(a),a.then(l,l))})}}function Ci(t,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];try{var f=t,A=n,k=A;e:for(;k!==null;){switch(k.tag){case 5:sn=k.stateNode,Ii=!1;break e;case 3:sn=k.stateNode.containerInfo,Ii=!0;break e;case 4:sn=k.stateNode.containerInfo,Ii=!0;break e}k=k.return}if(sn===null)throw Error(Pe(160));BS(f,A,l),sn=null,Ii=!1;var O=l.alternate;O!==null&&(O.return=null),l.return=null}catch(b){Bt(l,n,b)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)GS(n,t),n=n.sibling}function GS(t,n){var s=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ci(n,t),Gi(t),a&4){try{Oa(3,t,t.return),pd(3,t)}catch(y){Bt(t,t.return,y)}try{Oa(5,t,t.return)}catch(y){Bt(t,t.return,y)}}break;case 1:Ci(n,t),Gi(t),a&512&&s!==null&&mo(s,s.return);break;case 5:if(Ci(n,t),Gi(t),a&512&&s!==null&&mo(s,s.return),t.flags&32){var l=t.stateNode;try{Fa(l,"")}catch(y){Bt(t,t.return,y)}}if(a&4&&(l=t.stateNode,l!=null)){var f=t.memoizedProps,A=s!==null?s.memoizedProps:f,k=t.type,O=t.updateQueue;if(t.updateQueue=null,O!==null)try{k==="input"&&f.type==="radio"&&f.name!=null&&cA(l,f),Vh(k,A);var b=Vh(k,f);for(A=0;A<O.length;A+=2){var J=O[A],G=O[A+1];J==="style"?pA(l,G):J==="dangerouslySetInnerHTML"?hA(l,G):J==="children"?Fa(l,G):Nf(l,J,G,b)}switch(k){case"input":Fh(l,f);break;case"textarea":dA(l,f);break;case"select":var K=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!f.multiple;var M=f.value;M!=null?go(l,!!f.multiple,M,!1):K!==!!f.multiple&&(f.defaultValue!=null?go(l,!!f.multiple,f.defaultValue,!0):go(l,!!f.multiple,f.multiple?[]:"",!1))}l[Ka]=f}catch(y){Bt(t,t.return,y)}}break;case 6:if(Ci(n,t),Gi(t),a&4){if(t.stateNode===null)throw Error(Pe(162));l=t.stateNode,f=t.memoizedProps;try{l.nodeValue=f}catch(y){Bt(t,t.return,y)}}break;case 3:if(Ci(n,t),Gi(t),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(y){Bt(t,t.return,y)}break;case 4:Ci(n,t),Gi(t);break;case 13:Ci(n,t),Gi(t),l=t.child,l.flags&8192&&(f=l.memoizedState!==null,l.stateNode.isHidden=f,!f||l.alternate!==null&&l.alternate.memoizedState!==null||(dp=zt())),a&4&&D0(t);break;case 22:if(J=s!==null&&s.memoizedState!==null,t.mode&1?(mn=(b=mn)||J,Ci(n,t),mn=b):Ci(n,t),Gi(t),a&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!J&&t.mode&1)for(We=t,J=t.child;J!==null;){for(G=We=J;We!==null;){switch(K=We,M=K.child,K.tag){case 0:case 11:case 14:case 15:Oa(4,K,K.return);break;case 1:mo(K,K.return);var v=K.stateNode;if(typeof v.componentWillUnmount=="function"){a=K,s=K.return;try{n=a,v.props=n.memoizedProps,v.state=n.memoizedState,v.componentWillUnmount()}catch(y){Bt(a,s,y)}}break;case 5:mo(K,K.return);break;case 22:if(K.memoizedState!==null){M0(G);continue}}M!==null?(M.return=K,We=M):M0(G)}J=J.sibling}e:for(J=null,G=t;;){if(G.tag===5){if(J===null){J=G;try{l=G.stateNode,b?(f=l.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(k=G.stateNode,O=G.memoizedProps.style,A=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=fA("display",A))}catch(y){Bt(t,t.return,y)}}}else if(G.tag===6){if(J===null)try{G.stateNode.nodeValue=b?"":G.memoizedProps}catch(y){Bt(t,t.return,y)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;J===G&&(J=null),G=G.return}J===G&&(J=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Ci(n,t),Gi(t),a&4&&D0(t);break;case 21:break;default:Ci(n,t),Gi(t)}}function Gi(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(jS(s)){var a=s;break e}s=s.return}throw Error(Pe(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(Fa(l,""),a.flags&=-33);var f=N0(t);Sf(t,f,l);break;case 3:case 4:var A=a.stateNode.containerInfo,k=N0(t);Af(t,k,A);break;default:throw Error(Pe(161))}}catch(O){Bt(t,t.return,O)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yw(t,n,s){We=t,VS(t)}function VS(t,n,s){for(var a=(t.mode&1)!==0;We!==null;){var l=We,f=l.child;if(l.tag===22&&a){var A=l.memoizedState!==null||yc;if(!A){var k=l.alternate,O=k!==null&&k.memoizedState!==null||mn;k=yc;var b=mn;if(yc=A,(mn=O)&&!b)for(We=l;We!==null;)A=We,O=A.child,A.tag===22&&A.memoizedState!==null?L0(l):O!==null?(O.return=A,We=O):L0(l);for(;f!==null;)We=f,VS(f),f=f.sibling;We=l,yc=k,mn=b}O0(t)}else l.subtreeFlags&8772&&f!==null?(f.return=l,We=f):O0(t)}}function O0(t){for(;We!==null;){var n=We;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:mn||pd(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!mn)if(s===null)a.componentDidMount();else{var l=n.elementType===n.type?s.memoizedProps:Ti(n.type,s.memoizedProps);a.componentDidUpdate(l,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&g0(n,f,a);break;case 3:var A=n.updateQueue;if(A!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}g0(n,A,s)}break;case 5:var k=n.stateNode;if(s===null&&n.flags&4){s=k;var O=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&s.focus();break;case"img":O.src&&(s.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var b=n.alternate;if(b!==null){var J=b.memoizedState;if(J!==null){var G=J.dehydrated;G!==null&&Ga(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}mn||n.flags&512&&gf(n)}catch(K){Bt(n,n.return,K)}}if(n===t){We=null;break}if(s=n.sibling,s!==null){s.return=n.return,We=s;break}We=n.return}}function M0(t){for(;We!==null;){var n=We;if(n===t){We=null;break}var s=n.sibling;if(s!==null){s.return=n.return,We=s;break}We=n.return}}function L0(t){for(;We!==null;){var n=We;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{pd(4,n)}catch(O){Bt(n,s,O)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var l=n.return;try{a.componentDidMount()}catch(O){Bt(n,l,O)}}var f=n.return;try{gf(n)}catch(O){Bt(n,f,O)}break;case 5:var A=n.return;try{gf(n)}catch(O){Bt(n,A,O)}}}catch(O){Bt(n,n.return,O)}if(n===t){We=null;break}var k=n.sibling;if(k!==null){k.return=n.return,We=k;break}We=n.return}}var Xw=Math.ceil,ed=fr.ReactCurrentDispatcher,lp=fr.ReactCurrentOwner,hi=fr.ReactCurrentBatchConfig,gt=0,en=null,Ht=null,on=0,Yn=0,vo=zr(0),Qt=0,Xa=null,Es=0,md=0,cp=0,Ma=null,Ln=null,dp=0,xo=1/0,ir=null,td=!1,yf=null,Fr=null,wc=!1,Nr=null,nd=0,La=0,wf=null,Dc=-1,Oc=0;function wn(){return gt&6?zt():Dc!==-1?Dc:Dc=zt()}function Ur(t){return t.mode&1?gt&2&&on!==0?on&-on:Lw.transition!==null?(Oc===0&&(Oc=kA()),Oc):(t=Ct,t!==0||(t=window.event,t=t===void 0?16:OA(t.type)),t):1}function xi(t,n,s,a){if(50<La)throw La=0,wf=null,Error(Pe(185));el(t,s,a),(!(gt&2)||t!==en)&&(t===en&&(!(gt&2)&&(md|=s),Qt===4&&Pr(t,on)),jn(t,a),s===1&&gt===0&&!(n.mode&1)&&(xo=zt()+500,ud&&Hr()))}function jn(t,n){var s=t.callbackNode;L1(t,n);var a=jc(t,t===en?on:0);if(a===0)s!==null&&Hg(s),t.callbackNode=null,t.callbackPriority=0;else if(n=a&-a,t.callbackPriority!==n){if(s!=null&&Hg(s),n===1)t.tag===0?Mw(_0.bind(null,t)):XA(_0.bind(null,t)),xw(function(){!(gt&6)&&Hr()}),s=null;else{switch(IA(a)){case 1:s=_f;break;case 4:s=CA;break;case 16:s=Uc;break;case 536870912:s=TA;break;default:s=Uc}s=JS(s,zS.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function zS(t,n){if(Dc=-1,Oc=0,gt&6)throw Error(Pe(327));var s=t.callbackNode;if(bo()&&t.callbackNode!==s)return null;var a=jc(t,t===en?on:0);if(a===0)return null;if(a&30||a&t.expiredLanes||n)n=id(t,a);else{n=a;var l=gt;gt|=2;var f=WS();(en!==t||on!==n)&&(ir=null,xo=zt()+500,As(t,n));do try{tb();break}catch(k){HS(t,k)}while(!0);Qf(),ed.current=f,gt=l,Ht!==null?n=0:(en=null,on=0,n=Qt)}if(n!==0){if(n===2&&(l=$h(t),l!==0&&(a=l,n=bf(t,l))),n===1)throw s=Xa,As(t,0),Pr(t,a),jn(t,zt()),s;if(n===6)Pr(t,a);else{if(l=t.current.alternate,!(a&30)&&!Zw(l)&&(n=id(t,a),n===2&&(f=$h(t),f!==0&&(a=f,n=bf(t,f))),n===1))throw s=Xa,As(t,0),Pr(t,a),jn(t,zt()),s;switch(t.finishedWork=l,t.finishedLanes=a,n){case 0:case 1:throw Error(Pe(345));case 2:fs(t,Ln,ir);break;case 3:if(Pr(t,a),(a&130023424)===a&&(n=dp+500-zt(),10<n)){if(jc(t,0)!==0)break;if(l=t.suspendedLanes,(l&a)!==a){wn(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=tf(fs.bind(null,t,Ln,ir),n);break}fs(t,Ln,ir);break;case 4:if(Pr(t,a),(a&4194240)===a)break;for(n=t.eventTimes,l=-1;0<a;){var A=31-Pi(a);f=1<<A,A=n[A],A>l&&(l=A),a&=~f}if(a=l,a=zt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Xw(a/1960))-a,10<a){t.timeoutHandle=tf(fs.bind(null,t,Ln,ir),a);break}fs(t,Ln,ir);break;case 5:fs(t,Ln,ir);break;default:throw Error(Pe(329))}}}return jn(t,zt()),t.callbackNode===s?zS.bind(null,t):null}function bf(t,n){var s=Ma;return t.current.memoizedState.isDehydrated&&(As(t,n).flags|=256),t=id(t,n),t!==2&&(n=Ln,Ln=s,n!==null&&Ef(n)),t}function Ef(t){Ln===null?Ln=t:Ln.push.apply(Ln,t)}function Zw(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var l=s[a],f=l.getSnapshot;l=l.value;try{if(!Ni(f(),l))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pr(t,n){for(n&=~cp,n&=~md,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-Pi(n),a=1<<s;t[s]=-1,n&=~a}}function _0(t){if(gt&6)throw Error(Pe(327));bo();var n=jc(t,0);if(!(n&1))return jn(t,zt()),null;var s=id(t,n);if(t.tag!==0&&s===2){var a=$h(t);a!==0&&(n=a,s=bf(t,a))}if(s===1)throw s=Xa,As(t,0),Pr(t,n),jn(t,zt()),s;if(s===6)throw Error(Pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,fs(t,Ln,ir),jn(t,zt()),null}function up(t,n){var s=gt;gt|=1;try{return t(n)}finally{gt=s,gt===0&&(xo=zt()+500,ud&&Hr())}}function Cs(t){Nr!==null&&Nr.tag===0&&!(gt&6)&&bo();var n=gt;gt|=1;var s=hi.transition,a=Ct;try{if(hi.transition=null,Ct=1,t)return t()}finally{Ct=a,hi.transition=s,gt=n,!(gt&6)&&Hr()}}function hp(){Yn=vo.current,Pt(vo)}function As(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,Pw(s)),Ht!==null)for(s=Ht.return;s!==null;){var a=s;switch(Kf(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Hc();break;case 3:Ro(),Pt(Fn),Pt(vn),tp();break;case 5:ep(a);break;case 4:Ro();break;case 13:Pt(Lt);break;case 19:Pt(Lt);break;case 10:Jf(a.type._context);break;case 22:case 23:hp()}s=s.return}if(en=t,Ht=t=jr(t.current,null),on=Yn=n,Qt=0,Xa=null,cp=md=Es=0,Ln=Ma=null,vs!==null){for(n=0;n<vs.length;n++)if(s=vs[n],a=s.interleaved,a!==null){s.interleaved=null;var l=a.next,f=s.pending;if(f!==null){var A=f.next;f.next=l,a.next=A}s.pending=a}vs=null}return t}function HS(t,n){do{var s=Ht;try{if(Qf(),Pc.current=Zc,Xc){for(var a=_t.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Xc=!1}if(bs=0,Zt=qt=_t=null,Da=!1,Qa=0,lp.current=null,s===null||s.return===null){Qt=1,Xa=n,Ht=null;break}e:{var f=t,A=s.return,k=s,O=n;if(n=on,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var b=O,J=k,G=J.tag;if(!(J.mode&1)&&(G===0||G===11||G===15)){var K=J.alternate;K?(J.updateQueue=K.updateQueue,J.memoizedState=K.memoizedState,J.lanes=K.lanes):(J.updateQueue=null,J.memoizedState=null)}var M=E0(A);if(M!==null){M.flags&=-257,C0(M,A,k,f,n),M.mode&1&&b0(f,b,n),n=M,O=b;var v=n.updateQueue;if(v===null){var y=new Set;y.add(O),n.updateQueue=y}else v.add(O);break e}else{if(!(n&1)){b0(f,b,n),fp();break e}O=Error(Pe(426))}}else if(Ot&&k.mode&1){var R=E0(A);if(R!==null){!(R.flags&65536)&&(R.flags|=256),C0(R,A,k,f,n),$f(Po(O,k));break e}}f=O=Po(O,k),Qt!==4&&(Qt=2),Ma===null?Ma=[f]:Ma.push(f),f=A;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var I=IS(f,O,n);v0(f,I);break e;case 1:k=O;var P=f.type,j=f.stateNode;if(!(f.flags&128)&&(typeof P.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Fr===null||!Fr.has(j)))){f.flags|=65536,n&=-n,f.lanes|=n;var ce=RS(f,k,n);v0(f,ce);break e}}f=f.return}while(f!==null)}$S(s)}catch(h){n=h,Ht===s&&s!==null&&(Ht=s=s.return);continue}break}while(!0)}function WS(){var t=ed.current;return ed.current=Zc,t===null?Zc:t}function fp(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),en===null||!(Es&268435455)&&!(md&268435455)||Pr(en,on)}function id(t,n){var s=gt;gt|=2;var a=WS();(en!==t||on!==n)&&(ir=null,As(t,n));do try{eb();break}catch(l){HS(t,l)}while(!0);if(Qf(),gt=s,ed.current=a,Ht!==null)throw Error(Pe(261));return en=null,on=0,Qt}function eb(){for(;Ht!==null;)KS(Ht)}function tb(){for(;Ht!==null&&!k1();)KS(Ht)}function KS(t){var n=QS(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,n===null?$S(t):Ht=n,lp.current=null}function $S(t){var n=t;do{var s=n.alternate;if(t=n.return,n.flags&32768){if(s=qw(s,n),s!==null){s.flags&=32767,Ht=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,Ht=null;return}}else if(s=$w(s,n,Yn),s!==null){Ht=s;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=t}while(n!==null);Qt===0&&(Qt=5)}function fs(t,n,s){var a=Ct,l=hi.transition;try{hi.transition=null,Ct=1,nb(t,n,s,a)}finally{hi.transition=l,Ct=a}return null}function nb(t,n,s,a){do bo();while(Nr!==null);if(gt&6)throw Error(Pe(327));s=t.finishedWork;var l=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(Pe(177));t.callbackNode=null,t.callbackPriority=0;var f=s.lanes|s.childLanes;if(_1(t,f),t===en&&(Ht=en=null,on=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wc||(wc=!0,JS(Uc,function(){return bo(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=hi.transition,hi.transition=null;var A=Ct;Ct=1;var k=gt;gt|=4,lp.current=null,Jw(t,s),GS(s,t),bw(Zh),Bc=!!Xh,Zh=Xh=null,t.current=s,Yw(s),I1(),gt=k,Ct=A,hi.transition=f}else t.current=s;if(wc&&(wc=!1,Nr=t,nd=l),f=t.pendingLanes,f===0&&(Fr=null),x1(s.stateNode),jn(t,zt()),n!==null)for(a=t.onRecoverableError,s=0;s<n.length;s++)l=n[s],a(l.value,{componentStack:l.stack,digest:l.digest});if(td)throw td=!1,t=yf,yf=null,t;return nd&1&&t.tag!==0&&bo(),f=t.pendingLanes,f&1?t===wf?La++:(La=0,wf=t):La=0,Hr(),null}function bo(){if(Nr!==null){var t=IA(nd),n=hi.transition,s=Ct;try{if(hi.transition=null,Ct=16>t?16:t,Nr===null)var a=!1;else{if(t=Nr,Nr=null,nd=0,gt&6)throw Error(Pe(331));var l=gt;for(gt|=4,We=t.current;We!==null;){var f=We,A=f.child;if(We.flags&16){var k=f.deletions;if(k!==null){for(var O=0;O<k.length;O++){var b=k[O];for(We=b;We!==null;){var J=We;switch(J.tag){case 0:case 11:case 15:Oa(8,J,f)}var G=J.child;if(G!==null)G.return=J,We=G;else for(;We!==null;){J=We;var K=J.sibling,M=J.return;if(US(J),J===b){We=null;break}if(K!==null){K.return=M,We=K;break}We=M}}}var v=f.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var R=y.sibling;y.sibling=null,y=R}while(y!==null)}}We=f}}if(f.subtreeFlags&2064&&A!==null)A.return=f,We=A;else e:for(;We!==null;){if(f=We,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Oa(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,We=I;break e}We=f.return}}var P=t.current;for(We=P;We!==null;){A=We;var j=A.child;if(A.subtreeFlags&2064&&j!==null)j.return=A,We=j;else e:for(A=P;We!==null;){if(k=We,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:pd(9,k)}}catch(h){Bt(k,k.return,h)}if(k===A){We=null;break e}var ce=k.sibling;if(ce!==null){ce.return=k.return,We=ce;break e}We=k.return}}if(gt=l,Hr(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(od,t)}catch{}a=!0}return a}finally{Ct=s,hi.transition=n}}return!1}function F0(t,n,s){n=Po(s,n),n=IS(t,n,1),t=_r(t,n,1),n=wn(),t!==null&&(el(t,1,n),jn(t,n))}function Bt(t,n,s){if(t.tag===3)F0(t,t,s);else for(;n!==null;){if(n.tag===3){F0(n,t,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Fr===null||!Fr.has(a))){t=Po(s,t),t=RS(n,t,1),n=_r(n,t,1),t=wn(),n!==null&&(el(n,1,t),jn(n,t));break}}n=n.return}}function ib(t,n,s){var a=t.pingCache;a!==null&&a.delete(n),n=wn(),t.pingedLanes|=t.suspendedLanes&s,en===t&&(on&s)===s&&(Qt===4||Qt===3&&(on&130023424)===on&&500>zt()-dp?As(t,0):cp|=s),jn(t,n)}function qS(t,n){n===0&&(t.mode&1?(n=uc,uc<<=1,!(uc&130023424)&&(uc=4194304)):n=1);var s=wn();t=dr(t,n),t!==null&&(el(t,n,s),jn(t,s))}function rb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),qS(t,s)}function sb(t,n){var s=0;switch(t.tag){case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(s=l.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(Pe(314))}a!==null&&a.delete(n),qS(t,s)}var QS;QS=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||Fn.current)_n=!0;else{if(!(t.lanes&s)&&!(n.flags&128))return _n=!1,Kw(t,n,s);_n=!!(t.flags&131072)}else _n=!1,Ot&&n.flags&1048576&&ZA(n,$c,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Nc(t,n),t=n.pendingProps;var l=To(n,vn.current);wo(n,s),l=ip(null,n,a,t,l,s);var f=rp();return n.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Un(a)?(f=!0,Wc(n)):f=!1,n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Xf(n),l.updater=fd,n.stateNode=l,l._reactInternals=n,cf(n,a,t,s),n=hf(null,n,a,!0,f,s)):(n.tag=0,Ot&&f&&Wf(n),yn(null,n,l,s),n=n.child),n;case 16:a=n.elementType;e:{switch(Nc(t,n),t=n.pendingProps,l=a._init,a=l(a._payload),n.type=a,l=n.tag=ab(a),t=Ti(a,t),l){case 0:n=uf(null,n,a,t,s);break e;case 1:n=I0(null,n,a,t,s);break e;case 11:n=T0(null,n,a,t,s);break e;case 14:n=k0(null,n,a,Ti(a.type,t),s);break e}throw Error(Pe(306,a,""))}return n;case 0:return a=n.type,l=n.pendingProps,l=n.elementType===a?l:Ti(a,l),uf(t,n,a,l,s);case 1:return a=n.type,l=n.pendingProps,l=n.elementType===a?l:Ti(a,l),I0(t,n,a,l,s);case 3:e:{if(DS(n),t===null)throw Error(Pe(387));a=n.pendingProps,f=n.memoizedState,l=f.element,sS(t,n),Jc(n,a,null,s);var A=n.memoizedState;if(a=A.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){l=Po(Error(Pe(423)),n),n=R0(t,n,a,s,l);break e}else if(a!==l){l=Po(Error(Pe(424)),n),n=R0(t,n,a,s,l);break e}else for(Xn=Lr(n.stateNode.containerInfo.firstChild),Zn=n,Ot=!0,Ri=null,s=iS(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ko(),a===l){n=ur(t,n,s);break e}yn(t,n,a,s)}n=n.child}return n;case 5:return oS(n),t===null&&of(n),a=n.type,l=n.pendingProps,f=t!==null?t.memoizedProps:null,A=l.children,ef(a,l)?A=null:f!==null&&ef(a,f)&&(n.flags|=32),NS(t,n),yn(t,n,A,s),n.child;case 6:return t===null&&of(n),null;case 13:return OS(t,n,s);case 4:return Zf(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=Io(n,null,a,s):yn(t,n,a,s),n.child;case 11:return a=n.type,l=n.pendingProps,l=n.elementType===a?l:Ti(a,l),T0(t,n,a,l,s);case 7:return yn(t,n,n.pendingProps,s),n.child;case 8:return yn(t,n,n.pendingProps.children,s),n.child;case 12:return yn(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,l=n.pendingProps,f=n.memoizedProps,A=l.value,kt(qc,a._currentValue),a._currentValue=A,f!==null)if(Ni(f.value,A)){if(f.children===l.children&&!Fn.current){n=ur(t,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var k=f.dependencies;if(k!==null){A=f.child;for(var O=k.firstContext;O!==null;){if(O.context===a){if(f.tag===1){O=ar(-1,s&-s),O.tag=2;var b=f.updateQueue;if(b!==null){b=b.shared;var J=b.pending;J===null?O.next=O:(O.next=J.next,J.next=O),b.pending=O}}f.lanes|=s,O=f.alternate,O!==null&&(O.lanes|=s),af(f.return,s,n),k.lanes|=s;break}O=O.next}}else if(f.tag===10)A=f.type===n.type?null:f.child;else if(f.tag===18){if(A=f.return,A===null)throw Error(Pe(341));A.lanes|=s,k=A.alternate,k!==null&&(k.lanes|=s),af(A,s,n),A=f.sibling}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===n){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}yn(t,n,l.children,s),n=n.child}return n;case 9:return l=n.type,a=n.pendingProps.children,wo(n,s),l=fi(l),a=a(l),n.flags|=1,yn(t,n,a,s),n.child;case 14:return a=n.type,l=Ti(a,n.pendingProps),l=Ti(a.type,l),k0(t,n,a,l,s);case 15:return PS(t,n,n.type,n.pendingProps,s);case 17:return a=n.type,l=n.pendingProps,l=n.elementType===a?l:Ti(a,l),Nc(t,n),n.tag=1,Un(a)?(t=!0,Wc(n)):t=!1,wo(n,s),kS(n,a,l),cf(n,a,l,s),hf(null,n,a,!0,t,s);case 19:return MS(t,n,s);case 22:return xS(t,n,s)}throw Error(Pe(156,n.tag))};function JS(t,n){return EA(t,n)}function ob(t,n,s,a){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,n,s,a){return new ob(t,n,s,a)}function pp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ab(t){if(typeof t=="function")return pp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Of)return 11;if(t===Mf)return 14}return 2}function jr(t,n){var s=t.alternate;return s===null?(s=ui(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Mc(t,n,s,a,l,f){var A=2;if(a=t,typeof t=="function")pp(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case so:return Ss(s.children,l,f,n);case Df:A=8,l|=8;break;case Dh:return t=ui(12,s,n,l|2),t.elementType=Dh,t.lanes=f,t;case Oh:return t=ui(13,s,n,l),t.elementType=Oh,t.lanes=f,t;case Mh:return t=ui(19,s,n,l),t.elementType=Mh,t.lanes=f,t;case oA:return vd(s,l,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rA:A=10;break e;case sA:A=9;break e;case Of:A=11;break e;case Mf:A=14;break e;case kr:A=16,a=null;break e}throw Error(Pe(130,t==null?t:typeof t,""))}return n=ui(A,s,n,l),n.elementType=t,n.type=a,n.lanes=f,n}function Ss(t,n,s,a){return t=ui(7,t,a,n),t.lanes=s,t}function vd(t,n,s,a){return t=ui(22,t,a,n),t.elementType=oA,t.lanes=s,t.stateNode={isHidden:!1},t}function Ih(t,n,s){return t=ui(6,t,null,n),t.lanes=s,t}function Rh(t,n,s){return n=ui(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function lb(t,n,s,a,l){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lh(0),this.expirationTimes=lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function mp(t,n,s,a,l,f,A,k,O){return t=new lb(t,n,s,k,O),n===1?(n=1,f===!0&&(n|=8)):n=0,f=ui(3,null,null,n),t.current=f,f.stateNode=t,f.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xf(f),t}function cb(t,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:a==null?null:""+a,children:t,containerInfo:n,implementation:s}}function YS(t){if(!t)return Gr;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(Pe(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Un(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(Pe(171))}if(t.tag===1){var s=t.type;if(Un(s))return YA(t,s,n)}return n}function XS(t,n,s,a,l,f,A,k,O){return t=mp(s,a,!0,t,l,f,A,k,O),t.context=YS(null),s=t.current,a=wn(),l=Ur(s),f=ar(a,l),f.callback=n??null,_r(s,f,l),t.current.lanes=l,el(t,l,a),jn(t,a),t}function gd(t,n,s,a){var l=n.current,f=wn(),A=Ur(l);return s=YS(s),n.context===null?n.context=s:n.pendingContext=s,n=ar(f,A),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=_r(l,n,A),t!==null&&(xi(t,l,A,f),Rc(t,l,A)),A}function rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function vp(t,n){U0(t,n),(t=t.alternate)&&U0(t,n)}function db(){return null}var ZS=typeof reportError=="function"?reportError:function(t){console.error(t)};function gp(t){this._internalRoot=t}Ad.prototype.render=gp.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(Pe(409));gd(t,n,null,null)};Ad.prototype.unmount=gp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Cs(function(){gd(null,t,null,null)}),n[cr]=null}};function Ad(t){this._internalRoot=t}Ad.prototype.unstable_scheduleHydration=function(t){if(t){var n=xA();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Rr.length&&n!==0&&n<Rr[s].priority;s++);Rr.splice(s,0,t),s===0&&DA(t)}};function Ap(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j0(){}function ub(t,n,s,a,l){if(l){if(typeof a=="function"){var f=a;a=function(){var b=rd(A);f.call(b)}}var A=XS(n,a,t,0,null,!1,!1,"",j0);return t._reactRootContainer=A,t[cr]=A.current,Ha(t.nodeType===8?t.parentNode:t),Cs(),A}for(;l=t.lastChild;)t.removeChild(l);if(typeof a=="function"){var k=a;a=function(){var b=rd(O);k.call(b)}}var O=mp(t,0,!1,null,null,!1,!1,"",j0);return t._reactRootContainer=O,t[cr]=O.current,Ha(t.nodeType===8?t.parentNode:t),Cs(function(){gd(n,O,s,a)}),O}function yd(t,n,s,a,l){var f=s._reactRootContainer;if(f){var A=f;if(typeof l=="function"){var k=l;l=function(){var O=rd(A);k.call(O)}}gd(n,A,t,l)}else A=ub(s,n,t,l,a);return rd(A)}RA=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=Ca(n.pendingLanes);s!==0&&(Ff(n,s|1),jn(n,zt()),!(gt&6)&&(xo=zt()+500,Hr()))}break;case 13:Cs(function(){var a=dr(t,1);if(a!==null){var l=wn();xi(a,t,1,l)}}),vp(t,1)}};Uf=function(t){if(t.tag===13){var n=dr(t,134217728);if(n!==null){var s=wn();xi(n,t,134217728,s)}vp(t,134217728)}};PA=function(t){if(t.tag===13){var n=Ur(t),s=dr(t,n);if(s!==null){var a=wn();xi(s,t,n,a)}vp(t,n)}};xA=function(){return Ct};NA=function(t,n){var s=Ct;try{return Ct=t,n()}finally{Ct=s}};Hh=function(t,n,s){switch(n){case"input":if(Fh(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==t&&a.form===t.form){var l=dd(a);if(!l)throw Error(Pe(90));lA(a),Fh(a,l)}}}break;case"textarea":dA(t,s);break;case"select":n=s.value,n!=null&&go(t,!!s.multiple,n,!1)}};gA=up;AA=Cs;var hb={usingClientEntryPoint:!1,Events:[nl,co,dd,mA,vA,up]},wa={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fb={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wA(t),t===null?null:t.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{od=bc.inject(fb),Hi=bc}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hb;ti.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ap(n))throw Error(Pe(200));return cb(t,n,null,s)};ti.createRoot=function(t,n){if(!Ap(t))throw Error(Pe(299));var s=!1,a="",l=ZS;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),n=mp(t,1,!1,null,null,s,!1,a,l),t[cr]=n.current,Ha(t.nodeType===8?t.parentNode:t),new gp(n)};ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(Pe(188)):(t=Object.keys(t).join(","),Error(Pe(268,t)));return t=wA(n),t=t===null?null:t.stateNode,t};ti.flushSync=function(t){return Cs(t)};ti.hydrate=function(t,n,s){if(!Sd(n))throw Error(Pe(200));return yd(null,t,n,!0,s)};ti.hydrateRoot=function(t,n,s){if(!Ap(t))throw Error(Pe(405));var a=s!=null&&s.hydratedSources||null,l=!1,f="",A=ZS;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),n=XS(n,null,t,1,s??null,l,!1,f,A),t[cr]=n.current,Ha(t),a)for(t=0;t<a.length;t++)s=a[t],l=s._getVersion,l=l(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,l]:n.mutableSourceEagerHydrationData.push(s,l);return new Ad(n)};ti.render=function(t,n,s){if(!Sd(n))throw Error(Pe(200));return yd(null,t,n,!1,s)};ti.unmountComponentAtNode=function(t){if(!Sd(t))throw Error(Pe(40));return t._reactRootContainer?(Cs(function(){yd(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};ti.unstable_batchedUpdates=up;ti.unstable_renderSubtreeIntoContainer=function(t,n,s,a){if(!Sd(s))throw Error(Pe(200));if(t==null||t._reactInternals===void 0)throw Error(Pe(38));return yd(t,n,s,!1,a)};ti.version="18.3.1-next-f1338f8080-20240426";function ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ey)}catch(t){console.error(t)}}ey(),eA.exports=ti;var pb=eA.exports,B0=pb;xh.createRoot=B0.createRoot,xh.hydrateRoot=B0.hydrateRoot;var ty={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(t,n){(function(s,a){t.exports=a()})(Vy,()=>(()=>{var s={918:function(A,k,O){var b=this&&this.__createBinding||(Object.create?function(G,K,M,v){v===void 0&&(v=M);var y=Object.getOwnPropertyDescriptor(K,M);y&&!("get"in y?!K.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return K[M]}}),Object.defineProperty(G,v,y)}:function(G,K,M,v){v===void 0&&(v=M),G[v]=K[M]}),J=this&&this.__exportStar||function(G,K){for(var M in G)M==="default"||Object.prototype.hasOwnProperty.call(K,M)||b(K,G,M)};Object.defineProperty(k,"__esModule",{value:!0}),J(O(123),k)},123:(A,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.LogImpl=void 0;class O{constructor(J,G){this.module=J,this.enabled=!0,this.shouldLogToConsole=!1,this.queue=[],G&&(G.enable!==void 0&&(this.enabled=G.enable),G.enableConsoleLogging!==void 0&&(this.shouldLogToConsole=G.enableConsoleLogging)),this._nop=(K,M,...v)=>{},this._d=(K,M,...v)=>this.handleLog("DEBUG",K,M,v),this._i=(K,M,...v)=>this.handleLog("INFO",K,M,v),this._w=(K,M,...v)=>this.handleLog("WARN",K,M,v),this._e=(K,M,...v)=>this.handleLog("ERROR",K,M,v)}get d(){return this.enabled?this.shouldLogToConsole?console.debug.bind(console,"%s DEBUG [%s] %s@@",this.renderDate(new Date)):this._d:this._nop}get w(){return this.enabled?this.shouldLogToConsole?console.warn.bind(console,"%s WARN  [%s] %s@@",this.renderDate(new Date)):this._w:this._nop}get i(){return this.enabled?this.shouldLogToConsole?console.info.bind(console,"%s INFO  [%s] %s@@",this.renderDate(new Date)):this._i:this._nop}get e(){return this.shouldLogToConsole?console.error.bind(console,"%s ERROR [%s] %s@@",this.renderDate(new Date)):this._e}setLogCallback(J){this.callback=J,this.callback&&this.queue.length&&window.setTimeout(()=>{this.executeLogCallback(!0)})}isCallbackRegistered(){return!!this.callback}sanitize(J){if(!J)return J;const G=[{secretBlock:/(partnerCustomData" *: *")((\\"|[^"])*)(?=")/g,replaceStr:"$1***"},{secretBlock:/("clientIp" *: *")(\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?=")/g,replaceStr:"$1***"}];for(const K of G)J=J.replace(K.secretBlock,K.replaceStr);return J}stringifyArgs(...J){return J.length?`##${JSON.stringify(J)}`:""}executeLogCallback(J){this.callback&&this.queue.length&&(this.callback(this.queue[0]),this.queue.shift(),J&&this.queue.length&&window.setTimeout(()=>{this.executeLogCallback(!0)}))}handleLog(J,G,K,M){let v=`${K}${this.stringifyArgs(...M)}`,y={timestamp:this.renderDate(new Date),level:J,tag:this.module+"/"+G,message:v};this.queue.push(y),this.callback?window.setTimeout(()=>{this.executeLogCallback(!1)}):this.queue.length>O.MAX_QUEUE_SIZE&&this.queue.shift()}renderDate(J){const G=(M,v,y)=>{const R=v-M.length;if(R>0){let I="";for(let P=0;P<R;P++)I+=y;return I+=M,I}return M};let K="";return K=G(J.getFullYear().toString(),4,"0")+"-"+G((J.getMonth()+1).toString(),2,"0")+"-"+(M=>G(M.getDate().toString(),2,"0"))(J)+" "+(M=>G(M.getHours().toString(),2,"0"))(J)+":"+(M=>G(M.getMinutes().toString(),2,"0"))(J)+":"+(M=>G(M.getSeconds().toString(),2,"0"))(J)+"."+(M=>G(M.getMilliseconds().toString(),3,"0"))(J),K}}k.LogImpl=O,O.MAX_QUEUE_SIZE=50},637:(A,k,O)=>{(()=>{var b={393:(M,v,y)=>{var R=!0,I=!1;function P(e){if(e)switch(e){case"enable":case"on":case"1":case"true":return!0;case"disable":case"off":case"0":case"false":return!1}}var j=y(778),ce=y(754),h=new j.LogImpl("R",{enable:R,Sg:I});function se(){return we||(we=new Be),we}function pe(e,i,r){const o=e.g.startSpan(i);return ce.context.with(ce.trace.setSpan(ce.context.active(),o),async()=>{try{const c=r();return c instanceof Promise?await c:c}finally{o.end()}})}var we,Be=class{constructor(){this.g=ce.trace.getTracer("gfn-web-gamestream","2.0")}},Se=class{constructor(e,i){var r;this.g=0,this.h=this.o=!1,this.promise=new Promise((o,c)=>{this.C=o,this.m=c}),i!=null&&i.aborted?(this.h=!0,this.m()):(this.j=i,this.l=this.s.bind(this),(r=this.j)===null||r===void 0||r.addEventListener("abort",this.l),this.g=window.setTimeout(this.v.bind(this),e))}cancel(){var e;(e=this.j)===null||e===void 0||e.removeEventListener("abort",this.l),this.g&&(window.clearTimeout(this.g),this.g=0),this.j=void 0}s(){this.h=!0,this.m(),this.cancel()}v(){this.o=!0,this.C(),this.g=0,this.cancel()}};function Je(e){return e.os==="Xbox"&&e.browser==="Edge"}function F(e){return e.os==="iOS"||e.os==="iPadOS"}function Q(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}function ee(e){return"0x"+("00000000"+(e>>>0).toString(16).toUpperCase()).slice(-8)}function ae(e){return e?e.os==="iOS":/iPhone|iPod/.test(navigator.userAgent)}function Ae(e){return e.os==="WebOS"}function He(e){return e.os==="ChromeOS"}function oe(e){return e.os==="Windows"}function Ce(e){return e.os==="macOS"}function De(e){return e.os==="Tizen"}var Fe={method:"GET",headers:{},body:"",retryCount:0,timeout:0,keepalive:!1};function _e(){const e=ce.trace.getActiveSpan();e&&e.setAttribute("error","true")}function Et(e,i=Fe,r,o){var c;const d=(c=i.method)!==null&&c!==void 0?c:"GET";return pe(se(),d,()=>{var u=i.headers;const p=ce.trace.getActiveSpan();if(p){var m=new Map([["component","rtcutils-core"],["component.version","2.0"],["http.method",d],["http.url",e],["type",""],["http.hostname",""],["http.path",""]]);try{const E=new URL(e);m.set("type",E.protocol),m.set("http.hostname",E.hostname),m.set("http.path",E.pathname)}catch{h.e("{d988e7f}","{997fb3a}")}for(const[E,T]of m)p.setAttribute(E,T);p.setAttributes(u)}return function(E,T=Fe,x,g){var D,C;let S=T.retryCount===void 0?1:T.retryCount+1;const U=S,H=(D=T.hg)!==null&&D!==void 0?D:500;let B=H;const W=(C=T.method)!==null&&C!==void 0?C:"GET";let _=new Headers;const z=g??new AbortController;return(V=>{if(V)switch(V.type){case 1:V.token&&_.set("authorization","GFNJWT "+V.token);break;case 2:V.token&&_.set("authorization","GFNPartnerJWT auth="+V.token)}T.headers!==void 0&&Object.keys(T.headers).forEach(N=>{_.set(N,T.headers[N])}),V={},ce.propagation.inject(ce.context.active(),V);for(const[N,$]of Object.entries(V))_.set(N,$)})(x),new Promise((V,N)=>{const $=ge=>{_e(),N(ge)},ne=()=>{if(navigator.onLine){let ge,ve={method:W,headers:_,mode:"cors",keepalive:T.keepalive,signal:z.signal,cache:"no-store"};W!=="GET"&&W!=="HEAD"&&(ve.body=T.body);const Me=[0,DOMException.NETWORK_ERR,DOMException.TIMEOUT_ERR,503],Xe=T.timeout?new Se(T.timeout):void 0,ue=[];ue.push(fetch(E,ve)),Xe&&ue.push(Xe.promise),Promise.race(ue).then(Oe=>{if(Xe!=null&&Xe.o)throw h.w("{d988e7f}","{5a69b89}",E),{code:DOMException.TIMEOUT_ERR,message:"Timeout while performing HTTP request"};if(Oe instanceof globalThis.Response)return ge=Oe.status,Oe.text()}).then(Oe=>{if(!Oe&&Me.includes(ge)){if(1<S)throw{code:ge,message:"Internal server error."};h.w("{d988e7f}","{d639e52}",ge,U)}var je=(Oe={status:ge,data:Oe??"",Kc:U-S}).status;const xe=ce.trace.getActiveSpan();xe&&(xe.setAttribute("error","false"),xe.setAttribute("http.status_code",je.toString())),V(Oe)}).catch(Oe=>{const je=xe=>[0,DOMException.NETWORK_ERR,DOMException.TIMEOUT_ERR].includes(xe)?(h.d("{d988e7f}","{0a9fabe}"),3237089282):xe==DOMException.ABORT_ERR?(h.d("{d988e7f}","{235387a}"),15867905):(h.w("{d988e7f}","{f116c88}",xe),3237089284);Oe instanceof Error?h.d("{d988e7f}","{b6e778a}",Oe.message):h.d("{d988e7f}","{ec768a1}",JSON.stringify(Oe),Oe),(Oe=(xe=>{let ot=0;return xe!=null&&xe.code?ot=xe==null?void 0:xe.code:xe!=null&&xe.name&&(xe.name==="AbortError"?ot=DOMException.ABORT_ERR:xe.name==="NetworkError"?ot=DOMException.NETWORK_ERR:xe.name==="TimeoutError"&&(ot=DOMException.TIMEOUT_ERR)),ot})(Oe))==0&&T.keepalive&&(T.keepalive=!1),Me.includes(Oe)?(xe=>{if(1<S){S--,h.d("{d988e7f}","{97555ed}",xe,S);const ot=new Se(B,z.signal);return ot.promise.then(ne).catch(st=>{ot.h?(st={code:15867905,Kc:U-S},_e(),N(st)):(h.w("{d988e7f}","{d3ca39d}",JSON.stringify(st)),st={code:3237089284,Kc:U-S},_e(),N(st))}),B+=H,!0}return!1})(Oe)||(h.w("{d988e7f}","{dff1a05}",U,Oe),$({code:je(Oe),Kc:U-S})):$({code:je(Oe),Kc:U-S})}).finally(()=>{Xe==null||Xe.cancel()})}else $({code:3237089281,description:"No network",Kc:U-S})};ne()})}(e,i,r,o)})}function lt(){var e,i;return(i=(e=window.matchMedia)===null||e===void 0?void 0:e.call(window,"(pointer:coarse)"))===null||i===void 0?void 0:i.matches}function ft(){var e,i;return!!window.TouchEvent&&((i=(e=window.matchMedia)===null||e===void 0?void 0:e.call(window,"(any-pointer:coarse)"))===null||i===void 0?void 0:i.matches)}function vt(e){return e.os==="Tizen"||e.os==="WebOS"}function It(){let e=new Uint8Array(36);window.crypto.getRandomValues(e);let i="";for(let r=0;36>r;r++){let o=e[r]%16;r==8||r==13||r==18||r==23?i+="-":r==14?i+="4":(r==19&&(o=3&o|8),i+=o.toString(16))}return h.i("{d988e7f}","{534eaf4}",i),i}function Ut(e,i){for(let r=0;r<i.length&&r<e.length;++r){const o=e[r],c=i[r];if(o>c)return!0;if(o<c)return!1}if(e.length<i.length){for(e=e.length;e<i.length;++e)if(0<i[e])return!1}return!0}function ln(e,i,r,o,c){if(e.browser!="Chrome")return!1;i=[i,r??0,o??0,c??0];try{return Ut(e.browserBestVer.split(".").map(d=>Number.parseInt(d)),i)}catch{h.w("{d988e7f}","{bcd8f94}")}return!0}function Ke(e,i,r,o){if(!F(e))return!1;try{return mi(e.osVer,i,r,o)}catch{h.w("{d988e7f}","{cf4149f}")}return!i}function mi(e,i,r,o){e=e.replace(/[^0-9.]/,"").split(".").map(d=>Number.parseInt(d));const c=[r,o??0];return e.length===1&&e.push(0),i?e.every((d,u)=>d===c[u]):Ut(e,c)}function Bn(e,i=500){const r=new AbortController;return window.setTimeout(()=>{r.abort()},i),fetch(e,{method:"OPTIONS",signal:r.signal}).then(o=>o).catch(o=>{throw o})}function xt(e,i,r){return{code:e,description:i,error:r!==null?r:void 0}}function jt(e){switch(e){case"ETHERNET":return"ETHERNET";case"WIFI":case"WIFI_2_4":return"WIFI_2_4";case"WIFI_5_0":return"WIFI_5_0";case"MOBILE":return"MOBILE";case"MOBILE_2G":return"MOBILE_2G";case"MOBILE_3G":return"MOBILE_3G";case"MOBILE_4G":return"MOBILE_4G";case"MOBILE_5G":return"MOBILE_5G";case"OTHER":case"BLUETOOTH":case"WIMAX":return"OTHER";default:return"UNKNOWN"}}function ii(e){return e.replace(/(partnerCustomData" *: *")((\\"|[^"])*)(?=")/g,"$1***")}var Cn=class{constructor(e){this.s=new Map,this.sa=e}addListener(e,i){var r=this.s.get(e);r!==void 0?r.add(i):((r=new Set).add(i),this.s.set(e,r))}removeListener(e,i){(e=this.s.get(e))==null||e.delete(i)}removeAllListenersOfEvent(e){this.s.delete(e)}removeAllListeners(){this.s.clear()}hasListener(e){return(e=this.s.get(e))!==void 0&&0<e.size}emit(e,...i){try{let r=this.s.get(e);if(r)for(const o of r)this.sa?o(...i):window.setTimeout(o,0,...i)}catch(r){console.log("Exception in emit: "+r)}}};function Tn(e,i){var r=gn,o=In;let c=[];var d=e;let u=[];do u.push(d),d=Object.getPrototypeOf(d);while(d.name!="");u.reverse();for(let p of u)c.push(p.toString().replace(/(extends )[^ {]*\.([^ ]*[ {])/,"$1$2"));return c.push(`${r.toString()}`),i?(c.push(`${i.toString()}`),c.push(`onconnect = (event) => { ${i.name}(${e.name}, event, ${r.name}); };`)):c.push(`onmessage = (event) => { ${r.name}(${e.name}, event); };`),c.push(`${o.toString()}`),c.push(`onerror = (event) => { ${o.name}(event); };`),URL.createObjectURL(new Blob(c,{type:"text/javascript"}))}function Jt(e,i,r){if(!e.prototype.nb)throw Error("Invalid Worker class provided");e=Tn(e);const o=new Worker(e);URL.revokeObjectURL(e),Gn(o,i,r)}function Di(e,i,r){var o=window;if(o.SharedWorker===void 0)throw Error("SharedWorker not supported");if(!e.prototype.nb)throw Error("Invalid Worker class provided");return e=Tn(e,vi),o=new o.SharedWorker(e),URL.revokeObjectURL(e),Gn(o,i,r),o}const kn=new Map;function ri(e){if(!kn.has(e)){e.postMessage.bind(e)({Rb:2,data:null});var i=window.setTimeout(()=>{const r=kn.get(e);r&&(clearTimeout(r),kn.delete(e)),e instanceof Worker?e.terminate():e instanceof MessagePort&&e.close()},150);kn.set(e,i)}}function Gn(e,i,r){const o="port"in e?e.port:e,c=o.postMessage.bind(o);let d=!1;const u=p=>{d||(d=!0,h.e("{10ca8e2}","{03baf25}",p,typeof p),ri(o),r(p))};o.onmessage=p=>{let m=(p=p.data).data;switch(p.Rb){case 1:c({Rb:3,data:null});break;case 4:i(m),ri(o);break;case 5:u(m)}},"onmessageerror"in o&&(o.onmessageerror=u),e.onerror=u,c({Rb:0,data:null})}function vi(e,i,r){const o=globalThis;o.port=i.ports[0],o.port.onmessage=r.bind(self,e)}function gn(e,i){var r;const o=globalThis;o.Od=(r=o.Od)!==null&&r!==void 0?r:{},i=(r=i.data).Rb,r=r.data;let c="port"in o?o.port:self;switch(i){case 0:var d=new e;o.Od[e.name]=d,c.postMessage({Rb:1,data:null});break;case 2:(d=self==null?void 0:self.close)===null||d===void 0||d.call(self);break;case 3:Promise.resolve(o.Od[e.name].nb()).then(u=>{c.postMessage({Rb:4,data:u})});break;default:throw Error(`Unknown message: ${i}:${r}`)}}function In(e){const i=globalThis;("port"in i?i.port:self).postMessage({Rb:5,data:e})}function Rn(e){return e.start=performance.now(),new Promise(i=>{e.Kf?i(e.u):async function(r){var o=Promise,c=o.all,d=function(S){return new Promise(U=>{let H=!1;const B=N=>{if(S.ka)clearTimeout(S.ka),S.ka=0;else if(H)return h.w("{3c72abb}","{c1bb269}"),void Vn(S,"GL",S.De-performance.now());if(!S.rc){var $=N.Qf;if($.startsWith("ANGLE")){var ne=$.split(",");1<(ne==null?void 0:ne.length)&&(S.gpuDetail=ne[1].trim())}else S.gpuDetail=$;ne=$.toLowerCase(),$.includes("SraKmd")?(S.I=!0,$.includes("SraKmd_arden")&&(S.Da=!0),($=/D3D11-(\d{2,}\.\d{1,}\.\d{5,}\.\d{4,})/.exec($))&&1<$.length&&(S.v=$[1])):$.includes("AMD")&&ne.includes("vangogh")&&(S.Bb=!0),S.Fe=N.Gf,S.rc=!0}U()};let W=!1,_=!1;const z=N=>{typeof N=="string"?Oi(S,"GL",N):"data"in N?Mi(S,"GL",N):Si(S,"GL",N),_=!0,h.e("{3c72abb}","{9e45306}",N)};let V=0;try{self.OffscreenCanvas&&(W=!0,Jt(vr,B,z),V=150)}catch(N){_=!0,$i(S,"GL",N),h.w("{3c72abb}","{caf8cd7}",N)}window.setTimeout(()=>{S.rc||(S.ka=window.setTimeout(()=>{S.ka=0,S.De=performance.now(),_?h.w("{3c72abb}","{fbe663c}"):W?(h.w("{3c72abb}","{2577061}"),si(S,"GL")):(h.i("{3c72abb}","{95c252e}"),zn(S,"GL"));const N=new vr().nb();B(N),H=!0},V))},0)})}(r),u=function(S){return new Promise(U=>{if(navigator.userAgentData){var H=V=>{V&&(S.sa&&(clearTimeout(S.sa),S.sa=0),(N=>{var $;if(!S.Rf){var ne=N.model,ge=N.platform,ve=N.platformVersion,Me=N.uaFullVersion,Xe=N.bitness;ne==""&&ge==""&&ve==""&&Me==""?S.lb&&S.R||S.Ka||Xe==null||S.R&&!S.$||(S.o=!0):Xe==""&&ge!="Android"&&(S.o=!0),ne&&(ne==="Xbox"?S.ca=!0:ne.startsWith("AFT")?(S.ef=!0,S.N=!0):ne.includes("BRAVIA")?(S.N=!0,S.Ye=!0):ne==="Chromecast"?(S.N=!0,S.cf=!0,S.deviceName="CHROMECAST"):ne==="SHIELD Android TV"?(S.N=!0,S.mf=!0,S.deviceName="SHIELDTV"):ne.startsWith("MiTV")?(S.N=!0,S.hf=!0,S.deviceName="MITV"):ne.startsWith("TVision")&&(S.N=!0,S.uf=!0,S.deviceName="TVISION")),ge==="Windows"?S.P=!0:ge==="macOS"?S.L=!0:ge==="Chrome OS"||ge==="ChromeOS"?S.O=!0:ge==="Chromium OS"?S.ea=!0:ge==="Android"?S.da=!0:ge==="Linux"&&(ve==""?(S.da=!0,S.vf=!0):S.na=!0),ne=ue=>{if(ue&&typeof ue=="string")return ue.replace(/[-._,:;|#@]/g,".")},ge=ue=>S.P&&!S.ca?(Oe=>{if(!Oe||!S.qa||95>+S.qa)return Oe;switch(Oe.split(".").map(je=>Number.parseInt(je))[0]){case 0:return"8-";case 1:return"10.0.10240";case 2:return"10.0.10586";case 3:return"10.0.14393";case 4:return"10.0.15063";case 5:return"10.0.16299";case 6:return"10.0.17134";case 7:return"10.0.17763";case 8:return"10.0.18362+";case 9:return"10.0.9";case 10:return"10.0.19041+";case 11:return"10.0.11";case 12:return"10.0.12";case 13:return"11.0.0";case 14:return"11.0.22000.0";case 15:return"11.0.22621.0";default:return"11.0.22621.0+"}})(ue):ue,N.brands&&0<N.brands.length&&function(ue,Oe){var je;ue.ra=!0,Oe.mobile&&(ue.Cb=!0);var xe=Oe.brands||[];Oe=0;for(const ot of xe){xe=ot.brand;const st=ot.version;xe==="Google Chrome"?(ue.ta=!0,ue.m=st):xe==="Microsoft Edge"?(ue.$a=!0,ue.m=st):xe==="Opera"?(ue.ua=!0,ue.m=st):xe==="Yandex"?(ue.ab=!0,ue.m=st):xe==="Chromium"?(ue.Z=!0,ue.m=(je=ue.m)!==null&&je!==void 0?je:st,ue.qa=st):xe==="Android WebView"?(ue.Je=!0,ue.m=st):Oe++}2<Oe&&(ue.He=!0)}(S,N),S.browserFullVer=ne(Me),S.sg=ve,S.v=($=S.v)!==null&&$!==void 0?$:ge(ne(ve)),S.Rf=!0}})(V),U())},B=!1,W=!1,_=0;try{if(self.SharedWorker){B=!0;var z=Di(Is,H,V=>{typeof V=="string"?Oi(S,"HE",V):"data"in V?Mi(S,"HE",V):Si(S,"HE",V),W=!0,h.e("{3c72abb}","{217e106}",V)});_=300}}catch(V){W=!0,h.w("{3c72abb}","{a583546}",V),$i(S,"HE",V)}S.sa=window.setTimeout(()=>{z&&ri("port"in z?z.port:z),W?h.w("{3c72abb}","{dbf4b42}"):B?(h.w("{3c72abb}","{0bf7a38}"),si(S,"HE"),S.Ze=!0):(h.i("{3c72abb}","{7a82b59}"),zn(S,"HE")),new Is().nb().then(V=>{H(V)})},_)}else U()})}(r),p=async function(S){S.uc=!!window.chrome&&await async function(){if(!window.createImageBitmap)return!1;const U=await fetch("data:image/avif;base64,AAAAGGZ0eXBhdmlmAAAAAGF2aWZtaWYxAAADm21ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAHBpY3QAAAAAAAAAAAAAAAAAAAAADnBpdG0AAAAAAAEAAAAiaWxvYwAAAABEQAABAAEAAAAAA7sAAQAAAAAAAAAjAAAAI2lpbmYAAAAAAAEAAAAVaW5mZQIAAAAAAQAAYXYwMQAAAAMbaXBycAAAAvxpcGNvAAACrGNvbHJwcm9mAAACoGxjbXMEMAAAbW50clJHQiBYWVogB+UACAAJAAsAEAAFYWNzcE1TRlQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPbWAAEAAAAA0y1sY21zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANZGVzYwAAASAAAABAY3BydAAAAWAAAAA2d3RwdAAAAZgAAAAUY2hhZAAAAawAAAAsclhZWgAAAdgAAAAUYlhZWgAAAewAAAAUZ1hZWgAAAgAAAAAUclRSQwAAAhQAAAAgZ1RSQwAAAhQAAAAgYlRSQwAAAhQAAAAgY2hybQAAAjQAAAAkZG1uZAAAAlgAAAAkZG1kZAAAAnwAAAAkbWx1YwAAAAAAAAABAAAADGVuVVMAAAAkAAAAHABHAEkATQBQACAAYgB1AGkAbAB0AC0AaQBuACAAcwBSAEcAQm1sdWMAAAAAAAAAAQAAAAxlblVTAAAAGgAAABwAUAB1AGIAbABpAGMAIABEAG8AbQBhAGkAbgAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEIAAAXe///zJQAAB5MAAP2Q///7of///aIAAAPcAADAblhZWiAAAAAAAABvoAAAOPUAAAOQWFlaIAAAAAAAACSfAAAPhAAAtsRYWVogAAAAAAAAYpcAALeHAAAY2XBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbY2hybQAAAAAAAwAAAACj1wAAVHwAAEzNAACZmgAAJmcAAA9cbWx1YwAAAAAAAAABAAAADGVuVVMAAAAIAAAAHABHAEkATQBQbWx1YwAAAAAAAAABAAAADGVuVVMAAAAIAAAAHABzAFIARwBCAAAADGF2MUOBDQwAAAAAFGlzcGUAAAAAAAAAEAAAABAAAAAoY2xhcAAAAAEAAAABAAAAAQAAAAH////xAAAAAv////EAAAACAAAAF2lwbWEAAAAAAAAAAQABBIGCA4QAAAArbWRhdBIACgkfzP/IIEBA0oAyFGW+OwPr0bIHHHHBATZPtaQ3RWTA").then(H=>H.blob());return createImageBitmap(U).then(()=>!0,()=>!1)}()}(r),m=function(S){const U=window.speechSynthesis;if(U){const H=U.getVoices;let B=(H==null?void 0:H.call(U))||[];return new Promise(W=>{if(!H||B.length)Nt(S,B),W();else{let _=0;const z=()=>{B=H.call(U);const V=performance.now();B.length==0&&(_==0||600>V-_)?(S.T&&clearTimeout(S.T),S.T=window.setTimeout(z,150)):(S.T&&(clearTimeout(S.T),S.T=0),Nt(S,B),W())};U.onvoiceschanged!==void 0&&(U.onvoiceschanged=z),window.setTimeout(()=>{B=H.call(U),B.length?z():(S.T=window.setTimeout(z,150),_=performance.now())},0)}})}return new Promise(H=>{H()})}(r),E=function(S){return new Promise(U=>{var H=navigator.userAgent;H&&(H=H.match(S.ze))&&(S.rg=H==null?void 0:H[1],S.mg=H==null?void 0:H[2]),U()})}(r),T=function(S){var U,H,B,W,_,z,V,N,$,ne,ge,ve,Me,Xe;const ue=window,Oe=ue.hasOwnProperty,je=ue.navigator;Oe.call(ue,"MSMediaKeys")?S.Le=!0:Oe.call(ue,"_firefoxTV_cachedScrollPosition")?S.Ne=!0:ue.__edgeActiveElement!==void 0||ue.__edgeTrackingPreventionStatistics?S.bb=!0:ue.safari?S.Ve=!0:ue.opr?S.Pe=!0:ue.oprt?S.ge=!0:je.brave?S.va=!0:ue.OperaTouch!==void 0||ue.ethereum?(S.lb=!0,S.R=!0):ue.yandex?S.ya=!0:ue.QuickAccess?S.xa=!0:ue.chrome?S.$=!0:ue.netscape?S.wa=!0:ue.__firefox__?S.cb=!0:ue.__gCrWeb?S.Va=!0:ue.ReactNativeWebView&&(S.Re=!0),ue.contacts!==void 0||ue.ContactsManager!==void 0?S.R=!0:Oe.call(ue,"onwebOSAccessibilityAlertDone")||ue.webOSSystem||Oe.call(ue,"onwebosaccessibilityalertdone")?S.Af=!0:ue.tizen||ue.TizenTVApiInfo||ue.addEdgeEffectONSCROLLTizenUIF||ue.tizentvwasm?S.Ka=!0:ue.HardkeyEvent&&(S.xf=!0);const xe=ue.Intl;(U=je.mediaCapabilities)!==null&&U!==void 0&&U.decodingInfo&&(S.pe=!0),ue.BigInt&&(S.fg=!0,ue.BigInt64Array&&(S.ie=!0)),ue.PerformanceNavigationTiming&&(S.Ae=!0),ue.WebAssembly&&ue.WebAssembly.Exception&&(S.Me=!0),ue.BroadcastChannel&&(S.je=!0),ue.GPUBuffer&&(S.te=!0),ue.SharedWorker&&(S.Ge=!0),ue.MediaRecorder&&(S.xe=!0),ue.CSSCounterStyleRule&&(S.ke=!0),(U=(H=ue.ArrayBuffer)===null||H===void 0?void 0:H.prototype)!=null&&U.hasOwnProperty("transfer")&&(S.cg=!0),Oe.call(ue,"ondevicelight")&&(S.qe=!0),(B=ue.AbortSignal)!==null&&B!==void 0&&B.abort&&(S.bg=!0),Oe.call(ue,"onbeforeinput")&&(S.eg=!0),xe&&(xe.DisplayNames&&(S.Pa=!0),S.ue=((W=new xe.Collator("zh",{collation:"pinyin"}).resolvedOptions())===null||W===void 0?void 0:W.collation)=="pinyin"),ue.Credential&&(S.oe=!0),ue.LargestContentfulPaint&&(S.we=!0),(_=ue.CSS)!==null&&_!==void 0&&_.registerProperty&&(S.me=!0),(H=(z=ue.HTMLElement)===null||z===void 0?void 0:z.prototype)!=null&&H.hasOwnProperty("autofocus")&&(S.se=!0),je.contacts&&(S.ne=!0),ue.TrustedHTML&&(S.Ie=!0),ue.WakeLock&&(S.Ke=!0),(V=ue.Promise)!==null&&V!==void 0&&V.any&&(S.Ce=!0),ue.FileSystemHandle&&(S.re=!0),(N=ue.Atomics)!==null&&N!==void 0&&N.waitAsync&&(S.dg=!0),(ne=($=ue.CSS)===null||$===void 0?void 0:$.supports)!==null&&ne!==void 0&&ne.call($,"aspect-ratio: auto")&&(S.le=!0),ue.ReadableStreamBYOBReader&&(S.Ee=!0),(ve=(ge=ue.CSS)===null||ge===void 0?void 0:ge.supports)!==null&&ve!==void 0&&ve.call(ge,"overflow: clip")&&(S.ye=!0),(z=(Me=ue.InputEvent)===null||Me===void 0?void 0:Me.prototype)!=null&&z.hasOwnProperty("isComposing")&&(S.ve=!0),Me=(Xe=ue.HTMLVideoElement)===null||Xe===void 0?void 0:Xe.prototype,S.Oe=Me==null?void 0:Me.hasOwnProperty("webkitSupportsPresentationMode")}(r),x=function(S){var U,H,B,W;const _=window.RequestCrowNativeApi;if(_){let z=0;const V=new Promise((ve,Me)=>{z=window.setTimeout(()=>{Me("timeout")},100)}),N=window.zoneless,$=(H=(U=N==null?void 0:N.windowAddEventListener)===null||U===void 0?void 0:U.bind(window))!==null&&H!==void 0?H:window.addEventListener.bind(window),ne=(W=(B=N==null?void 0:N.windowRemoveEventListener)===null||B===void 0?void 0:B.bind(window))!==null&&W!==void 0?W:window.removeEventListener.bind(window);let ge;return U=new Promise(ve=>{ge=Me=>{ve(Me.detail)},$("CrowNativeApiEvent",ge),_(JSON.stringify({Wg:"RequestBrowserVersion"}))}).then(ve=>{var Me;(ve=(Me=ve.browserVersion)===null||Me===void 0?void 0:Me.match(S.ze))&&(S.browserFullVer=ve==null?void 0:ve[1],S.m=ve==null?void 0:ve[2])}),Promise.race([U,V]).catch(()=>{h.d("{3c72abb}","{841bf6f}")}).finally(()=>{window.clearTimeout(z),ne("CrowNativeApiEvent",ge)})}return Promise.resolve()}(r),g=function(S){return new Promise(U=>{let H=!1;const B=N=>{if(S.pa)clearTimeout(S.pa),S.pa=0;else if(H)return h.w("{3c72abb}","{b02109c}"),void Vn(S,"Plat",S.ag-performance.now());S.sc||((N=N.platform)==="MacIntel"?S.ga=!0:N==="iPhone"?S.Na=!0:N==="Win32"?S.ja=!0:N==="iPad"?S.Nb=!0:N==="FreeBSD amd64"?S.oa=!0:N==="Windows"&&(S.ja=!0,S.aa=!0),N.startsWith("Linux")&&(S.S=!0),S.sc=!0),U()};let W=!1,_=!1;const z=N=>{typeof N=="string"?Oi(S,"Plat",N):"data"in N?Mi(S,"Plat",N):Si(S,"Plat",N),_=!0,h.e("{3c72abb}","{6350135}",N)};let V=0;try{W=!0,Jt(Ps,B,z),V=150}catch(N){_=!0,$i(S,"Plat",N),h.w("{3c72abb}","{79668e5}",N)}window.setTimeout(()=>{S.sc||(S.pa=window.setTimeout(()=>{S.pa=0,S.ag=performance.now(),_?h.w("{3c72abb}","{d9e1e01}"):W?(h.w("{3c72abb}","{a8d68cb}"),si(S,"Plat")):(h.i("{3c72abb}","{53e2225}"),zn(S,"Plat"));const N=new Ps().nb();B(N),H=!0},V))},0)})}(r),D=function(S){const U=window;U.ApplePaySession&&U.ApplePaySession.canMakePayments&&(S.tc=!0)}(r),C=function(S){var U=navigator.plugins;for(const H of U)(U=H.name)!=="Native Client"&&(U.startsWith("Microsoft Edge PDF")?S.If=!0:U.startsWith("Chrome PDF")?S.Bf=!0:U.startsWith("Chromium PDF")?S.Ef=!0:U.startsWith("PPAPI SAMSUNGHEALTH")&&(S.Ka=!0))}(r);navigator.maxTouchPoints&&0<navigator.maxTouchPoints&&(r.fa=!0),await c.call(o,[d,u,p,m,E,T,x,g,D,C,void 0,gi(r),Ai(r)]).then(()=>{var S,U,H,B,W,_,z,V,N,$,ne,ge,ve,Me,Xe,ue,Oe,je,xe,ot;if(r.ra&&(r.ga==r.L&&r.ja==r.P||(r.o=!0),(r.O||r.ea||r.da||r.na)&&!r.S&&(r.o=!0),r.m&&r.browserFullVer&&!yi(r.m,r.browserFullVer)&&(r.ua?r.qa&&!yi(r.qa,r.browserFullVer)&&(r.o=!0):r.o=!0),(r.O&&!r.ta||r.ea&&!r.Z)&&(r.o=!0),r.Sa?(r.U&&!r.P||r.F&&!r.L)&&(r.o=!0):r.Ta?r.O||(r.o=!0):r.Ua?r.o=!0:r.U||!r.F||r.L||(r.o=!0),r.s=r.ra&&!r.o,r.W=r.ra&&r.o),!r.Fe&&r.$)r.g="Unknown",r.h="Unknown",r.aa=!0,r.l=3,r.v="0",r.m="0",r.browserFullVer="0",h.d("{3c72abb}","{049d298}");else if(r.Ta)r.g="ChromeOS",tn(r);else if(r.Sa)tn(r),r.U?r.g="Windows":r.F?(r.g="macOS",r.j="APPLE"):r.s?r.P?r.g="Windows":r.L?(r.g="macOS",r.j="APPLE"):r.O||r.ea?(r.g="ChromeOS",r.aa=!0,r.l=7):r.na&&(r.g=Pn(r)):r.ja?r.g="Windows":r.ga?(r.g="macOS",r.j="APPLE"):r.S?r.g=Pn(r):r.oa?r.g="FreeBSD":(r.g="Unknown",r.l=5,h.d("{3c72abb}","{101497c}"));else if(r.Ua)Hn(r),r.U?r.g="Windows":r.F?(r.g="macOS",r.j="APPLE"):r.Se?(r.g="Android",oi(r)):r.S?r.g=Pn(r):r.oa?r.g="FreeBSD":(r.g="Unknown",r.l=5,h.d("{3c72abb}","{49fcccb}"));else if(r.he)r.h="Edge",r.vc?r.s&&r.ca||r.I?(r.g="Xbox",r.j="MICROSOFT",r.Da?r.M="XBOXSERIES":r.I&&(r.M="XBOXONE")):r.g="Windows":r.F?(r.g="macOS",r.j="APPLE"):r.Qa?(r.g="Android",oi(r)):r.s?r.ca?(r.g="Xbox",r.j="MICROSOFT",r.Da?r.M="XBOXSERIES":r.I&&(r.M="XBOXONE")):r.P?r.g="Windows":r.L?(r.g="macOS",r.j="APPLE"):r.O||r.ea?(r.g="ChromeOS",r.aa=!0,r.l=7):r.da?(r.g="Android",oi(r)):r.na&&(r.g=Pn(r)):r.ja?r.g="Windows":r.ga?(r.g="macOS",r.j="APPLE"):r.R?(r.g="Android",oi(r)):r.S?r.g=Pn(r):r.oa?r.g="FreeBSD":(r.g="Unknown",r.l=5);else if(r.U)r.vc?qi(r):(qi(r),r.aa=!0,r.l=5);else if(r.F)Qi(r);else if(r.Qa)pr(r);else if(r.s&&(r.ca||r.P)||r.ja||r.I)qi(r);else if(r.s&&r.L||r.Nb||r.Na||r.ga)Qi(r);else if(r.s&&(r.O||r.ea))r.g="ChromeOS",tn(r);else if(r.xf)r.g="ccOS",r.j="HKMC",r.h="Chromium";else if(r.s&&r.da||r.R)pr(r);else if(r.s&&r.na)r.g=Pn(r),r.Cb||r.fa?(r.h="Unknown",r.l=3):Ji(r)||(r.h="Unknown",r.l=5,h.d("{3c72abb}","{54c6569}"));else if(r.Af)r.g="WebOS",r.j="LG",r.h="Chromium",r.browserFullVer=(je=r.browserFullVer)!==null&&je!==void 0?je:r.rg,r.m=(xe=r.m)!==null&&xe!==void 0?xe:r.mg,r.W=!1;else if(r.Ka){if(r.g="Tizen",r.h="Samsung",(ot=window.webapis)!==null&&ot!==void 0&&ot.productinfo)try{r.v=window.webapis.productinfo.getFirmware(),r.deviceName=window.webapis.productinfo.getRealModel(),r.Za=window.webapis.productinfo.getLicensedVendor()}catch{h.e("{3c72abb}","{bc7dd9b}")}else h.e("{3c72abb}","{844af47}"),r.v="0",r.deviceName="";r.j=r.Za!=="Samsung"&&r.Za?"TIZENLICENSED":"SAMSUNG",je=/(([0-9]+\.)*[0-9]+)\/(([0-9]+\.)*[0-9]+)/,(xe=navigator.userAgent)&&(je=xe.match(je),r.browserFullVer=je==null?void 0:je[0],(je=je==null?void 0:je[1])&&(je=je.split("."),r.m=je==null?void 0:je[0]))}else r.S?r.Ne?(r.g="Android",r.j="AMAZON",Hn(r),r.H="TV"):r.xa?(r.g="Android",r.j="SAMSUNG",r.h="Samsung",oi(r)):Ji(r)?r.W?r.g=Pn(r):!r.Ef||r.Bf||r.If?r.S&&(r.g="Linux"):(r.g=Pn(r),r.h="Chromium",r.l=7):(r.g="Unknown",r.h="Unknown",r.l=0,h.d("{3c72abb}","{be86380}")):r.oa?(r.g="FreeBSD",r.$?r.h="Chrome":r.wa?Hn(r):(r.h="Unknown",r.l=3,h.d("{3c72abb}","{a2c16e4}"))):r.Va||r.cb||r.bb?(r.Na=!0,Qi(r),r.l=7):r.xa?(pr(r),r.l=7):(r.g="Unknown",r.h="Unknown",r.l=0,h.d("{3c72abb}","{f2eecc9}"));switch(r.W&&(r.v="0",r.m="0",r.browserFullVer="0"),r.Qc=performance.now(),r.u.os=(S=r.g)!==null&&S!==void 0?S:"Unknown",r.u.browser=(U=r.h)!==null&&U!==void 0?U:"Unknown",r.u.osRawVer=(H=r.sg)!==null&&H!==void 0?H:"0",r.u.osVer=(B=r.v)!==null&&B!==void 0?B:"0",r.u.browserVer=(W=r.m)!==null&&W!==void 0?W:"0",S=(_=r.browserFullVer)!==null&&_!==void 0?_:void 0,r.u.browserFullVer=S??"0",r.u.browserBestVer=(z=S??r.u.browserVer)!==null&&z!==void 0?z:"0",r.u.confidence=(ge=(ne=($=(N=(V=r.l)!==null&&V!==void 0?V:r.g==="Unknown"?0:void 0)!==null&&N!==void 0?N:r.h==="Unknown"?5:void 0)!==null&&$!==void 0?$:r.Ze?6:void 0)!==null&&ne!==void 0?ne:r.W?8:void 0)!==null&&ge!==void 0?ge:10,r.u.forging=(ve=r.aa)!==null&&ve!==void 0&&ve,r.u.spoofing=(Me=r.W)!==null&&Me!==void 0&&Me,r.u.vendor=(Xe=r.j)!==null&&Xe!==void 0?Xe:"",r.u.vendorFull=(ue=r.Za)!==null&&ue!==void 0?ue:r.u.vendor,_=void 0,r.u.os){case"ChromeOS":_="CHROMEOS";break;case"Windows":_="WINDOWS";break;case"macOS":_="MACOS";break;case"Linux":_="LINUX";break;case"iOS":_="IOS";break;case"iPadOS":_="IPADOS";break;case"Tizen":_="TIZEN";break;case"WebOS":_="WEBOS";break;case"Android":_="ANDROID";break;case"Xbox":_="XBOX";break;case"SteamOS":_="STEAMOS";break;case"ccOS":_="CCOS"}r.u.deviceOS=_,r.u.os!=="iPadOS"||r.Oe?r.Bb?r.u.deviceModel="STEAMDECK":r.M&&(r.u.deviceModel=r.M):r.u.deviceModel="VISIONPRO",r.u.deviceType=(Oe=r.H)!==null&&Oe!==void 0?Oe:function(st,bt){if(bt==="STEAMDECK")return"CONSOLE";switch(st){case"iOS":return"PHONE";case"iPadOS":return"TABLET";case"Xbox":return"CONSOLE";case"WebOS":case"Tizen":return"TV";default:return"DESKTOP"}}(r.u.os,r.u.deviceModel),r.u.totalTime=r.Qc-r.start,r.u.gpuDetail=r.gpuDetail})}(e).then(()=>{e.Kf=!0,i(e.u)})})}function Nt(e,i){if(!e.$f){for(const r of i)(i=r.voiceURI||"").startsWith("Chrome OS")?e.Ta=!0:i.startsWith("Google")?e.Sa=!0:i.includes("moz-tts")?(i.includes("android")&&(e.Se=!0,e.R=!0),e.Ua=!0):i=="English United States"&&(e.Qa=!0),i.includes("Microsoft")?(e.U=!0,i.includes("Online")?e.he=!0:e.vc=!0):i.includes("com.apple")?(e.F=!0,i.includes("Ellen")&&(e.Qe=!0)):i=="Zuzana"&&(e.F=!0);e.We=e.F||e.U||e.Sa||e.Ta||e.Ua||e.Qa,e.$f=!0}}function gi(e){const i=window;e.pc=i.matchMedia("(hover: hover)").matches,e.qc=i.matchMedia("(hover: none)").matches,e.nc=i.matchMedia("(pointer: coarse)").matches,e.oc=i.matchMedia("(pointer: fine)").matches}function Ai(e){return new Promise(i=>{const r=m=>{e.Oa&&(clearTimeout(e.Oa),e.Oa=0),m.Id&&(e.wf=m.Id,e.kg=m.sd,e.jg=m.Nd),i()};let o=!1,c=!1;const d=m=>{typeof m=="string"?Oi(e,"TV",m):"data"in m?Mi(e,"TV",m):Si(e,"TV",m),c=!0,h.e("{3c72abb}","{f49e1b4}",m)};let u,p=0;try{self.SharedWorker&&(o=!0,u=Di(Rs,r,d),p=150)}catch(m){c=!0,h.w("{3c72abb}","{2066dd6}",m),$i(e,"TV",m)}e.Oa=window.setTimeout(()=>{u&&ri("port"in u?u.port:u),c?h.w("{3c72abb}","{cdb3848}"):o?(h.w("{3c72abb}","{f01188c}"),si(e,"TV")):(h.i("{3c72abb}","{db9e3f4}"),zn(e,"TV")),new Rs().nb().then(m=>{r(m)})},p)})}function Vn(e,i,r){e.G?Kt(e.G,"WorkerOverlongDelay",i,r.toString()):e.C.push({type:"WorkerOverlongDelay",name:i,data:r})}function Oi(e,i,r){e.G?Kt(e.G,"WebWorkerProblem",i,r):e.C.push({type:"ErrorString",name:i,data:r})}function Mi(e,i,r){e.G?Kt(e.G,"WorkerMessageProblem",JSON.stringify(r)):e.C.push({type:"MessageEvent",name:i,data:r})}function Si(e,i,r){e.G?Kt(e.G,"WorkerProblem",i,`${r.message} in ${r.filename}@${r.lineno}:${r.colno}`,JSON.stringify(r.error)):e.C.push({type:"ErrorEvent",name:i,data:r})}function $i(e,i,r){var o;e.G?Kt(e.G,"WorkerCreateFailure",i,(o=r==null?void 0:r.stack)!==null&&o!==void 0?o:"",JSON.stringify(r)):e.C.push({type:"WorkerCreateFailure",name:i,data:r})}function si(e,i){e.G?Kt(e.G,"WorkerTimeout",i):e.C.push({type:"WorkerTimeout",name:i})}function zn(e,i){e.G?Kt(e.G,"WorkerUnused",i):e.C.push({type:"WorkerUnused",name:i})}function yi(e,i){if(e==i)return!1;let r=/^(\d+)[.]?(.*)/;if(e=r.exec(e),i=r.exec(i),e==null){if(i==null)return!0}else if(i!=null&&e[1]==i[1]&&e[2]=="")return!0;return!1}function tn(e){e.h="Chrome",!e.m&&e.we&&(e.m=e.me?e.se?e.ne?e.Pa?e.Ie?e.Ke?e.Ce?e.re?e.dg?e.le?e.Ee?e.ye?"90+":"89":"88":"87":"86":"85":"84":"83":"81":"80":"79":"78":"77")}function Pn(e){return e.Bb?"SteamOS":"Linux"}function Hn(e){e.h="Firefox",e.m=e.ue?e.Pa?e.eg?e.bg?e.qe?"88":"89+":"87":"86":"85":"84-"}function oi(e){var i,r,o,c;e.s&&e.N?e.H="TV":e.Cb||e.fa||!e.wf?e.pc&&!e.oc||(e.da?e.vf?e.qc&&e.nc||(e.H="DESKTOP"):e.pc&&e.oc&&(e.H="DESKTOP"):e.qc&&e.nc||(e.H="DESKTOP")):(e.H="TV",e.j=(r=(i=e.j)!==null&&i!==void 0?i:e.kg)!==null&&r!==void 0?r:"",e.deviceName=(c=(o=e.deviceName)!==null&&o!==void 0?o:e.jg)!==null&&c!==void 0?c:"UNKNOWN",e.l=7),e.H||(e.H=600<=(screen.width<screen.height?screen.width:screen.height)?"TABLET":"PHONE")}function qi(e){e.g="Windows",Ji(e)||(e.h="Unknown",e.l=5,h.d("{3c72abb}","{44ce1e0}"))}function Qi(e){e.j="APPLE",e.s&&e.L?(e.g="macOS",Ji(e)||(e.h="Unknown",e.l=5,h.d("{3c72abb}","{b80b712}"))):e.ga?e.fa?(e.g="iPadOS",mr(e)):(e.g="macOS",Ji(e)||(e.h="Unknown",e.l=5,h.d("{3c72abb}","{0f3296f}")),e.h=="Safari"&&(e.m=e.ve?"16.4+":"16.3-")):e.Na?(e.g="iOS",mr(e)):e.Nb?(e.g="iPadOS",mr(e)):(e.aa=!0,e.l=5,e.fa?(e.g="iOS",mr(e),h.d("{3c72abb}","{cf1c572}")):(e.g="macOS",e.h="Unknown",h.d("{3c72abb}","{1eb1815}")))}function pr(e){e.g="Android",e.wa?Hn(e):e.xa?(e.h="Samsung",e.j="SAMSUNG"):e.va?e.h="Brave":e.ya?e.h="Yandex":e.lb?e.h="Opera":e.s?e.$a?e.h="Edge":e.ua?e.h="Opera":e.ab?e.h="Yandex":e.ta||e.Je?(tn(e),Wr(e)):e.Z&&(e.h="Chromium",Wr(e)):e.$?e.uc?tn(e):e.h=e.fa?"Edge":"Silk":(tn(e),e.l=7),oi(e)}function Ji(e){var i;if(e.wa)Hn(e);else if(e.Pe)e.h="Opera";else if(e.va)e.h="Brave";else if(e.ya)e.h="Yandex";else if(e.$)e.I?(e.g="Xbox",e.j="MICROSOFT",e.h="Edge",e.Da?e.M="XBOXSERIES":e.I&&(e.M="XBOXONE")):e.s?e.ca?(e.g="Xbox",e.j="MICROSOFT",e.h="Edge"):e.$a?e.h="Edge":e.ua?e.h="Opera":e.ab?e.h="Yandex":e.ta?tn(e):e.Z&&!e.He&&(e.h="Chromium"):e.uc?e.s&&e.Z?(e.h="Chromium",e.l=9):e.We?e.h="Chromium":(e.h="Chromium",e.l=7):(e.h="Edge",e.g=(i=e.g)!==null&&i!==void 0?i:"Unknown",e.l=7);else if(e.Ve||e.tc)e.h="Safari";else{if(!e.Le)return!1;e.I&&(e.g="Xbox",e.j="MICROSOFT"),e.h="Edge_Legacy"}return!0}function Wr(e){e.ef?(e.j="AMAZON",e.Z&&(e.h="Silk")):e.Ye?e.j="SONY":e.cf?e.j="GOOGLE":e.mf?e.j="NVIDIA":e.hf?e.j="XIAOMI":e.uf&&(e.j="TVISION")}function mr(e){e.v=e.fg?e.Pa?e.ie?e.ke?e.cg?"17.4+":"17+":e.Ge?"16+":e.te?e.Qe?"15.6+":"15.5+":e.je?"15.4+":e.Me?"15.2+":e.Ae?"15.1+":"15+":"14.5+":e.xe?"14.3+":"14+":e.pe?"13+":"12-";var i=e.v;i=!e.oe&&!(i.startsWith("12")||i.startsWith("13")),e.cb?e.h="Firefox":e.ge?e.h="Opera":e.va?e.h="Brave":e.ya?e.h="Yandex":e.bb?e.h="Edge":e.Va?e.h="Chrome":e.tc&&!i?e.h="Safari":e.Re?e.h="ReactNative":i?(e.h="Unknown",e.l=7,h.d("{3c72abb}","{5a39f60}")):(e.h="Unknown",e.l=5,h.d("{3c72abb}","{147d6b4}"))}function Yi(e){var i,r=xs;(i=r.G)===null||i===void 0||Kt(i,"TelemetryHandlerChanged"),r.G=e;for(const o of r.C)switch(e=o.name,i=o.data,o.type){case"ErrorEvent":Si(r,e,i);break;case"MessageEvent":Mi(r,e,i);break;case"WorkerUnused":zn(r,e);break;case"WorkerTimeout":si(r,e);break;case"WorkerCreateFailure":$i(r,e,i);break;case"ErrorString":Oi(r,e,i);break;case"WorkerOverlongDelay":Vn(r,e,i)}r.C=[]}class vr{nb(){const i=(self.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")).getContext("webgl"),r=i&&i.getExtension("WEBGL_debug_renderer_info");return r?{sd:i&&i.getParameter(r.UNMASKED_VENDOR_WEBGL),Qf:i&&i.getParameter(r.UNMASKED_RENDERER_WEBGL),Gf:!0}:{sd:"",Qf:"",Gf:!1}}}class Is{nb(){const i=navigator.userAgentData;return i?i.getHighEntropyValues("platform architecture uaFullVersion platformVersion model bitness".split(" ")).then(r=>(r||(r={}),r.brands||(r.brands=i.brands),r.mobile||(r.mobile=i.mobile),r)):Promise.resolve(void 0)}}class Rs{nb(){let i={Id:!1,Nd:"",sd:""};if(navigator.userAgent){var r=navigator.userAgent.toUpperCase();const o="BRAVIA TIZEN PHILIPSTV GOOGLETV CRKEY CHROMECAST SHIELDTV".split(" "),c="SONY SAMSUNG PHILIPS GOOGLE GOOGLE GOOGLE NVIDIA".split(" ");if(RegExp("BRAVIA|SMARTTV|SMART-TV|PHILIPSTV|GOOGLETV|CRKEY|CHROMECAST|SHIELD Android TV","i").test(r)&&(i.Id=!0,r=r.match(o.join("|"))))for(let d=0;d<o.length;d++)r[0]==o[d]&&(i.Nd=o[d],i.sd=c[d],r[0]=="CRKEY"&&(i.Nd="CHROMECAST"))}return Promise.resolve(i)}}class Ps{nb(){return{platform:navigator.platform}}}const xs=new class{constructor(){this.Qc=this.start=0,this.vc=this.he=this.F=this.U=this.Qa=this.Se=this.Ua=this.Sa=this.Ta=!1,this.Qe=!0,this.sc=this.Rf=this.rc=this.$f=this.Kf=this.Ze=this.W=this.s=this.o=this.ra=this.Fe=this.oc=this.nc=this.qc=this.pc=this.ve=this.Oe=this.ye=this.Ee=this.le=this.dg=this.re=this.Ce=this.Ke=this.Ie=this.ne=this.se=this.me=this.we=this.cg=this.ke=this.Ge=this.oe=this.tc=this.ue=this.Pa=this.eg=this.bg=this.qe=this.xe=this.te=this.je=this.Me=this.Ae=this.pe=this.ie=this.fg=this.uc=this.wf=this.N=this.vf=this.na=this.da=this.ea=this.O=this.L=this.P=this.uf=this.hf=this.mf=this.cf=this.Ye=this.ef=this.ca=this.Bb=this.Da=this.I=this.fa=this.Cb=this.He=this.Je=this.Z=this.ab=this.ua=this.$a=this.ta=this.If=this.Ef=this.Bf=this.xf=this.Ka=this.Af=this.R=this.oa=this.S=this.Nb=this.ja=this.Na=this.ga=this.Re=this.xa=this.ya=this.va=this.lb=this.ge=this.Pe=this.Ne=this.cb=this.wa=this.Va=this.$=this.Ve=this.bb=this.Le=this.We=!1,this.ag=this.De=this.pa=this.Oa=this.sa=this.ka=this.T=0,this.gpuDetail="",this.u={os:"Unknown",osRawVer:"0",osVer:"0",browser:"Unknown",browserVer:"0",browserFullVer:"0",browserBestVer:"0",forging:!0,spoofing:!0,confidence:0,totalTime:0,vendor:"",gpuDetail:""},this.C=[],this.ze=/Chrome\/(([0-9]+)\.[0-9]+\.[0-9]+\.[0-9]+)/}};function Ns(){performance.mark("platformBegin");var e=xs;return e.Be||(e.Be=Rn(e)),e.Be}var Kr=class extends Cn{constructor(e){super(e),this.U=[]}$(e){e={logModule:"R",timeStamp:e.timestamp,logLevel:e.level,logtag:e.tag,logstr:e.message},this.hasListener("Log")?this.emit("Log",e):this.U.push(e)}addListener(e,i){if(super.addListener(e,i),e=="Log"&&0<this.U.length){for(const r of this.U)this.emit("Log",r);this.U=[]}}};function $r(e){switch(e){case"CONSOLE":return"Console";case"TABLET":return"Tablet";case"PHONE":return"Phone";case"TV":return"TV";case"LAPTOP":return"Laptop";case"DESKTOP":return"Desktop";default:return"undefined"}}function Ds(e){switch(e){case"Chrome":return"Chrome";case"Safari":return"Safari";case"Yandex":return"Yandex";case"Edge":return"Edge";case"Edge_Legacy":return"Edge_legacy";case"Firefox":return"Firefox";case"Samsung":return"Samsung";case"Chromium":return"Chromium";case"Opera":return"Opera";case"Brave":return"Brave";case"Silk":return"Silk";default:return"undefined"}}function gr(e){switch(e){case"Windows":return"Windows";case"macOS":return"MacOS";case"ChromeOS":return"ChromeOS";case"Linux":return"Linux";case"iOS":return"iOS";case"iPadOS":return"iPadOS";case"Tizen":return"Tizen";case"WebOS":return"WebOS";case"Xbox":return"Xbox";case"Android":return"Android";case"SteamOS":return"SteamOS";default:return"undefined"}}class qr{constructor(i){i=this.g=i,this.j={os:gr(i.os),browser:Ds(i.browser),deviceType:$r(i.deviceType)},i=this.g,this.l={os:Lo(gr(i.os)),browser:Os(Ds(i.browser)),deviceType:Qr($r(i.deviceType))}}get m(){return this.j}get o(){return this.l}get h(){return this.g}}var Lo=e=>{switch(e){case"Windows":return"WINDOWS";case"MacOS":return"MACOS";case"Linux":return"LINUX";case"ChromeOS":return"CHROMEOS";case"iOS":return"IOS";case"iPadOS":return"IPADOS";case"WebOS":return"WEBOS";case"Tizen":return"TIZEN";case"Xbox":return"XBOX";case"Android":return"ANDROID";case"SteamOS":return"STEAMOS";case"Shield":return"SHIELD";default:return"UNKNOWN"}},Qr=e=>{switch(e){case"Desktop":default:return"DESKTOP";case"Laptop":return"LAPTOP";case"TV":return"TV";case"Phone":return"PHONE";case"Tablet":return"TABLET";case"Console":return"CONSOLE"}},Os=e=>{switch(e){case"Chrome":return"CHROME";case"Safari":return"SAFARI";case"Yandex":return"YANDEX";case"Edge":return"EDGE";case"Edge_legacy":return"EDGE_LEGACY";case"Firefox":return"FIREFOX";case"Samsung":return"SAMSUNG";case"Chromium":return"CHROMIUM";case"Opera":return"OPERA";case"Brave":return"BRAVE";case"Silk":return"SILK";default:return"UNKNOWN"}};let ai;function Ar(e){e.splice(0,e.length)}var _o=class extends Array{constructor(){super(),this.push=this.h}h(...e){return e=Array.prototype.push.apply(this,e),this.g&&this.g(),e}},cn=class{constructor(e){this.name="",this.gdprLevel="behavioral",this.parameters=e,this.ts=new Date().toISOString()}},Ms=class extends cn{constructor(e){super(e),this.name="GS_DebugInfo",this.gdprLevel="technical"}},Ls=class extends cn{constructor(e){super(e),this.name="GS_ExceptionInfo",this.gdprLevel="technical"}},_s=class extends cn{constructor(e){super(e),this.name="GS_ClientMetricEvent",this.gdprLevel="functional"}},Jr=class extends cn{constructor(e){super(e),this.name="GS_Sleep_Event",this.gdprLevel="technical"}},Fs=class extends cn{constructor(e){super(e),this.name="GS_WsCallResult",this.gdprLevel="functional"}},Fo=class extends cn{constructor(e){super(e),this.name="GS_HttpCallResult",this.gdprLevel="functional"}};function L(e,i){e.l.length&&!e.o&&(e.o=window.setTimeout(()=>function(r){if(r.l.length&&r.m){var o=le(r,r.l);r.l=[],Et(r.m,{...r.L,body:o}).then(c=>{200<=c.status&&299>=c.status||h.e("{95feb49}","{1dc64ee}",c.status)}).catch(c=>{h.e("{95feb49}","{a0b4bea}",c)}).finally(()=>{r.o=0,r.l.length&&L(r,2e3)})}else r.o=0}(e),i))}function Z(e,i){if(e.g)switch(i.gdprLevel){case"functional":return e.g.deviceGdprFuncOptIn==="Full"||e.g.deviceGdprFuncOptIn==="Temp";case"technical":return e.g.gdprTechOptIn==="Full";case"behavioral":return e.g.gdprBehOptIn==="Full"}return!1}function le(e,i){var r;(e={...e.g,events:[]}).sentTs=new Date().toISOString();for(const o of i)i={name:o.name,ts:o.ts,parameters:o.parameters},(r=e.events)===null||r===void 0||r.push(i);return JSON.stringify(e)}var Te=class{constructor(e){this.telemetryEventIds={},this.m="",this.l=[],this.o=0,this.L={method:"POST",headers:{"Content-Type":"application/json"},body:"",retryCount:3,timeout:2e3},this.F=e}configure(e){if(!e.option)return h.e("{95feb49}","{e936979}"),!1;if(typeof e.option=="function"){h.i("{95feb49}","{01ded8b}"),this.s=e.option,this.m=void 0,this.o&&(window.clearTimeout(this.o),this.o=0);for(const i of this.l)this.s(i);this.l=[]}else{if(typeof e.option!="string")return h.e("{95feb49}","{328a30f}"),!1;h.i("{95feb49}","{c76ea37}"),this.m=e.option,this.s=void 0,this.g&&L(this)}return!0}updateTelemetryCommonData(e){var i,r,o,c,d,u,p,m,E,T;const x=(i=this.g)===null||i===void 0?void 0:i.sessionId;this.g={...e,events:[]},this.g.clientId=this.F.clientId,this.g.eventSchemaVer=this.F.eventSchemaVer,this.g.deviceMake=(r=this.g.deviceMake)!==null&&r!==void 0?r:"undefined",this.g.deviceModel=(o=this.g.deviceModel)!==null&&o!==void 0?o:"undefined",this.g.integrationId=(c=this.g.integrationId)!==null&&c!==void 0?c:"undefined",this.g.userId=(d=this.g.userId)!==null&&d!==void 0?d:"undefined",this.g.externalUserId=(u=this.g.externalUserId)!==null&&u!==void 0?u:"undefined",this.g.idpId=(p=this.g.idpId)!==null&&p!==void 0?p:"undefined",this.g.eventProtocol=(E=(m=this.g)===null||m===void 0?void 0:m.eventProtocol)!==null&&E!==void 0?E:"1.5",this.g.eventSysVer="2.0",this.g.sessionId=(T=this.g.sessionId)!==null&&T!==void 0?T:x,this.g.sessionId||(this.g.sessionId=It(),h.i("{95feb49}","{7d66b6c}",this.g.sessionId)),this.L.headers["X-Event-Protocol"]=this.g.eventProtocol,this.m&&(this.l=this.l.filter(g=>Z(this,g)),L(this))}updateTelemetryEventIds(e){this.telemetryEventIds={...e}}h(e,i){e={name:e.name,parameters:e.parameters,gdprLevel:e.gdprLevel,ts:e.ts,clientConfig:this.F},this.s?this.s(e):this.m&&this.g?Z(this,e)&&(i?(i=le(this,[e]),e=navigator.sendBeacon(this.m,new Blob([i],{type:"text/plain"})),h.i("{95feb49}","{6267b70}",e,i)):(this.l.push(e),L(this))):this.l.push(e)}};window.RtcUtils=window.RtcUtils||{};var ye={Ga:{},Vb:{type:"UNKNOWN",version:""},Md:!0,$e:!1,fe:!0,ee:!1};function Ve(e){var i,r,o,c,d;if(h.i("{11b33a0}","{e65e133}",JSON.stringify(e)),function(u){var p,m;if(u.overrideData){const E=new URLSearchParams(u.overrideData.toLowerCase());E.get("mode")==="lean"&&(R=!1),I=(R=(p=(u=T=>P(T=E.get(T)))("log"))!==null&&p!==void 0?p:R)&&((m=u("console"))!==null&&m!==void 0?m:I)}}(e),e.gxtOverrideData){const u=JSON.parse(e.gxtOverrideData);if(u.params)for(const p of u.params)p.name==="pmCommunication"&&(ye.Ga.pmCommunication=p.value,ye.Vb={type:"GXT",version:p.version})}if(e.overrideData){const u=new URLSearchParams(e.overrideData.toLowerCase());e=p=>P(p=u.get(p)),ye.Md=(i=e("log"))!==null&&i!==void 0?i:ye.Md,ye.$e=ye.Md&&((r=e("console"))!==null&&r!==void 0?r:ye.$e),ye.fe=(o=e("websocketsignaling"))!==null&&o!==void 0?o:ye.fe,ye.ee=(c=e("webrtcstreamer"))!==null&&c!==void 0?c:ye.ee,ye.hdr=(d=e("hdr"))!==null&&d!==void 0?d:ye.hdr}}var Ze=class extends cn{constructor(e){super(e),this.name="GridServer_GameLaunch_Request",this.gdprLevel="functional"}};const $e={clientName:"GFN_GridServer",clientId:"93289439828086895",eventSchemaVer:"2.1"};function qe(e,i,r){var o,c,d,u=At;return{requestedZoneAddress:e,zoneName:"",networkSessionId:(o=u.telemetryEventIds.networkTestId)!==null&&o!==void 0?o:"",sessionId:r??"",subSessionId:"",resumeType:i?"MANUAL":"NONE",overrideConfigType:ye.Vb.type,overrideConfigVersion:ye.Vb.version,result:"",codec:"UNKNOWN",ipVersion:"UNKNOWN",launchDuration:0,networkType:u.networkType,streamingProfileGuid:(c=u.telemetryEventIds.streamingProfileGuid)!==null&&c!==void 0?c:"",systemInfoGuid:(d=u.telemetryEventIds.systemInfoGuid)!==null&&d!==void 0?d:"",cmsId:String(u.cmsId)}}function Ge(e){var i=At;e=new Fo({callDuration:e.callDuration,verb:e.verb,sessionId:e.sessionId,subSessionId:e.subSessionId,serverId:e.serverId,url:e.url,overrideConfigType:ye.Vb.type,overrideConfigVersion:ye.Vb.version,requestStatusCode:e.requestStatusCode,requestId:e.requestId,networkType:i.networkType,statusCode:e.statusCode,cmsId:String(i.cmsId),moduleName:"GRID_SERVER",response:e.response}),i.h(e)}function Ye(e){var i,r,o=At;e.launchDuration=Math.round(e.launchDuration),(e=new Ze(e)).parameters.sessionId||(e.parameters.sessionId=o.sessionId),e.parameters.subSessionId||(e.parameters.subSessionId=o.subSessionId),e.parameters.systemInfoGuid=(i=o.telemetryEventIds.systemInfoGuid)!==null&&i!==void 0?i:"",e.parameters.streamingProfileGuid=(r=o.telemetryEventIds.streamingProfileGuid)!==null&&r!==void 0?r:"",o.h(e)}function it(e,i,r){var o,c,d=At;if(50<=d.v)var u=!1;else{var p=(u=d.j.get(i))!==null&&u!==void 0?u:0;10<=p?u=!1:(d.v++,d.j.set(i,p+1),u=!0)}u&&(!o&&e&&(o=e.name+": "+e.message),e=new Ls({filename:r,lineno:0,stacktrace:(c=e==null?void 0:e.stack)!==null&&c!==void 0?c:"",colno:0,handled:"TRUE",category:o??"",message:i,moduleName:"GRID_SERVER",sessionId:d.sessionId,subSessionId:d.subSessionId}),d.h(e))}function St(e){var i=At;i.subSessionId=e,i.j.clear(),i.v=0}var At=new class extends Te{constructor(){super($e),this.networkType="UNKNOWN",this.subSessionId=this.sessionId=this.cmsId="",this.j=new Map,this.v=0}setNetworkType(e){this.networkType=jt(e)}};function dn(e){switch(e){case 15867905:case 15867906:case 15867907:return!0;default:return!1}}function Us(e){switch(e){case"ready_for_connection":case"streaming":case"paused":return!0;default:return!1}}function Uo(e){switch(e){case 1:return"initializing";case 2:return"ready_for_connection";case 3:return"streaming";case 4:case 5:return"paused";case 6:return"resuming";case 7:return"finished";default:return"unknown"}}function un(e){switch(e){case 3237085186:return"invalid operation";case 15859712:return"success";case 3237093379:case 3237093381:return"Invalid server response";case 3237093384:return"Exception";case 15867907:case 15867905:case 15867906:return"cancelled";case 15868417:return"no network";case 3237089282:return"network error";default:return"server error"}}function sl(e,i){var r,o;return function(c,d){if(c["content-type"]="application/json",d.deviceOs!==void 0&&(c["nv-device-os"]=d.deviceOs),d.deviceType!==void 0&&(c["nv-device-type"]=d.deviceType),d.deviceMake!==void 0&&(c["nv-device-make"]=d.deviceMake),d.deviceModel!==void 0&&(c["nv-device-model"]=d.deviceModel),d.clientType!==void 0&&(c["nv-client-type"]=d.clientType),d.clientAppVersion!==void 0&&(c["nv-client-version"]=d.clientAppVersion),d.clientStreamer!==void 0&&(c["nv-client-streamer"]=d.clientStreamer),d.clientId!==void 0&&(c["nv-client-id"]=d.clientId),d.deviceId!==void 0&&(c["x-device-id"]=d.deviceId),d.browserType!==void 0&&(c["nv-browser-type"]=d.browserType),d.clientHeaders)for(const[u,p]of d.clientHeaders)(d=u).toLowerCase()!=="x-nv-client-identity"&&(c[d.toLowerCase()]=p)}(e.o.headers,i),e.s.set("component","gridserver-core"),e.s.set("component.version","2.0"),e.s.set("client.name","GFN-PC"),e.s.set("client.version","29.0"),e.s.set("client.os",(r=i.deviceOs)!==null&&r!==void 0?r:""),e.s.set("client.os.version",(o=i.deviceOsVer)!==null&&o!==void 0?o:""),e.serverAddress=i.serverAddress,e.clientPlatformName=i.clientPlatformName,e.deviceId=i.deviceId,(e.serverAddress.startsWith("mockpm://")||e.serverAddress.toLocaleLowerCase()==="mockpm.com")&&(e.serverAddress=e.serverAddress.replace("mockpm://",""),e.protocol="http://"),e.u||e.clientPlatformName!=="browser"||Ns().then(c=>{e.u=c}),!0}function wi(e){const i=ce.trace.getActiveSpan();if(i)for(const[r,o]of e.s)i.setAttribute(r,o)}function ol(e,i,r,o,c){const d=It();return new Promise((u,p)=>{const m=!!c;var E=()=>{var x;const g={code:3237085186,subSessionId:d};Gt(g.code);const D=qe((x=i.serverAddress)!==null&&x!==void 0?x:"",m,c);D.result=ee(g.code),D.subSessionId=d,Ye(D),u(g)};if(jo(e))if(e.I())h.e("{1daeef1}","{3753849}"),E();else{At.cmsId=i.appId,St(d),E=dl(e,i,c);var T=new URL(E).hostname;e.g={resolve:u,reject:p,sessionId:c,subSessionId:d,Uf:o,Jd:Number.MAX_VALUE,dd:!1,Tc:r,Kd:qe(T,m),startTime:performance.now()},p=ul(e,i,m,d),li(e,m?1:0,E,p,r).then(x=>{!m&&x.result===15859712&&x.session&&h.i("{1daeef1}","{7c01bce}",x.session.sessionId),e.O(x)}).catch(x=>{e.N(x)})}else h.e("{1daeef1}","{3781843}"),E()}).catch(u=>(e.l.clear(),Ar(e.h),e.g=void 0,js(u,"startOrResumeSession"),Gt(3237093384),{code:3237093384,subSessionId:d}))}function jo(e){return e.C.type===-1||!!e.C.token}function Gt(e,i){const r=ce.trace.getActiveSpan();r&&(dn(e)?(r.setAttribute("error",!1),r.setAttribute("error.description",un(e))):e==15859712?r.setAttribute("error",!1):(r.setAttribute("error",!0),r.setAttribute("error.description",i??un(e))))}function Li(e,i){let r=e.protocol;return i&&e.v.has(i)?(e=e.v.get(i))!==void 0&&(r+=e.server,e.port!=0&&(r+=":"+e.port)):r+=e.serverAddress,r+"/v2/session/"+i}function li(e,i,r,o,c,d){var u;const p=g=>!dn(g)&&(g!==15859712||i!==3);let m={method:(()=>{switch(i){case 0:return"POST";case 2:return"DELETE";case 1:case 4:return"PUT";default:return"GET"}})(),headers:e.o.headers,body:o,retryCount:e.o.retryCount,timeout:e.o.timeout};i!==2&&i!==4||(m.keepalive=!0,e.u&&e.u.browser=="Chrome"&&!ln(e.u,81)&&(m.keepalive=!1));const E=performance.now();let T=function(g,D,C){return{url:g,verb:D,statusCode:"0",requestStatusCode:"",sessionId:C??"",subSessionId:At.subSessionId,requestId:"",serverId:"",callDuration:0,response:"None"}}(r,(u=m.method)!==null&&u!==void 0?u:"",d);T.statusCode="0";let x="";return Et(r,m,e.C,c).then(g=>{x=g.data;var D=performance.now();if(T.statusCode=g.status.toString(),T.callDuration=Math.round(D-E),!g.data)throw h.e("{1daeef1}","{ea40865}"),new SyntaxError("The response from server does not contain any data");try{var C=JSON.parse(g.data)}catch(z){throw T.response=g.data,z}if(!C.requestStatus)throw h.e("{1daeef1}","{862f264}",Bo(g.data)),new SyntaxError("RequestStatus missing in response");g=C.requestStatus.serverId.toUpperCase(),T.requestId=C.requestStatus.requestId,T.serverId=g,T.requestStatusCode=C.requestStatus.statusDescription;var S,U,H,B=3237093632;if((D=C.requestStatus).statusCode!==void 0){var W=D.statusCode;W==1?B=15859712:0<W&&255>W&&(B=3237093632+W),B!=3237093636&&B!=3237093672||!D.unifiedErrorCode||(B=D.unifiedErrorCode)}if(D.unifiedErrorCode&&h.i("{1daeef1}","{d2c9cc8}",ee(D.unifiedErrorCode)),g={result:B,kd:C,serverId:g},D=C.requestStatus,B=ce.trace.getActiveSpan()){W=new Map([["host.dc",(S=D.serverId)!==null&&S!==void 0?S:""],["request.id",(U=D.requestId)!==null&&U!==void 0?U:""],["request.status",(H=D.statusDescription)!==null&&H!==void 0?H:""]]);for(const[z,V]of W)B.setAttribute(z,V)}if(i===5)(C=C.sessions)&&(g.activeSessions=ll(e,C));else if(i!==2){var _;(S=C.session)&&(g.session=al(e,S),(U=ce.trace.getActiveSpan())==null||U.setAttribute("session.status",(_=S.status)!==null&&_!==void 0?_:""),T.sessionId=g.session.sessionId),(C=C.otherUserSessions)&&(g.activeSessions=ll(e,C),g.activeSessions.length&&h.d("{1daeef1}","{ba4be1c}",g.activeSessions.length))}return T&&p(g.result)&&(Ge(T),T=void 0),g}).catch(g=>{let D={result:3237089282};const C=performance.now();if(g.code){var S=3237093384;(g=g.code)===3237089281?S=15868417:g===3237089282?S=3237089282:g===3237093377?S=3237093377:g===3237093379?S=3237093379:g===3237089283?S=3237089283:g==15867905&&(S=15867907),D.result=S}else S=!1,(g instanceof SyntaxError||g instanceof TypeError&&g.message&&g.message.includes("Cannot read property"))&&(S=!0,h.e("{1daeef1}","{d8979bb}",g.name,g.message)),S?(D.result=3237093379,h.e("{1daeef1}","{04bcd6f}",Bo(x))):(D.result=3237093384,h.e("{1daeef1}","{94d55bb}",g,g.stack),it(g,"performSessionRequest","sessioncontrolimpl.ts"));return T&&p(D.result)&&(T.callDuration=Math.round(C-E),Ge(T)),h.e("{1daeef1}","{9c647aa}",m.method,r),h.e("{1daeef1}","{200d7ba}",D.result,un(D.result)),D})}function js(e,i){h.e("{1daeef1}","{32f1296}",i,e.message),h.e("{1daeef1}","{94d55bb}",e,e.stack),it(e,i,"sessioncontrolimpl.ts")}function al(e,i){var r;let o={sessionId:i.sessionId,subSessionId:"",appId:0,appLaunchMode:0,state:Uo(i.status),zoneAddress:"",zoneName:"",deviceId:"",gpuType:"",monitorSettings:[],connectionInfo:[],finalizedStreamingFeatures:i.finalizedStreamingFeatures};if(o.appId=i.sessionRequestData?i.sessionRequestData.appId:0,i.connectionInfo){var c=i.connectionInfo;if(e.clientPlatformName==="browser"){let u=!1;for(var d of c)if(d.usage===2){u=!0,o.connectionInfo.push(d);const p={ip:"",port:49100,appLevelProtocol:5,protocol:1,usage:14};d=d.ip.split("."),p.ip=d[0]+"-"+d[1]+"-"+d[2]+"-"+d[3],p.ip+=i.sessionControlInfo.ip.substring(i.sessionControlInfo.ip.indexOf(".")),h.d("{1daeef1}","{cf7d7ea}",p.ip),o.connectionInfo.push(p);break}u||(o.connectionInfo=c)}else o.connectionInfo=c}switch(i.monitorSettings&&(o.monitorSettings=i.monitorSettings),i.gpuType&&(o.gpuType=i.gpuType),(r=i.sessionRequestData)===null||r===void 0?void 0:r.appLaunchMode){case 3:o.appLaunchMode=2;break;case 2:o.appLaunchMode=1}return i.sessionControlInfo&&(r=i.sessionControlInfo.ip,i=i.sessionControlInfo.port,r&&i&&(e.v.has(o.sessionId)&&(((c=e.v.get(o.sessionId))==null?void 0:c.server)===r&&(c==null?void 0:c.port)===i||h.i("{1daeef1}","{f09f5be}",o.sessionId,c==null?void 0:c.server,c==null?void 0:c.port,r,i)),e.v.set(o.sessionId,{server:r,port:i})),o.zoneAddress=r,o.zoneName=r.split(".")[0].toUpperCase()),o}function ll(e,i){return i.map(r=>al(e,r))}function cl(e,i,r,o,c,d,u){const p=()=>{wi(e);let x=Li(e,i),g={action:6,adUpdates:Array.from(e.h)};h.d("{1daeef1}","{dbca4b1}",JSON.stringify(g)),Ar(e.h),li(e,4,x,JSON.stringify(g),r,i).then(D=>{o(D)}).catch(D=>c(D))};for(var m=e.h.length-1,E=0;1<=m;)e.h[m].adAction===3&&e.h[m-1].adAction===2?(e.h.splice(m-1,2),E++,m-=2):e.h[m-1].adAction===3?m--:m-=2;E&&h.d("{1daeef1}","{98a2816}",E),E=!1,m=1e3*e.m.adsWaitTimeoutS;const T=e.h.length;if(T&&(e.h[T-1].adAction===4&&1<e.l.size||e.h[T-1].adAction===2?m=e.m.adsThrottleIntervalMS:E=!0),E)pe(se(),"AdUpdateRequest",p);else{E=new Promise(g=>{e.h.g=g});const x=new Se(m,r.signal);Promise.race([x.promise,E]).then(()=>{e.h.g=void 0,x.cancel(),e.h.length?e.h.length==T?pe(se(),"AdUpdateRequest",p):cl(e,i,r,o,c,d,u):(h.w("{1daeef1}","{5e1dfd0}"),u())}).catch(g=>{e.h.g=void 0,x.h?(h.i("{1daeef1}","{d7114d7}"),d()):c(g)})}}function dl(e,i,r){var o,c,d;return r?e=Li(e,r):(r=(o=i.serverAddress)!==null&&o!==void 0?o:e.serverAddress,e=e.protocol+r+"/v2/session"),(e+="?keyboardLayout="+((c=i.keyboardLayout)!==null&&c!==void 0?c:"en_US"))+"&languageCode="+((d=i.clientLocale)!==null&&d!==void 0?d:"en_US")}function ul(e,i,r,o){var c,d,u,p,m,E,T,x,g;let D;switch(i.appLaunchMode){case 2:h.d("{1daeef1}","{6d5cf87}"),D=3;break;case 1:D=2;break;default:D=1}let C=(u=(d=(c=i.monitorSettings)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.sdrHdrMode)!==null&&u!==void 0?u:0;if(ye.hdr){C=1;for(const S of i.monitorSettings)S.sdrHdrMode=1}c={audioMode:2,remoteControllersBitmap:(p=i.remoteControllersBitmap)!==null&&p!==void 0?p:0,sdrHdrMode:C,networkTestSessionId:null,availableSupportedControllers:[],clientVersion:"29.0",deviceHashId:e.deviceId,internalTitle:null,clientPlatformName:e.clientPlatformName,metaData:[{key:"SubSessionId",value:o},{key:"wssignaling",value:ye.fe?"1":"0"}],surroundAudioInfo:0,clientTimezoneOffset:(m=i.clientTimeZoneOffset)!==null&&m!==void 0?m:-6e4*new Date().getTimezoneOffset(),clientIdentification:"GFN-PC",parentSessionId:null,appId:i.appId,streamerVersion:1,clientRequestMonitorSettings:i.monitorSettings,appLaunchMode:D,sdkVersion:"1.0",enhancedStreamMode:1,useOps:!0,clientDisplayHdrCapabilities:null,accountLinked:(E=i.accountLinked)!==null&&E!==void 0&&E,partnerCustomData:(T=i.partnerCustomData)!==null&&T!==void 0?T:"",enablePersistingInGameSettings:(x=i.enablePersistingInGameSettings)!==null&&x!==void 0&&x,secureRTSPSupported:!1,userAge:(g=i.userAge)!==null&&g!==void 0?g:0,requestedStreamingFeatures:i.streamingFeatures},ye.ee||e.clientPlatformName==="browser"?c.metaData.push({key:"GSStreamerType",value:"WebRTC"}):c.secureRTSPSupported=!0;for(const S in i.metaData)c.metaData.push({key:S,value:i.metaData[S]});return e=JSON.stringify(r?{action:2,data:"RESUME",sessionRequestData:c,metaData:[]}:{sessionRequestData:c}),h.i("{1daeef1}","{c6c3ed4}",r?"PUT":"POST",ii(e)),e}function Yr(e,i,r,o){var c,d,u;if(e.g)try{const p={code:i,subSessionId:(c=e.g.subSessionId)!==null&&c!==void 0?c:"",session:e.g.ug,zoneName:r,activeSessions:o},m=e.g.Kd;m.result=ee(i),m.zoneName=r??"",m.sessionId=(d=e.g.sessionId)!==null&&d!==void 0?d:"",m.launchDuration+=performance.now()-e.g.startTime,Ye(e.g.Kd),Gt(i),h.d("{1daeef1}","{c4902fa}",ee(i),(u=e.g.sessionId)!==null&&u!==void 0?u:""),e.g.resolve(p),e.g=void 0,e.l.clear(),Ar(e.h)}catch(p){e.g&&(e.g.reject(p),e.g=void 0)}}var hl=class{constructor(){var e,i,r,o,c,d,u,p,m,E,T,x,g,D,C,S,U,H,B,W,_,z;let V;this.v=new Map,this.o={...Fe},this.C={type:1},this.s=new Map,this.protocol="https://",this.h=new _o,this.l=new Map,this.clientPlatformName=this.deviceId=this.serverAddress="",V=0+((i=(e=ye.Ga.pmCommunication)===null||e===void 0?void 0:e.httpConnectionTimeout)!==null&&i!==void 0?i:0),V+=(o=(r=ye.Ga.pmCommunication)===null||r===void 0?void 0:r.httpDataReceiveTimeout)!==null&&o!==void 0?o:0,this.o.timeout=V?1e3*V:13e3,this.o.retryCount=(d=(c=ye.Ga.pmCommunication)===null||c===void 0?void 0:c.httpRetryCount)!==null&&d!==void 0?d:3,this.o.hg=(p=(u=ye.Ga.pmCommunication)===null||u===void 0?void 0:u.httpBackOffDelay)!==null&&p!==void 0?p:500,this.m={wg:(E=(m=ye.Ga.pmCommunication)===null||m===void 0?void 0:m.pollingIntervalMin)!==null&&E!==void 0?E:1e3,vg:(x=(T=ye.Ga.pmCommunication)===null||T===void 0?void 0:T.pollingIntervalMax)!==null&&x!==void 0?x:1e4,step:(D=(g=ye.Ga.pmCommunication)===null||g===void 0?void 0:g.pollingIntervalStep)!==null&&D!==void 0?D:1e3,Jf:(S=(C=ye.Ga.pmCommunication)===null||C===void 0?void 0:C.pollingQueueSizePerStep)!==null&&S!==void 0?S:50,adsPollingIntervalMinMS:(H=(U=ye.Ga.pmCommunication)===null||U===void 0?void 0:U.adsPollingIntervalMinMS)!==null&&H!==void 0?H:3e3,adsThrottleIntervalMS:(W=(B=ye.Ga.pmCommunication)===null||B===void 0?void 0:B.adsThrottleIntervalMS)!==null&&W!==void 0?W:2e3,adsWaitTimeoutS:(z=(_=ye.Ga.pmCommunication)===null||_===void 0?void 0:_.adsWaitTimeoutS)!==null&&z!==void 0?z:600}}setAuthInfo(e){this.C=e}setNetworkType(e){At.setNetworkType(e)}startSession(e,i,r){return pe(se(),"StartSession",()=>(wi(this),ol(this,e,i,r)))}resumeSession(e,i,r,o){return pe(se(),"ResumeSession",()=>(wi(this),ol(this,i,r,o,e)))}deleteSession(e,i){return pe(se(),"DeleteSession",()=>(wi(this),jo(this)?li(this,2,Li(this,e),"",i,e).then(r=>(r.result==15859712?(this.v.delete(e),h.d("{1daeef1}","{6206c13}",e)):h.e("{1daeef1}","{4de47e3}",e,ee(r.result)),Gt(r.result),r.result)).catch(r=>(js(r,"deleteSession"),Gt(3237093384),3237093384)):(h.e("{1daeef1}","{4fed44a}"),Gt(3237085186),Promise.resolve(3237085186))))}getActiveSessions(e){return pe(se(),"GetSessionList",()=>(wi(this),jo(this)?li(this,5,this.protocol+this.serverAddress+"/v2/session","",e).then(i=>(Gt((i={code:i.result,activeSessions:i.activeSessions,zoneName:i.serverId}).code),i.code!==15859712?h.e("{1daeef1}","{9d2bb75}",ee(i.code)):h.d("{1daeef1}","{081857f}"),i)).catch(i=>(js(i,"getActiveSessions"),Gt((i={code:3237093384}).code),i)):(h.e("{1daeef1}","{dc27839}"),Gt(3237085186),Promise.resolve({code:3237085186}))))}getSessionInfo(e,i){return pe(se(),"GetSession",()=>li(this,3,Li(this,e),"",i,e).then(r=>((r={code:r.result,session:r.session,zoneName:r.serverId}).code!==15859712?h.e("{1daeef1}","{021d0f4}",ee(r.code)):h.d("{1daeef1}","{fa53c7c}"),r)).catch(r=>(js(r,"getSessionInfo"),Gt((r={code:3237093384}).code),r)))}I(){return!!this.g}updateAdState(e){if(!this.I())return h.e("{1daeef1}","{20d9281}"),3237085186;const i=this.l.get(e.adId);if(!i)return h.e("{1daeef1}","{74daa9c}",e.adId),3237093386;const r=function(o){switch(o){case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;default:return 0}}(e.adAction);if(!function(o,c){switch(c){case 2:return o==1||o==0;case 3:case 5:return o==2||o==4;case 4:return o==3;case 6:return o!=5;default:return!1}}(i.ed,r))return h.e("{1daeef1}","{09d8184}",e.adAction,e.adId,i.ed),3237093386;if(this.h.length){const o=this.h[this.h.length-1].adId;if(o!==e.adId){const c=this.h[this.h.length-1].adAction;if(c!=4&&c!=5)return h.e("{1daeef1}","{c161587}",o),3237093386}}return e.clientTimestamp||(e.clientTimestamp=Math.round(Date.now()/1e3)),this.h.push(e),i.ed=r,this.l.set(e.adId,i),15859712}M(){var e,i;this.g&&li(this,3,Li(this,(e=this.g.sessionId)!==null&&e!==void 0?e:""),"",this.g.Tc,(i=this.g.sessionId)!==null&&i!==void 0?i:"").then(r=>{this.O(r)}).catch(r=>{this.N(r)})}N(e){h.e("{1daeef1}","{e3be7ea}",e.message),it(e,"processSessionSetupException","sessioncontrolimpl.ts"),Yr(this,3237093384)}O(e){var i,r,o;if(this.g){var c=()=>{Yr(this,d.dd?15867906:15867905)},d=this.g;if(e.session&&(e.session.subSessionId=this.g.subSessionId,this.g.ug=e.session,this.g.sessionId=e.session.sessionId,d.dd=e.kd.session.seatSetupInfo.seatSetupStep==1),e.result===15859712&&e.session){const u=e.session;u.state==="ready_for_connection"||u.state==="streaming"?(u.state=="streaming"&&function(){var p=At;const m=new Ms({key1:"InvalidSessionStateTransition",key2:"Streaming",key3:"",key4:"",key5:"",moduleName:"GRID_SERVER",networkType:p.networkType,overrideConfigType:ye.Vb.type,overrideConfigVersion:ye.Vb.version,cmsId:String(p.cmsId),sessionId:p.sessionId,subSessionId:p.subSessionId});p.h(m)}(),h.i("{1daeef1}","{30d6f44}",(i=this.g.sessionId)!==null&&i!==void 0?i:""),Yr(this,15859712,e.serverId)):u.state=="initializing"||u.state=="resuming"?(i=function(p,m,E,T){var x,g,D,C,S,U,H="Configuring",B=0;if(m.seatSetupInfo)switch(m.seatSetupInfo.seatSetupStep){case 0:H="Connecting";break;case 1:H="InQueue",B=m.seatSetupInfo.queuePosition<E?m.seatSetupInfo.queuePosition:E;break;case 5:H="PreviousSessionCleanup";break;default:B=0}if(E={sessionId:m.sessionId,subSessionId:T,queuePosition:B,eta:(g=(x=m.seatSetupInfo)===null||x===void 0?void 0:x.seatSetupEta)!==null&&g!==void 0?g:0,progressState:H,isAdsRequired:m.sessionAdsRequired,ads:[]},x=new Map(p.l),p.l.clear(),m.sessionAds)for(g=m.sessionAds.length,H=0;H<g;H++){if((T=m.sessionAds[H]).adState==5||T.adState==6)continue;B=T.adId,p.l.set(B,{Xg:T.adState,ed:(C=(D=x.get(B))===null||D===void 0?void 0:D.ed)!==null&&C!==void 0?C:0}),B={adId:B,adState:T.adState,adUrl:T.adUrl,adLengthInSeconds:T.adLengthInSeconds,adMediaFiles:[]};const W=(U=(S=T.adMediaFiles)===null||S===void 0?void 0:S.length)!==null&&U!==void 0?U:0;for(let _=0;_<W;_++){const z=T.adMediaFiles[_];B.adMediaFiles.push({mediaFileUrl:z.mediaFileUrl,encodingProfile:z.encodingProfile})}E.ads.push(B)}return E}(this,e.kd.session,this.g.Jd,this.g.subSessionId),this.g.Uf(i),d.dd&&(this.g.Jd=i.queuePosition),i.ads.length?cl(this,(r=d.sessionId)!==null&&r!==void 0?r:"",d.Tc,this.O.bind(this),this.N.bind(this),c,this.M.bind(this)):new Se(function(p,m){let E=p.m.wg;return m.seatSetupInfo.seatSetupStep===1&&p.m.Jf!=0&&(E+=Math.floor(m.seatSetupInfo.queuePosition/p.m.Jf)*p.m.step),m.sessionAdsRequired&&(E=Math.max(E,p.m.adsPollingIntervalMinMS)),Math.min(E,p.m.vg)}(this,e.kd.session),(o=this.g.Tc)===null||o===void 0?void 0:o.signal).promise.then(this.M.bind(this)).catch(c)):(h.e("{1daeef1}","{ce47cd1}",Bo(JSON.stringify(e.kd))),Yr(this,3237093378,e.serverId))}else e.result===15867907?c():Yr(this,e.result,e.serverId,e.activeSessions)}}};function Bo(e){return ii(e).replace(/("clientIp" *: *")(\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b)(?=")/g,"$1***")}var fl={Success:15859712,InvalidOperation:3237085186,NetworkError:3237089282,GetActiveSessionServerError:3237089283,AuthTokenNotUpdated:3237093377,SessionFinishedState:3237093378,ResponseParseFailure:3237093379,InvalidServerResponse:3237093381,PutOrPostInProgress:3237093382,GridServerNotInitialized:3237093383,DOMExceptionInSessionControl:3237093384,InvalidAdStateTransition:3237093386,SessionServerErrorBegin:3237093632,RequestForbidden:3237093634,ServerInternalTimeout:3237093635,ServerInternalError:3237093636,ServerInvalidRequest:3237093637,ServerInvalidRequestVersion:3237093638,SessionListLimitExceeded:3237093639,InvalidRequestDataMalformed:3237093640,InvalidRequestDataMissing:3237093641,RequestLimitExceeded:3237093642,SessionLimitExceeded:3237093643,InvalidRequestVersionOutOfDate:3237093644,SessionEntitledTimeExceeded:3237093645,AuthFailure:3237093646,InvalidAuthenticationMalformed:3237093647,InvalidAuthenticationExpired:3237093648,InvalidAuthenticationNotFound:3237093649,EntitlementFailure:3237093650,InvalidAppIdNotAvailable:3237093651,InvalidAppIdNotFound:3237093652,InvalidSessionIdMalformed:3237093653,InvalidSessionIdNotFound:3237093654,EulaUnAccepted:3237093655,MaintenanceStatus:3237093656,ServiceUnAvailable:3237093657,SteamGuardRequired:3237093658,SteamLoginRequired:3237093659,SteamGuardInvalid:3237093660,SteamProfilePrivate:3237093661,InvalidCountryCode:3237093662,InvalidLanguageCode:3237093663,MissingCountryCode:3237093664,MissingLanguageCode:3237093665,SessionNotPaused:3237093666,EmailNotVerified:3237093667,InvalidAuthenticationUnsupportedProtocol:3237093668,InvalidAuthenticationUnknownToken:3237093669,InvalidAuthenticationCredentials:3237093670,SessionNotPlaying:3237093671,InvalidServiceResponse:3237093672,AppPatching:3237093673,GameNotFound:3237093674,NotEnoughCredits:3237093675,InvitationOnlyRegistration:3237093676,RegionNotSupportedForRegistration:3237093677,SessionTerminatedByAnotherClient:3237093678,DeviceIdAlreadyUsed:3237093679,ServiceNotExist:3237093680,SessionExpired:3237093681,SessionLimitPerDeviceReached:3237093682,ForwardingZoneOutOfCapacity:3237093683,RegionNotSupportedIndefinitely:3237093684,RegionBanned:3237093685,RegionOnHoldForFree:3237093686,RegionOnHoldForPaid:3237093687,AppMaintenanceStatus:3237093688,ResourcePoolNotConfigured:3237093689,InsufficientVmCapacity:3237093690,InsufficientRouteCapacity:3237093691,InsufficientScratchSpaceCapacity:3237093692,RequiredSeatInstanceTypeNotSupported:3237093693,ServerSessionQueueLengthExceeded:3237093694,RegionNotSupportedForStreaming:3237093695,SessionForwardRequestAllocationTimeExpired:3237093696,SessionForwardGameBinariesNotAvailable:3237093697,GameBinariesNotAvailableInRegion:3237093698,UekRetrievalFailed:3237093699,EntitlementFailureForResource:3237093700,SessionInQueueAbandoned:3237093701,MemberTerminated:3237093702,SessionRemovedFromQueueMaintenance:3237093703,ZoneMaintenanceStatus:3237093704,GuestModeCampaignDisabled:3237093705,RegionNotSupportedAnonymousAccess:3237093706,InstanceTypeNotSupportedInSingleRegion:3237093707,InvalidZoneForQueuedSession:3237093710,SessionWaitingAdsTimeExpired:3237093711,UserCancelledWatchingAds:3237093712,StreamingNotAllowedInLimitedMode:3237093713,ForwardRequestJPMFailed:3237093714,MaxSessionNumberLimitExceeded:3237093715,GuestModePartnerCapacityDisabled:3237093716,SessionRejectedNoCapacity:3237093717,SessionServerErrorEnd:3237093887,SessionSetupCancelled:15867905,SessionSetupCancelledDuringQueuing:15867906,RequestCancelled:15867907,NoInternetDuringSessionSetup:15868417},wd=j.Og;function Go(e){var i={ip:"",port:0,protocol:""};for(const r of e.connectionInfo)if(r.usage===14){i.ip=r.ip,i.port=r.port,i.protocol=r.appLevelProtocol===5?"https":"http",i.resourcePath=r.resourcePath;break}i={signalConnectionInfo:i,mediaConnectionInfo:e.connectionInfo,streamInfo:[],clientLocale:"",...e};for(const r of e.monitorSettings)i.streamInfo.push({width:r.widthInPixels,height:r.heightInPixels,fps:r.framesPerSecond,sdrHdrMode:r.sdrHdrMode});return i}function pl(e){let i=[];if(e)for(const r of e)i.push({sessionId:r.sessionId,appId:r.appId,state:r.state,appLaunchMode:r.appLaunchMode});return i}function Vo(e,i,r=""){h.d("{6bae601}","{1e04fe6}",r,i),e.subSessionId=i,At.sessionId=r,St(i);const o=e.P.get(i);o===void 0||o===""?e.P.set(i,r):h.w("{6bae601}","{7dd264b}",r)}function Bs(e){return Gt(e.code,e.description),Promise.reject(e)}function ml(e,i){e.zoneAddress=i.zoneAddress||e.zoneAddress,e.zoneName=i.zoneName||e.zoneName,e.gpuType=i.gpuType||e.gpuType}var zo=class extends hl{constructor(e,i){super(),this.subSessionId="",this.P=new Map,this.R=!1,this.L=new Map,this.S=r=>{this.j.emit("TelemetryEvent",r)},this.T=r=>{this.j.emit("SessionUpdate",r),this.j.emit("ProgressUpdate",{sessionId:r.sessionId,subSessionId:r.subSessionId,queuePosition:r.queuePosition,eta:r.eta,state:r.progressState})},this.u=e,this.j=new Kr(i),h.isCallbackRegistered()||(this.R=!0,h.setLogCallback(this.j.$.bind(this.j))),At.configure({option:this.S})}initialize(e){var i;h.i("{6bae601}","{6802390}","0.66.9"),sl(this,{deviceId:(i=e.deviceHashId)!==null&&i!==void 0?i:"",...e,clientStreamer:e.clientStreamer.toString()}),(e=At).telemetryEventIds={},e.sessionId="",e.subSessionId="",e.cmsId="",h.d("{6bae601}","{5af3344}")}uninitialize(){this.cancelSessionSetup(),this.R&&h.setLogCallback(),this.j.removeAllListeners()}addListener(e,i){this.j.addListener(e,i)}removeListener(e,i){this.j.removeListener(e,i)}updateTelemetryEventIds(e){At.updateTelemetryEventIds(e)}getAllActiveSessions(){pe(se(),"GetSessionList",()=>(wi(this),async function(e){h.d("{6bae601}","{1aef200}"),e.serverAddress?(await li(e,5,e.protocol+e.serverAddress+"/v2/session","").then(i=>{let r={sessionList:pl(i.activeSessions)};if(i.result!=15859712){let o={code:i.result,description:un(i.result)};r.error=o,h.e("{6bae601}","{9d2bb75}",ee(o.code))}else h.d("{6bae601}","{081857f}");Gt(i.result),e.j.emit("ActiveSessionsResult",r)}).catch(i=>{h.e("{6bae601}","{63f9b57}",i.message),h.e("{6bae601}","{94d55bb}",i,i.stack),it(i,"getAllActiveSessions","gridserver.ts"),i={sessionList:[],error:{code:3237093384,description:un(3237093384)}},Gt(3237093384),e.j.emit("ActiveSessionsResult",i)}),h.d("{6bae601}","{a9e5439}")):(e.j.emit("ActiveSessionsResult",{sessionList:[],error:{code:3237093383,description:"GridServer not initialized"}}),Gt(3237093383))}(this)))}getSessionId(){var e;return(e=this.P.get(this.subSessionId))!==null&&e!==void 0?e:""}getSubSessionId(){return this.subSessionId}putOrPostSession(e,i,r){return pe(se(),r?"PutSession":"PostSession",()=>(wi(this),function(o,c,d){var u;const p=!!d;if(Vo(o,It(),d),!o.serverAddress)return Bs({code:3237093383,description:"GridServer not initialized"});if(o.F)return Bs({code:3237093382,description:"Previous PutOrPost call is still in progress"});At.cmsId=c.appId,o.zoneName=void 0,o.zoneAddress=void 0,o.gpuType=void 0;const m=qe(o.serverAddress,p,d);m.networkSessionId=(u=c.networkSessionId)!==null&&u!==void 0?u:"",c=function(g){var D;const C={monitorSettings:[],...g};if(C.monitorSettings.length===0)for(const S of(D=g.streamParams)!==null&&D!==void 0?D:[])C.monitorSettings.push({heightInPixels:S.height,framesPerSecond:S.fps,widthInPixels:S.width});return C}(c);let E=dl(o,c,d),T=ul(o,c,p,o.subSessionId),x=performance.now();return new Promise((g,D)=>{const C=new AbortController;o.F=C,li(o,p?1:0,E,T,C,d).then(S=>{var U,H,B,W,_;let z;m.launchDuration=Math.round(performance.now()-x),(U=S.session)!==null&&U!==void 0&&U.sessionId&&(m.sessionId=(H=S.session)===null||H===void 0?void 0:H.sessionId,d=(B=S.session)===null||B===void 0?void 0:B.sessionId),o.zoneName=S.serverId||o.zoneName,S.session&&(z=Go(S.session),z.subSessionId=o.subSessionId,ml(o,z)),m.zoneName=(W=o.zoneName)!==null&&W!==void 0?W:"",C.signal.aborted&&!dn(S.result)&&(S.result=15867905,h.d("{6bae601}","{3ec0e11}")),S.result==15859712?(h.d("{6bae601}","{30536f4}",d),Vo(o,o.getSubSessionId(),d),((_=S.session)===null||_===void 0?void 0:_.state)=="ready_for_connection"?(m.result=ee(15859712),Ye(m)):o.L.set(m.sessionId,m),Gt(S.result),g(z)):(S.result===15867907&&(S.result=15867905),S={code:S.result,sessionId:d,description:un(S.result),sessionList:pl(S.activeSessions)},h.e("{6bae601}","{17f93f3}",ee(S.code)),m.result=ee(S.code),Ye(m),Gt(S.code),D(S))}).catch(S=>{let U={code:3237093384,sessionId:d,description:un(3237093384)};h.e("{6bae601}","{4318505}",S.message),h.e("{6bae601}","{94d55bb}",S,S.stack),it(S,"putOrPostSession","gridserver.ts"),m.result=ee(U.code),Ye(m),Gt(U.code),D(U)})}).finally(()=>{o.F=void 0})}(this,e,r)))}getSession(e,i){return pe(se(),"GetSession",()=>(wi(this),function(r,o,c){return r.serverAddress?c?new Promise((d,u)=>{var p=Li(r,o),m=new URL(p).hostname;(p=r.L.get(o))?r.L.delete(o):(h.e("{6bae601}","{bb9b2e3}",o),p=qe(m,!1,o)),m=new AbortController,r.H=m,r.g={resolve:d,reject:u,sessionId:o,subSessionId:r.subSessionId,Uf:r.T,Jd:Number.MAX_VALUE,dd:!1,Tc:m,startTime:performance.now(),Kd:p},r.M()}).then(d=>{let u;if(d.session&&(u=Go(d.session),ml(r,u)),d.code===15859712&&u)return u;throw{code:d.code,description:un(d.code)}}).finally(()=>{r.l.clear(),Ar(r.h),r.g=void 0}):(c=Li(r,o),li(r,3,c,"",void 0,o).then(d=>{if(Gt(d.result),d.result===15859712&&d.session)return Go(d.session);throw{code:d.result,description:un(d.result)}})):Bs({code:3237093383,description:"GridServer not initialized"})}(this,e,i)))}sendDeleteRequest(e){return pe(se(),"DeleteSession",()=>(wi(this),function(i,r){if(!i.serverAddress)return Bs({code:3237093383,description:"Gridserver not initialized"});let o=Li(i,r);return new Promise((c,d)=>{h.d("{6bae601}","{bbad3ce}",r),li(i,2,o,"",void 0,r).then(u=>{if(u.result==15859712)h.d("{6bae601}","{6206c13}",r),c();else{let p={code:u.result,description:un(u.result),sessionId:r};h.e("{6bae601}","{4de47e3}",r,ee(u.result)),d(p)}Gt(u.result)}).catch(u=>{const p={code:3237093384,description:un(3237093384)};h.e("{6bae601}","{c4f620c}",u.message),h.e("{6bae601}","{94d55bb}",u,u.stack),it(u,"sendDeleteRequestImpl","gridserver.ts"),d(p)})})}(this,e)))}cancelSessionSetup(){var e,i;h.i("{6bae601}","{c73e640}"),(e=this.F)===null||e===void 0||e.abort(),(i=this.H)===null||i===void 0||i.abort(),this.H=this.F=void 0}getZoneName(){var e;return(e=this.zoneName)!==null&&e!==void 0?e:""}getZoneAddress(){var e;return(e=this.zoneAddress)!==null&&e!==void 0?e:""}getGpuType(){var e;return(e=this.gpuType)!==null&&e!==void 0?e:""}I(){return!!this.H}},vl=class extends zo{constructor(){super()}getAllActiveSessions(){window.setTimeout(()=>{h.d("{6bae601}","{b575263}"),this.j.emit("ActiveSessionsResult",{sessionList:[]})},1)}putOrPostSession(e){var i;return h.d("{6bae601}","{71c010f}"),Vo(this,It(),(i=e.sessionId)!==null&&i!==void 0?i:"PassThruSessionId"),new Promise(r=>{window.setTimeout(()=>{var o;let c={sessionId:this.getSessionId(),subSessionId:this.getSubSessionId(),appId:parseInt(e.appId),state:"ready_for_connection",signalConnectionInfo:{ip:"",port:49100,protocol:"http"},mediaConnectionInfo:[],streamInfo:[],appLaunchMode:e.appLaunchMode?e.appLaunchMode:0,zoneName:this.getZoneName(),zoneAddress:this.getZoneAddress(),gpuType:this.getGpuType(),clientLocale:"",finalizedStreamingFeatures:(o=e.streamingFeatures)!==null&&o!==void 0?o:{}};if(this.serverAddress&&(c.signalConnectionInfo.ip=this.serverAddress),e.connectionInfo){c.mediaConnectionInfo=e.connectionInfo;for(const d of c.mediaConnectionInfo)d.usage===14&&(c.signalConnectionInfo.ip=d.ip,c.signalConnectionInfo.port=d.port,c.signalConnectionInfo.protocol=d.appLevelProtocol===5?"https":"http",c.signalConnectionInfo.resourcePath=d.resourcePath,h.d("{6bae601}","{c6b8e0f}",d.ip,d.port))}if(c.signalConnectionInfo.ip||h.e("{6bae601}","{a43f57e}"),e.monitorSettings)for(const d of e.monitorSettings)c.streamInfo.push({width:d.widthInPixels,height:d.heightInPixels,fps:d.framesPerSecond,sdrHdrMode:d.sdrHdrMode});else for(const d of e.streamParams)c.streamInfo.push({width:d.width,height:d.height,fps:d.fps});h.d("{6bae601}","{07dc276}",c.sessionId),r(c)},1)})}getSession(){return new Promise((e,i)=>{i({code:-1,description:"PassthruPollingNotSupported"})})}sendDeleteRequest(){return new Promise(e=>{e()})}updateAdState(){return-1}},gl={VIDEO:"video",AUDIO:"audio"},Al={Unknown:0,ApproachingEntitlementTimeout:1,ApproachingIdleTimeout:2,ApproachingSessionMaxTimeLimit:3,ClearUserIdleTimeOut:4},Gs={allowUnconfined:!1,preventNavigation:!1};function bd(e){if(!((15868672^e)>>8))return 256;let i=32769;switch(e){case 15859712:case 15867908:case 15868418:i=0;break;case 3237093894:case 3237093899:i=32776;break;case 3237093898:i=32772;break;case 3237093900:i=32773;break;case 3237093901:i=32770;break;case 15867910:i=1;break;default:h.d("{c00be32}","{233ad08}",ee(e))}return i}function Sl(e){let i=15868672;switch(e){case 256:i=15868704;break;case 257:i=15868705;break;case 258:i=15868706;break;case 259:i=15868707;break;case 260:i=15868708;break;case 261:i=15868709;break;case 262:i=15868710;break;case 263:i=15868711;break;case 264:i=15868712;break;case 265:i=15868713;break;case 266:i=15868714;break;case 267:i=15868715;break;case 268:i=15868716;break;case 269:i=15868719;break;case 270:i=15868688;break;case 512:i=15868736;break;case 513:i=15868737;break;case 514:i=15868738;break;case 515:i=15868739;break;case 516:i=15868740;break;case 517:i=15868741;break;case 518:i=15868742;break;case 519:i=15868743;break;case 520:i=15868744;break;case 521:i=15868745;break;case 33025:i=3237094145;break;case 33026:i=3237094146;break;case 33027:i=3237094147;break;case 33028:i=3237094148;break;case 33029:i=3237094149;break;case 33030:i=3237094150;break;case 33031:i=3237094151;break;case 33032:i=3237094152;break;case 33034:i=3237094153;break;case 33035:i=3237094154;break;case 33040:i=3237094155;break;case 33041:i=3237094156;break;case 33042:i=3237094157;break;case 37634:i=15868718;break;case 32768:i=3237094158;break;case 768:i=15868717;break;case 0:i=15868752;break;default:h.d("{c00be32}","{1be40ed}",ee(e))}return i}function Wn(){return Ho||(Ho=new sy),Ho}function Kn(e){e.h==="white"?e.g&&(e.g.clearColor(1,0,0,1),e.g.clear(e.g.COLOR_BUFFER_BIT),e.h="red"):e.g&&(e.g.clearColor(1,1,1,1),e.g.clear(e.g.COLOR_BUFFER_BIT),e.h="white")}var Ho,Wt,_i,Xr,Wo,Ko,$o,Zr,es,ts,ns,qo,Qo,is,Jo,Yo,w,X,q,te,ie,de,re,be,he,Ee,Ue,Qe,pt,$n,Xo,yl,wl,Ed,Cd,Td,kd,Id,Sp,sy=class{constructor(){this.g=null,this.h=""}initialize(e,i){this.u=i,i="ragnarok-latency-indicator";var r=document.getElementById(i);if(r&&r instanceof HTMLCanvasElement&&r.parentElement===e.parentElement)e=r;else{if(r)do i="ragnarok-latency-indicator"+Math.round(1e4*Math.random()),r=document.getElementById(i);while(r);(r=document.createElement("canvas")).id=i,r.style.position="fixed",F(this.u)?(r.style.bottom="env(safe-area-inset-bottom, 0)",r.style.right="max(24px, env(safe-area-inset-right, 0))"):(r.style.bottom="0",r.style.right="0"),r.style.width="40px",r.style.height="40px",r.style.zIndex="300",r.style.pointerEvents="none",e.insertAdjacentElement("afterend",r),e=r}this.j=e,this.j.style.display="block",this.g=this.j.getContext("webgl"),Kn(this)}},et={},yp="",xn={type:"UNKNOWN",version:""},Rd=!1,Pd=!0,wp=!1,Vs=!0,bl=!0,El=!0,zs=0,Sr=0,yr=0,Cl=!1,Nn=!0,Zo=!1,xd=!0,Xi=!1,Nd=!1,Dd=!1,ea=!1,Od=!0,Md=!1,ta=!0,Fi=!0,na=!0,Ld=!0,_d=!0,Zi=0,Fd=!0,Ud=!0,jd={};function bp(e){if(e&&(e=Number.parseInt(e),!Number.isNaN(e)))return e}function Ep(e){var i,r,o,c,d,u,p,m,E,T,x,g,D,C,S,U,H,B,W,_,z,V,N,$,ne,ge,ve,Me,Xe,ue,Oe,je,xe,ot,st,bt,hn,qn,Y,me,fe,Ie,Re,Le,ze,Ne,rt,mt,at,tt,nt,ct,dt,Sn,Vt;if(h.i("{fbd6ce8}","{4acfb3a}",JSON.stringify(e)),e.clientConfigOverride&&(yp=e.clientConfigOverride),e.gxtOverrideData){var ht=JSON.parse(e.gxtOverrideData);if(ht.params)for(var rn of ht.params)rn.name==="ragnarok"&&(et=rn.value,xn={type:"GXT",version:rn.version})}else e.remoteConfigData&&e.remoteConfigData.ragnarok&&(et=JSON.parse(e.remoteConfigData.ragnarok),xn={type:"RCONFIG",version:(ht=e.remoteConfigData.version)!==null&&ht!==void 0?ht:""});if(e.isInternalUser&&(Wt=e.isInternalUser),e.overrideData){rn=new URLSearchParams(e.overrideData);let Qn=new URLSearchParams;for(const[Tt,nh]of rn.entries())Qn.append(Tt.toLowerCase(),nh);if(((i=Qn.get("mode"))===null||i===void 0?void 0:i.toLowerCase())==="lean"?(Rd=!0,_i=El=bl=Vs=Pd=!1,Wt=Xr=!0):((r=Qn.get("mode"))===null||r===void 0?void 0:r.toLowerCase())==="dev"&&(Wt=Xr=!0),i=Tt=>{e:{if(Tt=Qn.get(Tt))switch(Tt.toLowerCase()){case"enable":case"on":case"1":case"true":Tt=!0;break e;case"disable":case"off":case"0":case"false":Tt=!1;break e}Tt=void 0}return Tt},ht=Tt=>bp(Tt=Qn.get(Tt)),r=Tt=>((Tt=Qn.get(Tt))&&(Tt=Number.parseFloat(Tt),!Number.isNaN(Tt))||(Tt=void 0),Tt),rn=(Tt,nh)=>(Tt=Qn.get(Tt))===null?nh:Tt||void 0,wp=(Pd=(o=i("log"))!==null&&o!==void 0?o:Pd)&&((c=i("console"))!==null&&c!==void 0?c:wp),Vs=(d=i("gamepad"))!==null&&d!==void 0?d:Vs,bl=(u=i("webrtcstats"))!==null&&u!==void 0?u:bl,El=(p=i("statsupload"))!==null&&p!==void 0?p:El,_i=(m=i("mic"))!==null&&m!==void 0?m:_i,Wo=(E=i("mousefilter"))!==null&&E!==void 0?E:Wo,Ko=(T=i("unadjustedmovement"))!==null&&T!==void 0?T:Ko,0<(zs=(x=ht("bitrate"))!==null&&x!==void 0?x:zs)&&100>=zs&&(zs*=1e3),ea=(g=i("gamepadtest"))!==null&&g!==void 0?g:ea,(o=Qn.get("resolution"))&&((d=o.toLowerCase().split("x")).length==2?(c=parseInt(d[0]),d=parseInt(d[1]),c&&d?(Sr=c,yr=d):h.e("{fbd6ce8}","{c87835d}",o)):h.e("{fbd6ce8}","{c87835d}",o)),Zi=(D=ht("fps"))!==null&&D!==void 0?D:Zi,Cl=(C=i("gamepadraf"))!==null&&C!==void 0?C:Cl,$o=(S=ht("gamepadpoll"))!==null&&S!==void 0?S:$o,Nn=(U=i("advancedgestures"))!==null&&U!==void 0?U:Nn,Zo=(H=i("forcetouchdevice"))!==null&&H!==void 0?H:Zo,(D=i("touch"))!==void 0&&(Zr=D?2:0,Zo=D),Xi=(B=i("storetouch"))!==null&&B!==void 0?B:Xi,Nd=(W=i("storetouchgesture"))!==null&&W!==void 0?W:Nd,xd=(_=i("touchwarp"))!==null&&_!==void 0?_:xd,Dd=(z=i("latency"))!==null&&z!==void 0?z:Dd,es=rn("deviceos",es),ts=rn("devicetype",ts),ns=rn("clientstreamer",ns),qo=rn("clienttype",qo),Qo=rn("clientplatformname",Qo),is=rn("clientid",is),(B=Qn.get("applaunchmode"))!==null&&(Zr=bp(B)),Od=(V=i("rsdmm"))!==null&&V!==void 0?V:Od,Md=(N=i("rsdmmtoggle"))!==null&&N!==void 0?N:Md,($=i("ioswars"))===null||$===void 0||$||(_d=Ld=ta=na=Fi=!1),Fi=(ne=i("audioreset"))!==null&&ne!==void 0?ne:Fi,ta=(ge=i("sourcereset"))!==null&&ge!==void 0?ge:ta,na=(ve=i("autoplaychange"))!==null&&ve!==void 0?ve:na,Jo=(Me=r("bitsperpixel"))!==null&&Me!==void 0?Me:Jo,Yo=(Xe=r("bitsperpixel1440p"))!==null&&Xe!==void 0?Xe:Yo,w=(ue=i("1440p"))!==null&&ue!==void 0?ue:w,Xr=(Oe=i("stutter"))!==null&&Oe!==void 0?Oe:Xr,Qn.has("meta")){X={};for(const Tt of Qn.getAll("meta"))(V=Tt.split("~")).length===2&&(X[V[0]]=V[1])}q=(je=i("haptics"))!==null&&je!==void 0?je:q,te=(xe=i("av1"))!==null&&xe!==void 0?xe:te,ie=(Vt="codeclist",(ot=Vt=(Vt=Qn.get(Vt))?Vt.split(","):void 0)!==null&&ot!==void 0?ot:ie),Wt=(st=i("internaluser"))!==null&&st!==void 0?st:Wt,de=(bt=i("hdr"))!==null&&bt!==void 0?bt:de,re=(hn=i("sdr10"))!==null&&hn!==void 0?hn:re,Fd=(qn=i("hotkeys"))!==null&&qn!==void 0?qn:Fd,be=(Y=i("forcehotkeys"))!==null&&Y!==void 0?Y:be,he=(me=i("synthesizegamepadhid"))!==null&&me!==void 0?me:he,Ee=(fe=i("synthesizedds4disabled"))!==null&&fe!==void 0?fe:Ee,Ue=(Ie=i("synthesizedds5disabled"))!==null&&Ie!==void 0?Ie:Ue,Qe=(Re=i("synthesizedds4fromds5disabled"))!==null&&Re!==void 0?Re:Qe,pt=(Le=i("synthesizedds5fromds4disabled"))!==null&&Le!==void 0?Le:pt,$n=(ze=i("synthesizedds4fromgenericenabled"))!==null&&ze!==void 0?ze:$n,Xo=(Ne=i("synthesizedds5fromgenericenabled"))!==null&&Ne!==void 0?Ne:Xo,yl=(rt=i("synthesizedds4allgamesenabled"))!==null&&rt!==void 0?rt:yl,wl=(mt=i("synthesizedds5allgamesenabled"))!==null&&mt!==void 0?mt:wl,Ed=(at=i("forceserverds4"))!==null&&at!==void 0?at:Ed,Cd=(tt=i("forceserverds5"))!==null&&tt!==void 0?tt:Cd,Td=(nt=Qn.get("cursor"))!==null&&nt!==void 0?nt:Td,kd=(ct=i("pointerlockescape"))!==null&&ct!==void 0?ct:kd,Ud=(dt=i("computepressure"))!==null&&dt!==void 0?dt:Ud,Id=(Sn=i("disableworkerws"))!==null&&Sn!==void 0?Sn:Id}Ve(e),Sp&&Cp()}function Cp(){var e=et.avp;e&&(et={...et,...e}),(e=ye.Ga.pmCommunication)&&(e=e.avp)&&(ye.Ga.pmCommunication={...ye.Ga.pmCommunication,...e})}function Tp(e,i){var r,o,c,d;e.G.za(void 0,(r=i==null?void 0:i.message)!==null&&r!==void 0?r:"",(o=i==null?void 0:i.filename)!==null&&o!==void 0?o:"",(c=i==null?void 0:i.lineno)!==null&&c!==void 0?c:0,(d=i==null?void 0:i.colno)!==null&&d!==void 0?d:0,!0,"WorkerError")}function kp(e){e.perf.RAFTS=0,e.perf.DCSend=0,e.perf.GetStats=0,e.perf.FrameInfo=0}function Ip(){var e=yt;e.h=!1,e.g&&(h.d("{1f5ec29}","{76b05dd}"),e.g.postMessage({stopStats:!0}))}function Dn(e){return performance.now()-e.j}function rs(e,i){var r,o=yt;o.h&&(i={webrtcStats:{type:i,stats:e},ackid:(r=o.s)===null||r===void 0?void 0:r.g++},o.g&&o.g.postMessage(i,e))}var yt=new class{constructor(){this.h=!1,this.g=null,this.j=0,this.o=[],this.m=[],this.v=!1,this.perf={RAFTS:0,DCSend:0,GetStats:0,FrameInfo:0},h.i("{1f5ec29}","{139da36}");try{const e=URL.createObjectURL(new Blob([`
var p={size:70,version:1,name:"DEPR"},r={size:80,version:3,name:"RTPV"},t={size:48,version:1,name:"RTPA"},aa={size:88,version:1,name:"TRAA"},ba={size:44,version:1,name:"TRAV"},ca={size:12,version:1,name:"VFMD"},da={size:20,version:1,name:"PFDA"},ea={size:0,version:1,name:""};function u(a,b=!1){const d=a.m+1;try{let f;a.sessionId&&(f="x-nv-sessionid."+a.sessionId);let l=a.url;b&&(l+="&reconnect=1");let e=new WebSocket(l,f);e.onopen=()=>{var c;a.h("{48fa30b}"+d);if(e===a.g){null===(c=a.j)||void 0===c?void 0:c.F();for(const g of a.l)g.stats?e.send(g.stats):e.send(JSON.stringify(g));for(const g of a.s)w(a,g);a.s=[]}};e.onclose=c=>{var g;a.h("{6406bff}"+d);e===a.g&&(null===(g=a.j)||void 0===g?void 0:g.D({error:a.u,code:c.code,reason:c.reason,wasClean:c.wasClean}),x(a),a.u=
!1)};e.onerror=()=>{a.h("{7605058}"+d);e===a.g&&(a.u=!0)};e.onmessage=c=>{if(a.j)try{let h=JSON.parse(c.data);a.o||a.h("{523f5b9}");y(a);if(!h.hb){if(void 0!==h.ack){var g=h.ack;for(let m=a.l.length-1;0<=m;m--)a.l[m].ackid<=g&&a.l.splice(m,1)}if(void 0!==h.ackid){if(a.maxReceivedAckId<h.ackid&&(a.j.v(h),a.maxReceivedAckId=h.ackid),a.g){let m=JSON.stringify({ack:a.maxReceivedAckId});a.h("{903be10}"+m);a.g.send(m)}}else void 0===h.ack&&a.j.v(h)}}catch(h){a.C("Error in local websocket message handling: "+
h+' "'+c.data+'"')}};a.g=e}catch(f){a.g=void 0,a.C("WebSocket creation exception: "+f+" for socket "+a.m)}a.m=d}function z(a){0!==a.o&&(self.clearTimeout(a.o),a.o=0)}function x(a){a.g&&(a.g.onclose=null,a.g.onerror=null,a.g.onmessage=null,a.g.onopen=null,a.g=void 0)}function y(a){z(a);a.o=self.setTimeout(()=>{var b;a.h("{6c3505a}"+(null===(b=a.g)||void 0===b?void 0:b.readyState)+"{754f60b}"+a.m);a.g||u(a,!0);y(a)},3E3)}
function w(a,b){void 0!==b.ackid&&void 0!==b.ackid&&a.l.push(b);a.g&&(b.stats?a.g.send(b.stats):a.g.send(JSON.stringify(b)))}
var fa=class{constructor(){var a=A,b=B;this.sessionId=C;this.u=!1;this.l=[];this.s=[];this.maxReceivedAckId=this.o=0;this.url="";this.m=0;this.h=a;this.C=b}initialize(a,b,d,f=!1){this.url=a;this.maxReceivedAckId=b;this.j=d;u(this,f);this.h("{fcf6f89}"+this.m)}uninitialize(a){var b;this.maxReceivedAckId=0;this.l=[];this.s=[];this.j=void 0;z(this);null===(b=this.g)||void 0===b?void 0:b.close(a);x(this);this.h("{986b258}"+a+"{754f60b}"+this.m)}send(a){this.j&&(this.g||u(this,!0),this.g&&this.g.readyState===
WebSocket.OPEN?w(this,a):this.s.push(a))}};const E=self;let F=[],I=[];function J(a){a.h&&(a.j("{890d3ae}"+a.h),a.h=0);a.g.clear()}function ha(a){var b=K;let d=b.g.get(a.type);d||(d=[],b.g.set(a.type,d));for(const f of a.stats)d.push(f)}function ia(a){switch(a){case 0:return p;case 1:return r;case 2:return t;case 3:return ba;case 4:return aa;case 5:return ca;case 6:return da;default:return ea}}
let K=new class{constructor(a){this.j=a;this.g=new Map;this.h=0;J(this)}size(){let a=0;for(let [,b]of this.g){let d=b;for(let f of d)a+=f.byteLength}return a+=9*this.g.size}write(a,b){var d=b;for(let [g,h]of this.g){b=g;var f=h,l=d,e=d;d=f.length;var c=ia(b);let m=c.name,q=new DataView(a.buffer);for(let k=0;4>k;k++)q.setUint8(e+k,m.charCodeAt(k));q.setUint8(e+4,c.version);q.setUint16(e+5,d,!0);q.setUint16(e+7,c.size,!0);l=d=l+9;e=a;c=0;for(let k of f)f=new Uint8Array(k),e.set(f,d+c),c+=k.byteLength;
d=l+c;1===b&&this.h++}return d}}(A),C="",L="",M=null,N=void 0,O=0,P=[],Q=[],R=[],S=[],T=[],U=0;function A(a){E.postMessage({log:a})}function B(a){E.postMessage({exception:a})}function V(){F=[];I=[];J(K);P=[];Q=[];R=[];S=[];T=[]}function W(a,b,d,f,l,e){for(let c=0;4>c;c++)a.setUint8(b+c,d.charCodeAt(c));a.setUint8(b+4,f);a.setUint16(b+5,l,!0);a.setUint16(b+7,e,!0)}function X(a){return 0>a?Math.max(a,-2147483648):Math.min(a,4294967295)}
function Y(){if((F.length||I.length||K.size())&&M)try{M.ackid=U;var a=JSON.stringify(M),b=a.length,d=b+2,f=new ArrayBuffer(d);const D=new DataView(f);D.setUint16(0,b);for(b=2;b<d;++b)D.setUint8(b,a.charCodeAt(b-2));var l=new Uint8Array(f),e=13*F.length,c=72*I.length,g=12*P.length,h=10*Q.length,m=12*R.length,q=16*S.length;const G=8*T.length;let v=9+l.length;e&&(v+=9+e);c&&(v+=9+c);g&&(v+=9+g);h&&(v+=9+h);m&&(v+=9+m);q&&(v+=9+q);G&&(v+=9+G);v+=K.size();const H=new ArrayBuffer(v);var k=new DataView(H);
a=0;(new Uint8Array(H)).set(l);a+=l.length;W(k,a,"BPRF",1,0,0);a+=9;if(e){W(k,a,"PERF",2,F.length,13);a+=9;l=k;d=a;for(f=0;f<F.length;f++)l.setFloat64(d,F[f].RAFTS,!0),l.setUint16(d+8,Math.min(1E3*F[f].DCSend,65535),!0),l.setUint16(d+10,Math.min(1E3*F[f].GetStats,65535),!0),l.setUint8(d+12,F[f].FrameInfo),d+=13;a+=e}if(c){W(k,a,"EVNT",1,I.length,72);a+=9;e=k;l=a;for(d=0;d<I.length;d++){e.setFloat64(l,I[d].TS,!0);l+=8;var n=I[d].eventtype;for(f=0;f<n.length&&63>f;f++)e.setUint8(l+f,n.charCodeAt(f));
e.setUint8(l+f,0);l+=64}a+=c}if(g){W(k,a,"SQEV",1,P.length,12);a+=9;c=k;n=a;for(e=0;e<P.length;e++)c.setUint8(n,P[e].qualityScore),c.setUint8(n+1,P[e].bandwidthScore),c.setUint8(n+2,P[e].latencyScore),c.setUint8(n+3,P[e].networkLossScore),c.setFloat64(n+4,P[e].timestamp,!0),n+=12;a+=g}if(h){W(k,a,"MTBD",1,Q.length,10);a+=9;g=k;c=a;for(n=0;n<Q.length;n++)g.setFloat64(c,Q[n].timestamp,!0),g.setUint16(c+8,Math.min(Q[n].duration,65535),!0),c+=10;a+=h}if(m){W(k,a,"INPT",1,R.length,12);a+=9;h=k;g=a;for(c=
0;c<R.length;c++)h.setFloat64(g,R[c].timestamp,!0),h.setUint16(g+8,Math.min(R[c].bufferedAmount,65535),!0),h.setUint16(g+10,Math.min(R[c].maxSchedulingDelay,65535),!0),g+=12;a+=m}if(q){W(k,a,"GRBG",1,S.length,16);a+=9;m=k;h=a;for(g=0;g<S.length;g++)m.setFloat64(h,S[g].timestamp,!0),m.setInt32(h+8,X(S[g].deltaUsedHeapSize),!0),m.setInt32(h+12,X(S[g].deltaTotalHeapSize),!0),h+=16;a+=q}if(G){W(k,a,"MKPT",1,T.length,8);a+=9;q=k;k=a;for(m=0;m<T.length;m++)q.setFloat64(k,T[m],!0),k+=8;a+=G}let ja=new Uint8Array(H);
K.write(ja,a);null===N||void 0===N?void 0:N.send({stats:H,ackid:U})}catch(D){B("Exception in perf/stats upload. Error : "+D.message+" stack: "+D.stack)}V()}function ka(a){E.postMessage({wsMessage:a})}function la(a){E.postMessage({wsClose:a})}function ma(){E.postMessage({wsOpen:!0})}function Z(){E.postMessage({wsOpening:!0})}function na(a,b){N=new fa;N.initialize(L,a,{v:ka,F:ma,D:la,G:Z},b);Z()}
E.onmessage=function(a){try{const b=a.data;b.initMessage?(C=b.initMessage.sessionId,E.postMessage({initialized:!0})):b.perf?F.push(b.perf):b.clientEvent?I.push(b.clientEvent):b.startStats?(M=b.startStats.statsHeader,O=self.setInterval(()=>Y(),5E3),E.postMessage({statsStarted:!0}),A("{5209d98}")):b.stopStats?(self.clearInterval(O),Y(),V(),A("{b58b6ad}")):b.webrtcStats?(b.ackid&&(U=b.ackid),b.webrtcStats.stats&&ha(b.webrtcStats)):b.sq?P.push(b.sq):b.startWebSocket?(L=b.startWebSocket.signInURL,na(b.startWebSocket.maxReceivedAckId,
b.startWebSocket.reconnect)):b.stopWebSocket?(null===N||void 0===N?void 0:N.uninitialize(),N=void 0):b.send?null===N||void 0===N?void 0:N.send(b.send):b.duration?Q.push(b.duration):b.inputChannelStats?R.push(b.inputChannelStats):b.garbageCollectionStats?S.push(b.garbageCollectionStats):b.qosMarker&&T.push(b.qosMarker)}catch(b){B("Worker onmessage exception: "+b)}};


`],{type:"text/javascript"}));this.g=new Worker(e),URL.revokeObjectURL(e),this.g.onmessage=this.F.bind(this),this.g.onerror=this.C.bind(this),h.i("{1f5ec29}","{62dee75}")}catch(e){h.e("{1f5ec29}","{50fa2e5}",e.message),this.m.push({name:"RagnarokWorkerProblem",error:JSON.stringify(e)})}}startWebSocket(e,i,r,o){this.l=r,e={startWebSocket:{signInURL:e,maxReceivedAckId:i,reconnect:o}},this.g&&(this.g.postMessage(e),h.d("{1f5ec29}","{b3f6faa}"))}stopWebSocket(){this.g&&(h.d("{1f5ec29}","{7ac815d}"),this.g.postMessage({stopWebSocket:!0})),this.l=void 0}initialize(e,i,r){if(this.G=i,this.s=r,0<this.m.length){for(const o of this.m)Kt(i,o.name,o.error);this.m=[]}if(0<this.o.length){for(const o of this.o)Tp(this,o);this.o=[]}this.h=!1,kp(this),this.j===0&&(this.j=performance.now()),this.g?(this.g.postMessage({initMessage:{sessionId:e}}),h.d("{1f5ec29}","{404f264}")):h.e("{1f5ec29}","{c62bf29}")}F(e){(e=e.data).initialized?(h.i("{1f5ec29}","{6ccab8d}"),this.v=!0):e.statsStarted?(this.h=!0,h.d("{1f5ec29}","{e98d45f}")):e.log?h.i("{cbf9f59}","{0b0c6f9}",e.log):e.exception?h.i("{cbf9f59}","{0b0c6f9}",e.exception):e.wsClose?this.l?Fv(this.l,e.wsClose):h.e("{1f5ec29}","{900a6f2}"):e.wsMessage?this.l?Lu(this.l,e.wsMessage):h.e("{1f5ec29}","{900a6f2}"):e.wsOpening?this.l?h.i("{93c7910}","{6423101}"):h.e("{1f5ec29}","{900a6f2}"):e.wsOpen&&(this.l?Uv(this.l):h.e("{1f5ec29}","{900a6f2}"))}C(e){this.G?Tp(this,e):this.o.push(e)}};function Rp(){const e=_p();if(e){const i=e.destination.maxChannelCount;return e.close(),h.i("{d988e7f}","{fa78e0a}",i),i}return h.w("{d988e7f}","{d018fac}"),2}function Tl(e){return e[0]<e[1]?[e[1],e[0]]:e}function Pp(e,i,r){var o=screen.width,c=screen.height,d=!!(1&r);const u=!!(2&r);var p=!!(4&r);if((p||8&r)&&(o=3840,c=2160),i&&0<i.length){[o,c]=Tl([o,c]),u&&1366<=o&&e===0&&(o=1600,c=1200);const m=o/c,E=o*c;return(o=i.filter(T=>120>T.frameRate)).length&&(i=o),i.sort((T,x)=>{var g=T.resolution,D=x.resolution,C=Math.abs(g.width/g.height-m)-Math.abs(D.width/D.height-m);if(.05<Math.abs(C))return C;C=e===0?-1:1;const S=(e===1?1:-1)*(T.frameRate-x.frameRate),U=(g=g.width*g.height)-(D=D.width*D.height);return g<=E?D<=E?T.frameRate!==x.frameRate?S:C*U:-1:D<=E?1:U||S}),i[0]}if(i={resolution:{width:1280,height:720},frameRate:60},d){let[m,E]=Tl([o,c]);2<m/E&&(i.resolution={width:1376,height:640})}else u?e!=0?i.resolution={width:1024,height:768}:([o]=Tl([o,c]),i.resolution=1024>=o?{width:1024,height:768}:1366>o?{width:1112,height:834}:{width:1600,height:1200}):(d=[[1920,1200],[1920,1080],[1280,1024],[1600,1200]],p&&d.unshift([3840,2160]),p=[[1280,800],[1280,720],[1280,1024],[1024,768]],o=function(m,E){if(E.length==0)return m;class T{constructor(D,C){this.w=D,this.g=C,this.a=D/C}j(D){return .05>Math.abs(D.a-this.a)?D:D.a>this.a?new T(Math.floor(this.a/D.a*D.w),D.g):new T(D.w,Math.floor(D.a/this.a*D.g))}h(){return[this.w,this.g]}}E=E.map(g=>new T(g[0],g[1]));const x=new T(m[0],m[1]);m=E[0];for(let g=1;g<E.length;g++){let D=E[g];Math.abs(x.a-D.a)<Math.abs(x.a-m.a)&&(m=D)}return(E=m.j(x)).w>m.w?m.h():E.h()}(o=[o,c],e==0?d:p),i.resolution={width:o[0],height:o[1]});return i}function xp(e){var i;let r=0;return ae(e)&&(r|=1),(e?e.os==="iPadOS":/^(?!.*chrome).*safari/i.test(navigator.userAgent)&&!ae()&&lt())&&(r|=2),(i=window.webapis)!==null&&i!==void 0&&i.productinfo&&window.webapis.productinfo.isUdPanelSupported()&&(r|=4),window.lge_webrtc_hevc_support&&(r|=8),r}function Np(){return getComputedStyle(document.documentElement)?(getComputedStyle(document.documentElement).getPropertyValue("--sat")||(document.documentElement.style.setProperty("--sat","env(safe-area-inset-top)"),document.documentElement.style.setProperty("--sar","env(safe-area-inset-right)"),document.documentElement.style.setProperty("--sab","env(safe-area-inset-bottom)"),document.documentElement.style.setProperty("--sal","env(safe-area-inset-left)")),{top:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sat")),left:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sal")),bottom:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sab")),right:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sar"))}):{top:0,left:0,bottom:0,right:0}}function kl(e,i){return 0>e?0:e>i?i:e}function Dp(e){var i=Np();i.top=Math.max(i.top,21),i.bottom=kl(i.bottom,10);let r={x:e.clientX,y:e.clientY},o=.5;return 0<i.top&&e.clientY-e.radiusY<i.top?o-=.5*(i=kl(i=(i.top-(e.clientY-Math.min(e.radiusY,21)))/e.radiusY,1))*i:0<i.bottom&&e.clientY+e.radiusY>window.innerHeight-i.bottom&&(o+=.5*(i=kl(i=(e.clientY+Math.min(e.radiusY,10)-(window.innerHeight-i.bottom))/e.radiusY,1))*i),r.y=kl(r.y-e.radiusY+2*o*e.radiusY,window.innerHeight),r}function Op(e){let i=e;if(et.offlineErrorsStreaming&&et.offlineErrorsStreaming.includes(ee(e)))i=15868418;else if(et.offlineErrorsSessionSetup&&et.offlineErrorsSessionSetup.includes(ee(e)))i=15868417;else switch(e){case 3237093906:case 3237093899:i=15868418;break;case 3237089282:i=15868417}return i!==e&&h.i("{d988e7f}","{b84d4c8}",ee(e),ee(i)),i}function Bd(e,i){let r=e;if(et.sleepErrorsStreaming&&et.sleepErrorsStreaming.includes(ee(e)))r=15867908;else if(et.sleepErrorsSessionSetup&&et.sleepErrorsSessionSetup.includes(ee(e)))r=15867909;else switch(e){case 3237093906:F(i)&&(r=15867908);break;case 3237094159:r=15867908;break;case 3237093654:r=15867909}return r!==e&&h.i("{d988e7f}","{49e2182}",ee(e),ee(r)),r}function Dt(e,i,r,o,c=1){const d=4294967295&Math.floor(e*c);e=Math.floor(e/4294967296*c),o?(i.setUint32(r,d,!0),i.setUint32(r+4,e,!0)):(i.setUint32(r,e,!1),i.setUint32(r+4,d,!1))}function Mp(e,i){let r=!1;switch(e){case 3237093896:case 3237093897:case 3237093898:case 3237093906:case 3237093899:case 3237093901:case 15868418:case 3237094159:r=!0;break;case 15867908:F(i)&&(r=!0)}return r}function Gd(e,i){return 2764800<=(e*=i)&&4953600>e}function Il(e){switch(e){case"H264":return"H264";case"H265":return"HEVC";case"AV1":return"AV1";default:return"UNKNOWN"}}function Lp(e){var i;return e=He(e)||oe(e)||Ce(e)||e.os==="Linux"||F(e),(i=et.enableCpm)!==null&&i!==void 0?i:e}function Vd(e){return e!==void 0?e?"TRUE":"FALSE":"UNDEFINED"}function Rl(e){return e?"MANUAL":"NONE"}let Pl=[];function Hs(e){return`${e.width.toFixed()}x${e.height.toFixed()}`}function zd(e,i,r){try{const o=document.createElement("a");o.style.display="none";const c=URL.createObjectURL(new Blob(e,{type:r}));return o.href=c,o.download=i,document.body.appendChild(o),o.click(),URL.revokeObjectURL(c),document.body.removeChild(o),!0}catch(o){return h.e("{d988e7f}","{8d57ba9}",o),!1}}function _p(e){const i=window.AudioContext||window.webkitAudioContext||void 0;if(i)return e?new i({sampleRate:e}):new i;h.w("{d988e7f}","{b74c037}")}function Fp(){var e;return!((e=globalThis.PointerEvent)===null||e===void 0||!e.prototype)}async function Up(e,i,r){var o;const c=new RTCPeerConnection;try{await c.setRemoteDescription({type:"offer",sdp:i}).catch(m=>{throw Error("Audio munging setRemoteDescription failed. "+m)});const d=await c.createAnswer();await c.setLocalDescription({type:"answer",sdp:(o=d.sdp)===null||o===void 0?void 0:o.replace("opus/48000/2","multiopus/48000/"+e).replace("useinbandfec=1",r)}).catch(m=>{throw Error("Audio munging setLocalDescription failed. "+m)});const u=c.getReceivers()[0];if(!u.getParameters)return h.w("{d988e7f}","{4be0bf6}"),2;const{codecs:p}=u.getParameters();if(p.length!==1||p[0].mimeType!=="audio/multiopus"||p[0].channels!==e)throw Error("Audio munging failed "+p[0]);return h.i("{d988e7f}","{8919816}",e,p[0]),e}catch(d){return h.e("{d988e7f}","{4984c00}",e,d),2}finally{c.close()}}function An(e){var i;return((i=et.usePerfNowCaptureTimestamp)!==null&&i!==void 0?i:!window.chrome)?Dn(yt):e-yt.j}function oy(e){if(!e)return 8;switch(e==null?void 0:e.bitDepth){case 1:return 10;case 0:return 8;default:return h.w("{d988e7f}","{6f291f9}",e.bitDepth),8}}function Hd(e,i=!1){return i=i?Dp(e):{x:e.clientX,y:e.clientY},{identifier:e.identifier,clientX:i.x,clientY:i.y,deltaX:0,deltaY:0}}function jp(e,i,r){let o=!1;const c=i.changedTouches,d=An(i.timeStamp);for(let u=0;u<c.length;u++){const p=c[u],m=e.h.findIndex(E=>E.identifier==p.identifier);m!=-1&&(o=!0,Kn(Wn()),e.h.splice(m,1),e.h.length===0?(e.l!==0?(window.clearTimeout(e.l),e.l=0,r&&vy(e.j,e.target,d,Hd(p,!0),e.m)):(e.g===2||e.g===4)&&Nn&&au(e.j,d),e.m=0,e.g=0):e.g===5?e.g=0:e.g===6&&(Nn&&lu(e.j),e.g=0))}Qs(e.j)&&o&&i.preventDefault()}function Bp(e,i){e.clientX=i.pageX-e.j.pb,e.clientY=i.pageY-e.j.vertical,e.radiusX=i.radiusX,e.radiusY=i.radiusY}function Gp(e){const i=Dp(e);e.h=.01<Math.abs(i.y-e.clientY),e.clientX=i.x,e.clientY=i.y}class ay{constructor(i,r,o){this.radiusY=this.radiusX=this.clientY=this.clientX=0,this.h=!1,this.identifier=i.identifier,this.g=r,this.j=o,Bp(this,i),xd?Gp(this):this.h=!1}update(i){Bp(this,i),this.h&&Gp(this)}}class Wd{constructor(i,r,o,c,d){this.h=r,this.id=i.identifier,this.v=o,this.l=i.pageX,this.m=i.pageY,this.o=i.radiusX,this.s=i.radiusY,this.g=c,this.j=d}}function xl(e,i,r,o){var c,d=0;for(let C of i){if(40<d)return void h.e("{ec05004}","{2faaf33}",i.length-d);var u=(c=e.g.get(C.identifier))===null||c===void 0?void 0:c.g;if(u===void 0)h.e("{ec05004}","{960ee4f}",C.identifier);else{var p=e.m*C.clientX,m=e.o*C.clientY,E=e.m*C.radiusX,T=e.o*C.radiusY,x=65535+E,g=-T;if(T=65535+T,p<-E||p>x||m<g||m>T)switch(r){case 2:case 8:break;default:continue}p=Math.min(Math.max(p,0),65535),m=Math.min(Math.max(m,0),65535);e:{E=e.P,x=r,g=C.radiusX,T=C.radiusY;var D=o;if(40<=d){u=!1;break e}const S=18+16*d;E.gb.setUint8(S,u),E.gb.setUint8(S+1,x),E.gb.setUint16(S+2,p,!1),E.gb.setUint16(S+4,m,!1),E.gb.setUint8(S+6,g),E.gb.setUint8(S+7,T),Dt(D,E.gb,S+8,!1,1e3),u=!0}if(!u){e.l+=i.length-d;break}d++}}d!=0&&(d>i.length?h.w("{ec05004}","{4e60a66}",d,i.length):(d=8+16*(i=d),(e=e.P).gb.setUint16(14,d,!1),e.gb.setUint16(16,i,!1),i=10,3<=e.La&&(d++,i--),d=new DataView(e.gb.buffer,i,d),Mt(e),Mt(e,d)||h.e("{ec05004}","{56a8404}")))}function Vp(e,i,r){var o=performance.now(),c=An(i.timeStamp);let d=!1,u=[];const p=i.changedTouches;let m=[];for(let E=0;E<p.length;E++){const T=p[E];if(T.target===e.target){let x=e.g.get(T.identifier);u.push(T.identifier),x&&(d=!0,Kn(Wn()),x.update(T),m.push(x),Xi&&e.h.push(new Wd(T,x.g,r,o,i.timeStamp)))}}xl(e,m,r,c);for(const E of u)o=E,(c=(r=e).g.get(o))&&(r.g.delete(o),r.s.delete(c.g));Xi&&(e.N=e.g.size==0),Qs(e.j)&&d&&i.preventDefault()}var ia=new Map([["Escape",27],["Digit0",48],["Digit1",49],["Digit2",50],["Digit3",51],["Digit4",52],["Digit5",53],["Digit6",54],["Digit7",55],["Digit8",56],["Digit9",57],["Minus",189],["Equal",187],["Backspace",8],["Tab",9],["KeyQ",81],["KeyW",87],["KeyE",69],["KeyR",82],["KeyT",84],["KeyY",89],["KeyU",85],["KeyI",73],["KeyO",79],["KeyP",80],["BracketLeft",219],["BracketRight",221],["Enter",13],["ControlLeft",162],["KeyA",65],["KeyS",83],["KeyD",68],["KeyF",70],["KeyG",71],["KeyH",72],["KeyJ",74],["KeyK",75],["KeyL",76],["Semicolon",186],["Quote",222],["Backquote",192],["ShiftLeft",160],["Backslash",220],["KeyZ",90],["KeyX",88],["KeyC",67],["KeyV",86],["KeyB",66],["KeyN",78],["KeyM",77],["Comma",188],["Period",190],["Slash",191],["ShiftRight",161],["NumpadMultiply",106],["AltLeft",164],["Space",32],["CapsLock",20],["F1",112],["F2",113],["F3",114],["F4",115],["F5",116],["F6",117],["F7",118],["F8",119],["F9",120],["F10",121],["Pause",19],["ScrollLock",145],["Numpad7",103],["Numpad8",104],["Numpad9",105],["NumpadSubtract",109],["Numpad4",100],["Numpad5",101],["Numpad6",102],["NumpadAdd",107],["Numpad1",97],["Numpad2",98],["Numpad3",99],["Numpad0",96],["NumpadDecimal",110],["PrintScreen",42],["IntlBackslash",226],["F11",122],["F12",123],["NumpadEqual",187],["F13",124],["F14",125],["F15",126],["F16",127],["F17",128],["F18",129],["F19",130],["F20",131],["F21",132],["F22",133],["F23",134],["F24",135],["KanaMode",233],["Lang2",25],["Lang1",21],["IntlRo",194],["Convert",234],["NonConvert",235],["IntlYen",193],["NumpadComma",188],["NumpadEnter",13],["ControlRight",163],["NumpadDivide",111],["PrintScreen",42],["AltRight",165],["NumLock",144],["Pause",19],["Home",36],["ArrowUp",38],["PageUp",33],["ArrowLeft",37],["ArrowRight",39],["End",35],["ArrowDown",40],["PageDown",34],["Insert",45],["Delete",46],["MetaLeft",91],["OSLeft",91],["MetaRight",92],["OSRight",92],["Lang2",25],["Lang1",21],["NumpadClear",12],["NumpadClearEntry",12]]),ly=new Map([["HanjaMode",25],["HangulMode",21]]),zp=new Map([["1",{vkCode:49,shift:!1}],["2",{vkCode:50,shift:!1}],["3",{vkCode:51,shift:!1}],["4",{vkCode:52,shift:!1}],["5",{vkCode:53,shift:!1}],["6",{vkCode:54,shift:!1}],["7",{vkCode:55,shift:!1}],["8",{vkCode:56,shift:!1}],["9",{vkCode:57,shift:!1}],["0",{vkCode:48,shift:!1}],["!",{vkCode:49,shift:!0}],["@",{vkCode:50,shift:!0}],["#",{vkCode:51,shift:!0}],["$",{vkCode:52,shift:!0}],["%",{vkCode:53,shift:!0}],["^",{vkCode:54,shift:!0}],["&",{vkCode:55,shift:!0}],["*",{vkCode:56,shift:!0}],["(",{vkCode:57,shift:!0}],[")",{vkCode:48,shift:!0}],["-",{vkCode:189,shift:!1}],["_",{vkCode:189,shift:!0}],["=",{vkCode:187,shift:!1}],["+",{vkCode:187,shift:!0}],[",",{vkCode:188,shift:!1}],["<",{vkCode:188,shift:!0}],[".",{vkCode:190,shift:!1}],[">",{vkCode:190,shift:!0}],[";",{vkCode:186,shift:!1}],[":",{vkCode:186,shift:!0}],["/",{vkCode:191,shift:!1}],["?",{vkCode:191,shift:!0}],["`",{vkCode:192,shift:!1}],["~",{vkCode:192,shift:!0}],["[",{vkCode:219,shift:!1}],["{",{vkCode:219,shift:!0}],["\\",{vkCode:220,shift:!1}],["|",{vkCode:220,shift:!0}],["]",{vkCode:221,shift:!1}],["}",{vkCode:221,shift:!0}],["'",{vkCode:222,shift:!1}],['"',{vkCode:222,shift:!0}],[" ",{vkCode:32,shift:!1}],["A",{vkCode:65,shift:!0}],["B",{vkCode:66,shift:!0}],["C",{vkCode:67,shift:!0}],["D",{vkCode:68,shift:!0}],["E",{vkCode:69,shift:!0}],["F",{vkCode:70,shift:!0}],["G",{vkCode:71,shift:!0}],["H",{vkCode:72,shift:!0}],["I",{vkCode:73,shift:!0}],["J",{vkCode:74,shift:!0}],["K",{vkCode:75,shift:!0}],["L",{vkCode:76,shift:!0}],["M",{vkCode:77,shift:!0}],["N",{vkCode:78,shift:!0}],["O",{vkCode:79,shift:!0}],["P",{vkCode:80,shift:!0}],["Q",{vkCode:81,shift:!0}],["R",{vkCode:82,shift:!0}],["S",{vkCode:83,shift:!0}],["T",{vkCode:84,shift:!0}],["U",{vkCode:85,shift:!0}],["V",{vkCode:86,shift:!0}],["W",{vkCode:87,shift:!0}],["X",{vkCode:88,shift:!0}],["Y",{vkCode:89,shift:!0}],["Z",{vkCode:90,shift:!0}],["a",{vkCode:65,shift:!1}],["b",{vkCode:66,shift:!1}],["c",{vkCode:67,shift:!1}],["d",{vkCode:68,shift:!1}],["e",{vkCode:69,shift:!1}],["f",{vkCode:70,shift:!1}],["g",{vkCode:71,shift:!1}],["h",{vkCode:72,shift:!1}],["i",{vkCode:73,shift:!1}],["j",{vkCode:74,shift:!1}],["k",{vkCode:75,shift:!1}],["l",{vkCode:76,shift:!1}],["m",{vkCode:77,shift:!1}],["n",{vkCode:78,shift:!1}],["o",{vkCode:79,shift:!1}],["p",{vkCode:80,shift:!1}],["q",{vkCode:81,shift:!1}],["r",{vkCode:82,shift:!1}],["s",{vkCode:83,shift:!1}],["t",{vkCode:84,shift:!1}],["u",{vkCode:85,shift:!1}],["v",{vkCode:86,shift:!1}],["w",{vkCode:87,shift:!1}],["x",{vkCode:88,shift:!1}],["y",{vkCode:89,shift:!1}],["z",{vkCode:90,shift:!1}]]);class Hp extends DataView{constructor(i,r,o,c){super(i,r,o),this.shift=0,this.setUint8=(d,u)=>super.setUint8(d+this.shift,u),this.setUint16=(d,u,p)=>super.setUint16(d+this.shift,u,p),this.setUint32=(d,u,p)=>super.setUint32(d+this.shift,u,p),this.setInt8=(d,u)=>super.setInt8(d+this.shift,u),this.setInt16=(d,u,p)=>super.setInt16(d+this.shift,u,p),this.setInt32=(d,u,p)=>super.setInt32(d+this.shift,u,p),this.setFloat32=(d,u,p)=>super.setFloat32(d+this.shift,u,p),this.setFloat64=(d,u,p)=>super.setFloat64(d+this.shift,u,p),this.shift=c??0}}function Mt(e,i,r=!0,o="input_channel_v1"){if(o!="gamepad_channel_v1"&&0<e.ia.h&&(i=e.Ff(i)),i===void 0)return!1;const c=window.performance.now();var d=e.Ba;if(d.aa?(pu(d),d=!1):d=!0,!d)return!1;if(d=!1,2<e.La&&r&&(9>i.byteOffset?h.w("{57a6a4d}","{0fc6121}"):((i=new DataView(i.buffer,i.byteOffset-9,9+i.byteLength)).setUint8(0,35),Dt(Dn(yt),i,1,!1,1e3))),r=-1,o==="gamepad_channel_v1"&&e.Zc!==void 0&&(r=e.Zc,e.Zc=(e.Zc+1)%65536),0<=r){if(3>i.byteOffset)return h.e("{57a6a4d}","{e9ac06c}"),!1;(i=new DataView(i.buffer,i.byteOffset-3,3+i.byteLength)).setUint8(0,37),i.setUint16(1,r)}try{let u=performance.now();switch(o){case"gamepad_channel_v1":e.Aa.send(i);break;case"input_channel_v1":e.Ja.send(i);break;default:throw Error(`Invalid input channel ${o}`)}jv(e.D,performance.now()-u);const p=window.performance.now();e.V.ld+=1,5<(i=p-c)&&(e.V.nd+=1),10<i&&(e.V.md+=1),d=!0}catch(u){u.stack&&!u.stack.includes("Could not send data")&&(h.e("{57a6a4d}","{7a6bf7c}",u),Dl(e)&&e.G.za(u,"sendinput exception","{57a6a4d}.ts",0,0,!0))}return d}function Wp(e,i,r){const o=e.fb(22);o.setUint32(0,10,!0),o.setUint16(4,0,!1),o.setUint16(6,-i,!1),o.setUint16(8,0,!1),o.setUint32(10,0),Dt(r,o,14,!1,1e3);try{Mt(e,o)}catch(c){h.e("{57a6a4d}","{3d81a57}",c),e.G.za(c,"send mousewheel exception","{57a6a4d}.ts",0,0,!0)}}function Nl(e,i,r,o,c,d,u=0){let p=e.J.eb;e=e.J.Wa;let m=7;o&&(m=5);let E=0;return m==5&&(E=4),i.setUint32(r,m,!0),i.setUint16(r+4,c,!1),i.setUint16(r+6,d,!1),i.setUint16(r+8,0,!1),i.setUint32(r+10+E,0,!1),Dt(u,i,r+14+E,!1,1e3),E&&(i.setUint16(r+10,p,!1),i.setUint16(r+12,e,!1)),r+(o?26:22)}function Dl(e){return e.Ja.readyState==="open"&&(!e.Aa||e.Aa.readyState==="open")}function Kd(e,i,r,o=0){const c=e.fb(26);Nl(e,c,0,!0,i,r,o);try{Dl(e)&&Mt(e,c)}catch(d){h.e("{57a6a4d}","{dba1265}",d),e.G.za(d,"send CursorPos exception","{57a6a4d}.ts",0,0,!0)}}function Yt(e,i,r,o,c=0){if(i!==4&&i!==3)h.e("{57a6a4d}","{66e269d}",i);else{var d=e.fb(18);d.setUint32(0,i,!0),d.setUint16(4,r,!1),d.setUint16(6,o,!1),d.setUint16(8,0,!1),Dt(c,d,10,!1,1e3),Mt(e,d)}}function $d(e,i,r,o,c,d,u=0,p=0){e.setUint32(i,12,!0),e.setUint16(i+4,26,!0),e.setUint16(i+6,r,!0),e.setUint16(i+8,p,!0),e.setUint16(i+10,20,!0),e.setUint16(i+12,o,!0),e.setUint16(i+14,c,!0),e.setInt16(i+16,Math.round(32767.5*(d[0]+1))-32768,!0),e.setInt16(i+18,Math.round(32767.5*(1-d[1]))-32768,!0),e.setInt16(i+20,Math.round(32767.5*(d[2]+1))-32768,!0),e.setInt16(i+22,Math.round(32767.5*(1-d[3]))-32768,!0),e.setUint16(i+24,0,!0),e.setUint16(i+26,85,!0),e.setUint16(i+28,0,!0),Dt(u,e,i+30,!0,1e3)}function qd(e,i,r,o,c,d=0,u=0){return $d(e=e.fb(38),0,o,i,r,c,d,u),e}function Kp(e,i,r){return(e=e.fb(10)).setUint32(0,18,!0),e.setUint8(4,i),e.setUint8(5,r),e.setUint32(6,1),e}var $p=class{constructor(e){this.g=e}enable(){this.g.Nc=!0}disable(){this.g.Nc=!1}updateInput(e,i,r){this.g.Nc&&(Kn(Wn()),this.g.$d=e,this.g.ae=i,this.g.Zd=r,this.g.be=!0)}};class cy{constructor(i){this.buttons=i.Hb(i.ba),this.axes=i.Gb(i.ba),this.Lb=i.Ib(i.ba),this.timestamp=performance.now()}}const qp={startDelay:0,duration:0,weakMagnitude:0,strongMagnitude:0};function ss(e){var i,r,o,c,d,u,p=(r=(i=$o)!==null&&i!==void 0?i:et.gamepadPollInterval)!==null&&r!==void 0?r:4;e.qa=p,p=(c=(o=q)!==null&&o!==void 0?o:et.allowHaptics)===null||c===void 0||c,e.allowHaptics=p,o=(u=(d=he)!==null&&d!==void 0?d:et.synthesizeGamepadHid)!==null&&u!==void 0&&u,e.T=o}function Qd(e,i){var r,o;ss(e),i=i??0,yl&&(i|=1),wl&&(i|=2),e.T&&i?(e.L=(r=yl)!==null&&r!==void 0?r:!!(1&i),e.W=(o=wl)!==null&&o!==void 0?o:!!(2&i),Ws(e,!0)):(e.L=!1,e.W=!1)}function Ws(e,i=!1){var r=!1;if(e.g.Nc&&!e.g.qb)e.g.qb?r=!1:(h.i("{515a922}","{132d93a}",e.g.Mb),e.g.qb=!0,e.C={Dd:"Nvidia Virtual Gamepad",state:0,buttons:0,Lb:0,axes:[]},Jd(e,e.g.Mb,!1),r=!0);else if(!e.g.Nc&&e.g.qb)e:if(e.g.qb){h.i("{515a922}","{98ac7c2}",e.g.Mb),e.g.qb=!1,Jp(e);var o=e.g.Mb;for(var c of e.h)if(c&&c.Ca==1&&c.ha===o){r=!1;break e}r=Yd(e,o)}else r=!1;for(c=navigator.getGamepads(),o=0;o<c.length;o++){let p=c[o];if(p)if(rm(e,p,o)){var d=e,u=p;d.h[o].ba=u,d.hapticsSupported=d.hapticsSupported||tu(u),sa(d),i&&((d=(r=e.h[o]).Ca)!==(u=br(e,p))&&(d===1?(Yd(e,r.ha),r.Ca=u,r.ha=er(e,u),nu(e,r)):(sm(e,r),r.Ca=u,r.ha=er(e,u),Jd(e,o,im(p)))),r=!0)}else Ks(e,o,!0),nm(e,p,o)&&(r=!0);else Ks(e,o,!0)&&(r=!0)}if(r){e.Eb();for(const p of e.h)(p==null?void 0:p.Ca)==2&&nu(e,p)}e.Z=!0}function Jd(e,i,r){i=e.g.qb&&i===e.g.Mb?e.g.Mb:e.h[i].ha,e.j|=4>i?1<<i:0,i=4>i?1<<i+8:0,e.j=r?e.j|i:e.j&~i}function Qp(e){const i=e.buttons,r=e.Lb;return"A:"+(4096&i?"1":"0")+"_B:"+(8192&i?"1":"0")+"_X:"+(16384&i?"1":"0")+"_Y:"+(32768&i?"1":"0")+"_LB:"+(256&i?"1":"0")+"_LSB:"+(64&i?"1":"0")+"_RB:"+(512&i?"1":"0")+"_RSB:"+(128&i?"1":"0")+"_LT:"+(255&r?"1":"0")+"_RT:"+(65280&r?"1":"0")+"_DU:"+(1&i?"1":"0")+"_DD:"+(2&i?"1":"0")+"_DL:"+(4&i?"1":"0")+"_DR:"+(8&i?"1":"0")+"_ST:"+(16&i?"1":"0")+"_BA:"+(32&i?"1":"0")+"_LS:"+(2<=(e=e.axes).length&&(e[0]===2||e[1]===2)?"1":"0")+"_RS:"+(e.length!==4||e[2]!==2&&e[3]!==2?"0":"1")}function Jp(e){var i;e.C&&((i=e.G)===null||i===void 0||Wm(i,e.C.Dd,"0","0",0,!1,!0,e.C.state,Qp(e.C)),e.C=void 0)}function Yd(e,i){return!(i===e.g.Mb&&e.g.qb||(e.j&=~(4>i?1<<i:0),e.j&=~(4>i?1<<i+8:0),0))}function er(e,i){let r=[];for(let o of e.h)o&&o.Ca==i&&(r[o.ha]=!0);for(e=0;r[e];)e++;return e}function wr(e,i){-1<(i=e.l.indexOf(i))&&e.l.splice(i,1)}function Xd(e,i){return!!(i.mapping=="standard"||e.fa||e.ea||Zp(e,i)||em(i)||tm(e,i))}function Zd(e,i){var r;for(let o of e.h){if(!o)continue;let c=o.ba;Xd(e,c)&&(o.Ca===1?(i.$c(0,c.index,o.ha,0,0,[0,0,0,0],performance.now(),e.j,c.id),i.Yc(1)):(r=i.Wc)===null||r===void 0||r.call(i,c.index,o.ha,0,0,[0,0,0,0],performance.now(),e.j,c.id))}}function eu(e,i){const r=e.F;i!=r&&(r?(e.m&&(e.m.stop(),e.m.reset(),wr(e,e.m),e.F=!1),e.o&&e.l.push(e.o)):(e.o&&(wr(e,e.o),Zd(e,e.o)),e.m&&(e.l.push(e.m),e.H&&e.m.start(),e.F=!0)))}function Yp(e,i,r=!1){return e.Z||(i|=2),r&&(i|=1),i}function os(e,i,r){return{Dd:r,state:e.h[i.index]?e.h[i.index].Fa.state:Yp(e,0),buttons:e.h[i.index]?e.h[i.index].Fa.buttons:0,Lb:e.h[i.index]?e.h[i.index].Fa.Lb:0,axes:e.h[i.index]?e.h[i.index].Fa.axes:[]}}function br(e,i){if(!e.T)return 1;if(e=e.Ka&&e.L&&e.Da&&!e.na){const r=$n,o=Xo;if(!((i.id.includes("Vendor: 054c")||i.id.includes("Wireless Controller")&&i.id.includes("054c")||r||o)&&18<=i.buttons.length))return 1;const c=i.id.includes("Product: 09cc")||i.id.includes("Product: 05c4")||i.id.includes("Product: 0ba0")||i.id.includes("Wireless Controller")&&i.id.includes("09cc");if(i=(i.id.includes("Product: 0ce6")||i.id.includes("Product: 0df2")||o)&&!Qe,e&&(c||i||r))return 2}return 1}function Xp(e,i){const r=br(e,i);return{ba:i,mc:!0,Ca:r,Hb:e.ca,Ib:e.da,Gb:e.aa,Fa:os(e,i,"Standard Gamepad"),ha:er(e,r)}}function Zp(e,i){return!e.ua&&i.mapping!="standard"&&i.id.includes("Vendor: 054c")&&i.id.includes("Product: 0ce6")}function em(e){return e.mapping!="standard"&&e.id.includes("Vendor: 045e")&&e.id.includes("Product: 0b13")}function tm(e,i){return e.S&&i.mapping!="standard"&&i.id.includes("Vendor: 045e")&&i.id.includes("Product: 0b12")}function nm(e,i,r){if(Xd(e,i)){var o=function(u,p){if(u.fa)return Xp(u,p);if(u.ea){var m=br(u,p);return{ba:p,mc:!0,Ca:m,Hb:u.Za,Ib:u.da,Gb:u.Ua,Fa:os(u,p,"Standard Gamepad"),ha:er(u,m)}}return u.va?null:p.mapping!="standard"||!p.id.includes("Vendor: 0955")||u.xa||u.wa?p.id.includes("Vendor: 045e")&&(p.id.includes("Product: 0b13")||p.id.includes("Product: 0b20")||p.id.includes("Product: 0b05")||p.id.includes("Product: 02e0")||p.id.includes("Product: 02fd"))?{ba:p,mc:!0,Ca:m=br(u,p),Hb:u.ca,Ib:u.da,Gb:u.aa,Fa:os(u,p,"Standard Gamepad"),Gg:!0,ha:er(u,m)}:p.mapping=="standard"?Xp(u,p):Zp(u,p)?{ba:p,mc:!1,Ca:m=br(u,p),Hb:u.Ta.bind(u),Ib:u.$.bind(u,3,4),Gb:u.sa,Fa:os(u,p,"Dual Sense Gamepad"),ha:er(u,m)}:em(p)?{ba:p,mc:!1,Ca:m=br(u,p),Hb:u.ab.bind(u),Ib:u.$.bind(u,3,4),Gb:u.sa,Fa:os(u,p,"Xbox Series Gamepad"),ha:er(u,m)}:tm(u,p)?{ba:p,mc:!1,Ca:m=br(u,p),Hb:u.Va.bind(u),Ib:u.$.bind(u,2,5),Gb:u.Sa,Fa:os(u,p,"Xbox Series Wired Gamepad"),ha:er(u,m)}:(h.e("{515a922}","{be4bfd9}",p),null):{ba:p,mc:!0,Ca:m=br(u,p),Hb:u.ca,Ib:u.$a,Gb:u.aa,Fa:os(u,p,"Nvidia Shield Gamepad"),ha:er(u,m)}}(e,i);if(o){e.hapticsSupported=e.hapticsSupported||tu(o.ba),sa(e);const u=e.j;var c=e.h[r],d=e.s;const p=im(i);return e.h[r]=o,e.I[r]===void 0&&(e.I[r]=0),c&&rm(e,i,r)?e.h[r].ha=c.ha:(e.s==0&&(e.gamepadPollInterval=e.qa,ra(e)),e.s++,o.Ca===2?(nu(e,o),e.U.set(o.ha,r)):(Jd(e,r,p),e.Zb.set(o.ha,r))),c=c?"Changing":"Adding",(i=u!==e.j)?h.i("{515a922}","{96051ae}",c,r,p,o.ba.id):d!=e.s&&h.i("{515a922}","{98be0dd}",c,r,o.ba.id),i}for(d of e.l)d.Uc(i);return Ks(e,r)}for(o of e.l)o.Uc(i);return Ks(e,r)}function Ks(e,i,r=!1,o){var c,d;let u=e.h[i];if(u){h.i("{515a922}","{1b26b8a}",i,u.ba.id);const p=u.Ca,m=e.M[i];if(m){const E=performance.now()-m.timestamp;3e3<=E&&m.axes.some(T=>.5<Math.abs(T))&&(h.w("{515a922}","{fde5612}",E,m.axes.join()),(c=e.G)===null||c===void 0||Kt(c,"GamepadStuck",u.ba.id,E.toString(),m.axes.join()))}if(r){const[E,T]=function(x){let g=["-1","-1"];return(x=/Vendor:[ ]+([\w\d]+).+Product:[ ]+([\w\d]+)/.exec(x))&&3<=x.length&&(g=[x[1],x[2]]),g}(u.ba.id);(d=e.G)===null||d===void 0||Wm(d,u.Fa.Dd,E,T,u.ba.index,!!u.ba.g&&0<u.ba.g.length,o??function(x,g){let D=!1;for(const C of x.h)if(C){g===C.ba.index&&(D=!0);break}return D}(e,u.ba.index),u.Fa.state,Qp(u.Fa))}if(delete e.h[i],delete e.I[i],delete e.M[i],e.hapticsSupported=function(E){let T=!1;for(let x of E.h)x&&(T=T||tu(x.ba));return T}(e),sa(e),e.s--,e.s==0&&(e.gamepadPollInterval=100,ra(e)),p!==2)return e.Zb.delete(u.ha),Yd(e,u.ha);sm(e,u),e.U.delete(u.ha)}return!1}function ra(e){e.N!=0&&(clearInterval(e.N),e.N=0),e.N=e.H&&!Cl?window.setInterval(e.Qa,e.gamepadPollInterval):0}function im(e){return e.id.includes("Xbox")||e.id.includes("xinput")}function tu(e){var i;return((i=e.vibrationActuator)===null||i===void 0?void 0:i.type)=="dual-rumble"}function sa(e){var i,r;e.O=e.H&&e.hapticsSupported;var o,c=e.O;if(e.ta!=c&&(e.ta=c,e.allowHaptics))for(const d of e.l)(o=d.Fg)===null||o===void 0||o.call(d,c);if(!e.O){c=navigator.getGamepads();for(let d of c)d&&(e.P[d.index]=0,e.R[d.index]=0,(r=(i=d.vibrationActuator)===null||i===void 0?void 0:i.playEffect)===null||r===void 0||r.call(i,"dual-rumble",qp))}}function rm(e,i,r){var o,c;return i.id!=null&&i.id==((c=(o=e.h[r])===null||o===void 0?void 0:o.ba)===null||c===void 0?void 0:c.id)}function nu(e,i){var r;switch(i.Ca){case 3:h.e("{515a922}","{ea001a4}",i.ba.id);break;case 2:for(const o of e.l)(r=o.gg)===null||r===void 0||r.call(o,i.ha);break;default:h.e("{515a922}","{36eeed4}",i.ba.id)}}function sm(e,i){var r;switch(i.Ca){case 3:h.e("{515a922}","{2b2d286}",i.ba.id);break;case 2:for(const o of e.l)(r=o.Of)===null||r===void 0||r.call(o,i.ha);break;default:h.e("{515a922}","{fafe5f9}",i.ba.id)}}function om(e){switch(Number.parseFloat((e??0).toFixed(5))){case .71429:return 4;case-.42857:return 8;case-1:return 1;case .14286:return 2;case 1.28571:return 0;case 1:return 5;case-.71429:return 9;case .42857:return 6;case-.14286:return 10;default:return 0}}function am(e,i){return(0>i?1:0)|(0<i?2:0)|(0>e?4:0)|(0<e?8:0)}function lm(e,i,r,o){e.buttons|=i,e.Lb|=r,e.axes.length===0?e.axes=[o[0],o[1],o[2],o[3]]:(e.axes[0]=e.axes[0]==2||e.axes[0]!==o[0]?2:e.axes[0],e.axes[1]=e.axes[1]==2||e.axes[1]!==o[1]?2:e.axes[1],e.axes[2]=e.axes[2]==2||e.axes[2]!==o[2]?2:e.axes[2],e.axes[3]=e.axes[3]==2||e.axes[3]!==o[3]?2:e.axes[3])}function Ol(e,i){e:{for(let r=0;r<e.v.length;r++){const o=e.v[r];if(o.$b===i.$b&&o.ic===i.ic&&o.jc===i.jc&&o.mb===i.mb){i=r;break e}}i=-1}i!==-1&&e.v.splice(i,1)}function iu(e){e.H=!0,ss(e),sa(e),Vs&&(e.windowAddEventListener("gamepadconnected",e.oa),e.windowAddEventListener("gamepaddisconnected",e.pa),ra(e),e.F&&e.m.start(),Ws(e,!0))}function cm(e,i,r,o){if(e.O){var c=e.h[i];if(c){let E=c.ba;if(E)if(r!=0||o!=0){var d,u,p=performance.now(),m=p-e.ga[i];e.P[i]=r/65535,e.R[i]=o/65535,(!c.Gg||500<m)&&(e.ga[i]=p,(u=(d=E.vibrationActuator)===null||d===void 0?void 0:d.playEffect)===null||u===void 0||u.call(d,"dual-rumble",{startDelay:0,duration:1e3,weakMagnitude:e.R[i],strongMagnitude:e.P[i]}))}else e.ga[i]=performance.now(),e.P[i]=0,e.R[i]=0,(m=(p=E.vibrationActuator)===null||p===void 0?void 0:p.playEffect)===null||m===void 0||m.call(p,"dual-rumble",qp)}}}function dm(e){return ss(e),Ws(e),e.j}var um=class{constructor(e,i){this.N=this.s=this.j=0,this.gamepadPollInterval=100,this.qa=4,this.P=[],this.R=[],this.ga=[],this.ta=this.O=this.hapticsSupported=!1,this.allowHaptics=!0,this.F=this.H=!1,this.ja=0,this.Z=this.ua=this.wa=this.xa=this.S=this.fa=this.ea=this.va=this.ka=!1,this.maxSchedulingDelay=0,this.v=[],this.W=this.L=this.T=!1,this.Da=!0,this.na=this.bb=!1,this.Zb=new Map,this.U=new Map,this.windowAddEventListener=i&&i.windowAddEventListener?i.windowAddEventListener.bind(window):window.addEventListener.bind(window),this.windowRemoveEventListener=i&&i.windowRemoveEventListener?i.windowRemoveEventListener.bind(window):window.removeEventListener.bind(window),this.oa=this.Na.bind(this),this.pa=this.Oa.bind(this),this.Qa=this.ra.bind(this),this.h=[],this.M=[],this.I=[],this.l=[],this.u=e,i=e.os;const r=e.osVer;this.ea=(e=(i=="iOS"||i=="iPadOS")&&e.browser=="Safari")&&r.startsWith("13"),this.fa=e&&r.startsWith("14"),this.va=e&&r=="12-",this.S=i=="ChromeOS",this.xa=i=="WebOS",this.wa=i=="Tizen",this.ua=i=="Android",this.g={Mb:0,Nc:!1,qb:!1,$d:0,ae:0,Zd:[],be:!1},this.cb=new $p(this.g),ss(this),this.Ka=!Ee,Qd(this),h.d("{515a922}","{b0c674b}")}cd(){return this.F}Eb(){for(const e of this.l)e.Eb(this.j)}Na(e){nm(this,e.gamepad,e.gamepad.index)&&this.Eb()}Oa(e){Ks(this,e.gamepad.index,!0)&&this.Eb()}ca(e){return((e=e.buttons)[0].value?4096:0)|(e[1].value?8192:0)|(e[2].value?16384:0)|(e[3].value?32768:0)|(e[4].value?256:0)|(e[5].value?512:0)|(e[8]&&e[8].value?32:0)|(e[9]&&e[9].value?16:0)|(e[10]&&e[10].value?64:0)|(e[11]&&e[11].value?128:0)|(e[12]&&e[12].value?1:0)|(e[13]&&e[13].value?2:0)|(e[14]&&e[14].value?4:0)|(e[15]&&e[15].value?8:0)|(e[16]&&e[16].value?65536:0)|(e[17]&&e[17].value?131072:0)}da(e){var i,r;e=e.buttons;let o=Math.round(255*((i=e[6])===null||i===void 0?NaN:i.value));return(255&Math.round(255*((r=e[7])===null||r===void 0?NaN:r.value)))<<8|255&o}$a(e){var i,r;e=e.buttons;let o=Math.round(255*((i=e[7])===null||i===void 0?NaN:i.value));return(255&Math.round(255*((r=e[6])===null||r===void 0?NaN:r.value)))<<8|255&o}$(e,i,r){return(255&Math.round(127.5*(r.axes[i]+1)))<<8|255&Math.round(127.5*(r.axes[e]+1))}aa(e){return e.axes}Ua(e){return[e.axes[0],-e.axes[1],e.axes[2],-e.axes[3]]}sa(e){return[e.axes[0],e.axes[1],e.axes[2],e.axes[5]]}Sa(e){return[e.axes[0],e.axes[1],e.axes[3],e.axes[4]]}Za(e){var i,r,o,c,d,u;let p=e.buttons;return e=e.axes,((i=p[0])!==null&&i!==void 0&&i.value?4096:0)|((r=p[1])!==null&&r!==void 0&&r.value?8192:0)|((o=p[2])!==null&&o!==void 0&&o.value?16384:0)|((c=p[3])!==null&&c!==void 0&&c.value?32768:0)|((d=p[4])!==null&&d!==void 0&&d.value?256:0)|((u=p[5])!==null&&u!==void 0&&u.value?512:0)|(0<e[5]?1:0)|(0>e[5]?2:0)|(0>e[4]?4:0)|(0<e[4]?8:0)}Ta(e){var i,r,o,c,d,u,p,m,E,T;let x=e.buttons;return e=this.S?am(e.axes[6],e.axes[7]):om(e.axes[9]),((i=x[1])!==null&&i!==void 0&&i.value?4096:0)|((r=x[2])!==null&&r!==void 0&&r.value?8192:0)|((o=x[0])!==null&&o!==void 0&&o.value?16384:0)|((c=x[3])!==null&&c!==void 0&&c.value?32768:0)|((d=x[4])!==null&&d!==void 0&&d.value?256:0)|((u=x[5])!==null&&u!==void 0&&u.value?512:0)|((p=x[8])!==null&&p!==void 0&&p.value?32:0)|((m=x[9])!==null&&m!==void 0&&m.value?16:0)|((E=x[10])!==null&&E!==void 0&&E.value?64:0)|((T=x[11])!==null&&T!==void 0&&T.value?128:0)|e}ab(e){var i,r,o,c,d,u,p,m,E,T;let x=e.buttons;return e=om(e.axes[9]),((i=x[0])!==null&&i!==void 0&&i.value?4096:0)|((r=x[1])!==null&&r!==void 0&&r.value?8192:0)|((o=x[3])!==null&&o!==void 0&&o.value?16384:0)|((c=x[4])!==null&&c!==void 0&&c.value?32768:0)|((d=x[6])!==null&&d!==void 0&&d.value?256:0)|((u=x[7])!==null&&u!==void 0&&u.value?512:0)|((p=x[10])!==null&&p!==void 0&&p.value?32:0)|((m=x[11])!==null&&m!==void 0&&m.value?16:0)|((E=x[13])!==null&&E!==void 0&&E.value?64:0)|((T=x[14])!==null&&T!==void 0&&T.value?128:0)|e}Va(e){var i,r,o,c,d,u,p,m,E,T;let x=e.buttons;return e=am(e.axes[6],e.axes[7]),((i=x[0])!==null&&i!==void 0&&i.value?4096:0)|((r=x[1])!==null&&r!==void 0&&r.value?8192:0)|((o=x[2])!==null&&o!==void 0&&o.value?16384:0)|((c=x[3])!==null&&c!==void 0&&c.value?32768:0)|((d=x[4])!==null&&d!==void 0&&d.value?256:0)|((u=x[5])!==null&&u!==void 0&&u.value?512:0)|((p=x[6])!==null&&p!==void 0&&p.value?32:0)|((m=x[7])!==null&&m!==void 0&&m.value?16:0)|((E=x[9])!==null&&E!==void 0&&E.value?64:0)|((T=x[10])!==null&&T!==void 0&&T.value?128:0)|e}Yb(){for(const e of this.l)e.Yb(this.g.$d,this.g.ae,this.g.Mb,this.g.Zd,this.j)}ra(){var e,i=performance.now();this.ya&&(this.maxSchedulingDelay=Math.max(this.maxSchedulingDelay,i-this.ya-this.gamepadPollInterval)),this.ya=i,Ws(this);let r=i=0;for(let E of this.h){if(!E)continue;const T=An(E.ba.timestamp);let x=E.ba;if(!Xd(this,x))continue;if(E.ba.timestamp<=this.I[x.index]){this.Pa&&5e3<=performance.now()-E.ba.timestamp&&this.Pa();continue}this.I[x.index]=E.ba.timestamp;const g=this.M[x.index];var o,c=new cy(E);if((o=g)&&(o=g.buttons==c.buttons&&g.Lb==c.Lb)){e:{o=g.axes;for(var d=0;d<o.length;d++)if(.01<Math.abs(o[d]-c.axes[d])){o=!0;break e}o=!1}o=!o}if(!o){if(this.M[x.index]=c,c=E.Ib(x),o=E.Hb(x),d=E.Gb(x),Md)if(o&(Je(this.u)?64:128)){if(this.ka){this.ka=!1;var u=performance.now();u<this.ja+500?(eu(this),this.ja=0):this.ja=u}}else this.ka=!0;for(let D of this.v){u=void 0;var p=D.$b,m=D.jc;const C=(D.ic|p)===o;m=!!(255&m)==229.5<=(255&c)&&!!(65280&m)==58752<=(65280&c);const S=!(((u=g==null?void 0:g.buttons)!==null&&u!==void 0?u:0)&p||!(o&p));C&&m&&S&&D.mb()}switch(E.Ca){case 1:for(const D of this.l)D.$c(r,x.index,E.ha,o,c,d,T,this.j,x.id);r++;break;case 2:for(const D of this.l)(e=D.Wc)===null||e===void 0||e.call(D,x.index,E.ha,o,c,d,E.ba.timestamp,this.j,x.id)}i++,lm(E.Fa,o,c,d)}}if(i&&Kn(Wn()),r)for(const E of this.l)E.Yc(r);this.g.qb&&this.g.be&&(this.Yb(),this.g.be=!1,this.C&&lm(this.C,this.g.$d,this.g.ae,this.g.Zd))}getVirtualGamepadHandler(){return this.cb}};function hm(e,i,r,o){var c=[];c[0]=-.1<o[0]&&.1>o[0]?0:o[0],c[1]=-.1<o[1]&&.1>o[1]?0:o[1],c[2]=-.1<o[2]&&.1>o[2]?0:o[2],c[3]=-.1<o[3]&&.1>o[3]?0:o[3],o=c[e.Vf],c=c[e.Wf];const d=4-3*Math.min(1,Math.sqrt(o*o+c*c));e.Hc=o*e.scale/d,e.Ic=c*e.scale/d,i=!!(4224&i)||58752<=(65280&r),r=229.5<=(255&r),o=e.wc,c=e.xc,e.wc=i,e.xc=r,!i&&o&&$s(e,0,!1),!r&&c&&$s(e,2,!1),i&&!o&&$s(e,0,!0),r&&!c&&$s(e,2,!0)}function $s(e,i,r){i=new MouseEvent(r?e.Bd:e.Yd,{button:i,buttons:(e.wc?1:0)|(e.xc?2:0)}),e.df.dispatchEvent(i)}var dy=class{constructor(e,i){this.Lc=0,this.Bg=8,this.vb=this.ub=this.Ic=this.Hc=0,this.xc=this.wc=!1,this.scale=12,this.kc="mousemove",this.Bd="mousedown",this.Yd="mouseup",this.Vf=2,this.Wf=3,this.u=i,this.df=e,this.Dg=this.Cg.bind(this),Je(this.u)&&(this.Vf=0,this.Wf=1)}$c(e,i,r,o,c,d){hm(this,o,c,d)}Wc(e,i,r,o,c){hm(this,r,o,c)}Cg(){this.ub=Math.sign(this.ub)!=Math.sign(this.Hc)?this.Hc:this.ub+this.Hc,this.vb=Math.sign(this.vb)!=Math.sign(this.Ic)?this.Ic:this.vb+this.Ic;var e=0;let i=0;if((1<=this.ub||-1>=this.ub)&&(e=Math.trunc(this.ub),this.ub-=e),(1<=this.vb||-1>=this.vb)&&(i=Math.trunc(this.vb),this.vb-=i),e!=0||i!=0){let r;e={movementX:e,movementY:i,isPrimary:!0},r=this.kc=="pointerrawupdate"||this.kc=="pointermove"?new PointerEvent(this.kc,e):new MouseEvent("mousemove",e),this.df.dispatchEvent(r)}}start(){this.Lc&&this.stop(),this.Lc=window.setInterval(this.Dg,this.Bg)}stop(){this.Lc&&(clearInterval(this.Lc),this.Lc=0)}reset(){this.wc&&$s(this,0,!1),this.xc&&$s(this,2,!1),this.ub=this.vb=this.Hc=this.Ic=0,this.wc=this.xc=!1}Eb(){}Yc(){}Yb(){}Uc(){}};function uy(e){return{zf:"image/x-icon",scale:1,...e}}const fm={style:"default",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAOAAAADAAAABwAAAAYAAAAOAAABDAAAAZwAAAHYAAAB4AAAAf+AAAH/AAAB/gAAAfwAAAH4AAAB8AAAAeAAAAHAAAABgAAAAQAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////////5////8P///+D////h////wf//98P///OD///xh///8Af///AP///wAH//8AD///AB///wA///8Af///AP///wH///8D////B////w////8f////P////3/////////8=",Ha:2,Ia:1},hy=[{style:"none",Ma:"",Ha:0,Ia:0},fm,{style:"text",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfvwAAAAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAfPwAAAAAAAAAAAAAAAAAA/////////////////////////////////////+BA///Agf///z////8/////P////z////8/////P////z////8/////P////z////8/////P////z////8/////P////z////8/////P////z///+BA///Agf////////////8=",Ha:8,Ia:13},{style:"wait",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/8AAAzzAAAHDgAABfoAAAb2AAADbAAAAfgAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAB+AAAA/wAAAaWAAAH/gAABWoAAA//AAAP/wAAAAAAAAAAAAA//////////////////////////////////////////+AAf//gAH//4AB//+AAf//wAP//8AD///gB///8A////gf///8P////D////w////8P////D////gf///wD///4Af//8AD///AA///gAH//4AB//+AAf//gAH///////8=",Ha:7,Ia:12},{style:"crosshair",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAABjAAABgMAAAQBAAAIAIAACACAABAAQAAAIAAAEABAAAgAgAAIAIAABgMAAAICAAABjAAAAFAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////4////5T///53P//+97///fff//333//79+//+AAP//v37//999///fff//53P///d3///5T////j////////8=",Ha:8,Ia:8},{style:"progress",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4AAAAiAAAAPgAAABwAAAYIAAAOCAAADAgAABwcAAAYNgAAOCoABDA+AAZwAAAHYAAAB4AAAAf+AAAH/AAAB/gAAAfwAAAH4AAAB8AAAAeAAAAHAAAABgAAAAQAAAAAAAAAAAAAAAAAAAA///////////////////////+A////gP///4D///+A///5wf//8OP//+Dj///h4///wcH/98OA//ODgP/xh4D/8AeA//AP///wAH//8AD///AB///wA///8Af///AP///wH///8D////B////w////8f////P////3/////////8=",Ha:2,Ia:1},{style:"nwse-resize",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP4AAAB+AAAAPgAAAB4AAABuAAAA5gAAAcIAAEOAAABnAAAAdgAAAHgAAAB8AAAAfgAAAH8AAAAAAAAAAAAAA/////////////////////////////////////////////////////////////////////////////////wA///+AP///wD///+A////gP///wD//34A//88GP//GDz//wB+//8A////Af///wH///8A////AH///wA////////8=",Ha:9,Ia:8},{style:"nesw-resize",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfwAAAH4AAAB8AAAAeAAAAHYAAABnAAAAQ4AAAAHCAAAA5gAAAG4AAAAeAAAAPgAAAH4AAAD+AAAAAAAAAAAAA////////////////////////////////////////////////////////////////////////////////wA///8Af///AP///wH///8B////AP///wB+//8YPP//PBj//34A////AP///4D///+A////AP///gD///wA///////8=",Ha:9,Ia:9},{style:"ew-resize",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAEAABgBgAA4AcAAeAHgAPv98AH7/fgA+/3wAHgB4AA4AcAAGAGAAAgBAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////+/3///P8///j/H//w/w//4P8H/8AAA/+AAAH/AAAA/4AAAf/AAAP/4P8H//D/D//4/x///P8///7/f//////8=",Ha:13,Ia:8},{style:"ns-resize",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADgAAAB8AAAA/gAAAf8AAAP/gAAAAAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAAAAAA/+AAAH/AAAA/gAAAHwAAAA4AAAAEAAAAAAAAAAAAAA//////////////////////////////////////+/////H////g////wH///4A///8AH//+AA///AAH///g////4P///+D////g////4P///+D////g////4P///AAH//4AD///AB///4A////Af///4P////H////7////////8=",Ha:9,Ia:12},{style:"move",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAABwAAAA+AAAAHAAAABwAAAAcAAAAHAAAABwAAAgACAAf3fwAP93+AB/d/AAIAAgAABwAAAAcAAAAHAAAABwAAAAcAAAAPgAAABwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////f////j////wf///4D///8Af///wf///8H///vB7//zwef/4AAD/8AAAf+AAAD/wAAB/+AAA//zwef/+8Hv///B////wf///wB///+A////wf///+P////3///////////////////////8=",Ha:13,Ia:12},fm,{style:"pointer",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAB/gAAA/4AAAP/AAAH/wAAB/8AAA//gAAP/4AAH/+AADttgABzbYAAY2wAAANsAAADYAAAAwAAAAMAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////+Af///AD///wA///4AP//+AB///AAf//wAH//4AA//+AAP//AAD//gAA//wAAP/8IAH//mAH///gD///4H///+H////z////////8=",Ha:8,Ia:3},{style:"help",Ma:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAABgAAAAYAAAYHAAAOAYAADADAABwwwAAYMMAAODDABDAZgAZwDwAHYAAAB4AAAAf+AAAH/AAAB/gAAAfwAAAH4AAAB8AAAAeAAAAHAAAABgAAAAQAAAAAAAAAAAAAAAAAAAA/////////////+f////D////5//////////n////w///58P//8PB//+D4P//hzB//wYYf98OGH/ODhh/xh8A/8Afgf/AP8P/wAH//8AD///AB///wA///8Af///AP///wH///8D////B////w////8f////P////3/////////8=",Ha:2,Ia:1}];function pm(e){e.preventDefault()}function oa(e){var i,r;return e.yb()&&e.cursorType!=2&&e.s.h&&(!e.g.rb||e.g.yd)&&((r=(i=_u(e.D))===null||i===void 0?void 0:i.Db())===null||r===void 0||r)}function qs(e){return e.m===1||e.m===2}function On(e){var i=oa(e);const r=qs(e),o=e.o&&!e.g.rb,c=e.Ka;!e.Db||!i||r&&o===c?!i&&r&&(document.exitPointerLock?(e.m=3,document.exitPointerLock()):e.m=0):(i=e.v).requestPointerLock&&3>e.P?(e.m=1,(i=i.requestPointerLock({unadjustedMovement:o}))&&(e.ua=!0,i.then(()=>{e.m=2,e.Ka=o,e.P=0}).catch(d=>{e.m=0,d.name==="NotSupportedError"&&o?(h.i("{70cc40b}","{08fd91e}"),e.o=!1,On(e)):(d.name=="UnknownError"?(e.P++,h.w("{70cc40b}","{9f2ba9f}",e.P)):h.e("{70cc40b}","{4cdd98f}",d.name,d.message),Er(e))}))):e.m=2}function mm(e){var i,r;if(e.cursorType===0){var o=e.v.getBoundingClientRect(),c=(r=(i=e.v.parentElement)===null||i===void 0?void 0:i.getBoundingClientRect())!==null&&r!==void 0?r:new DOMRect(0,0,0,0);i=o.left-c.left+e.J.ma*e.J.Xa,o=o.top-c.top+e.J.ma*e.J.Ra,e.j.style.position="absolute",e.j.style.left=i+"px",e.j.style.top=o+"px",e.j.style.zIndex="200"}}function ru(e){var i=e.j.getContext("2d");if(i&&(e.h.pg=i,i=window.devicePixelRatio,e.h.wb!=i)){h.i("{70cc40b}","{b786ba9}",i),e.h.wb=i,e.h.bd=!0;for(const r of e.W.values())r.style=void 0;as(e)}}function Ml(e,i){if(e.T&&e.I!==i)switch(e.C&&km(e),e.I=i,e.C&&Tm(e),i){case 1:e.H=4;break;case 2:e.H=8;break;case 3:e.H=16;break;default:e.H=0}}function vm(e,i,r,o){i>=e.U.length?h.e("{70cc40b}","{de8eabe}",i):Cm(e,e.U[i],r,o)}function gm(e){e.O&&(window.clearTimeout(e.O),e.O=0)}function Ll(e,i,r){su(e,i-e.J.Xa,r-e.J.Ra)}function as(e){e.h.Vc=!0}function Am(e,i){if(i instanceof PointerEvent){if(Fl(i))return;i.preventDefault()}let r=performance.now();if(e.s.h&&(!oa(e)||qs(e))&&(i.movementX!==0||i.movementY!==0)){e.lc(!0);var o=1,c=0,d=e.g.rb,u=e.ia.h,p=m=>{if(e.R.update(m.movementX,m.movementY,m.timeStamp)){var E=e.R.jf(),T=e.R.kf();if(d){if(e.g.yd){var x=e.S?e.h.wb:1;su(e,e.g.sb+E/x,e.g.tb+T/x)}else Ll(e,m.offsetX,m.offsetY);e.h.Vc=!0,E=e.g.sb,T=e.g.tb}else e.S&&(x=e.h.wb,E+=e.g.Sd,T+=e.g.Td,e.g.Sd=E%x,e.g.Td=T%x,E/=x,T/=x);e:{if(x=e.ia,m=An(m.timeStamp),c%o!=0&&0<x.j){const g=x.l[x.j-1];if(g.ib===d&&g.yc===r){d?(g.x=E,g.y=T):(g.x+=E,g.y+=T);break e}}x.j==x.l.length?(x.l.push({ib:d,x:E,y:T,captureTimestamp:m,jb:0,yc:r}),x.j++):((x=x.l[x.j++]).ib=d,x.x=E,x.y=T,x.captureTimestamp=m,x.jb=0,x.yc=r)}c++}};if(i instanceof PointerEvent&&e.$){const m=i.getCoalescedEvents();if(m.length==0)p(i);else{i=e.ia.g.length,i=m.length>2*i?1:Math.max(i-e.ia.h-4,1),m.length>i&&(o=Math.ceil(m.length/i),e.V.Rc+=m.length);for(let E of m)p(E)}}else p(i);1<e.l.zg&&u===0&&e.ia.h>u&&(e.ia.l[u].jb=e.ia.h-u)}}function su(e,i,r){e.g.sb=Math.min(Math.max(i,0),e.J.eb),e.g.tb=Math.min(Math.max(r,0),e.J.Wa),as(e)}function Sm(e,i){if(e.J.eb&&e.J.Wa){const r=i.Wa/e.J.Wa;e.g.sb*=i.eb/e.J.eb,e.g.tb*=r}e.J=i,mm(e),ru(e)}function ym(e){return 1.499<=e&&1.999>e?2:Math.max(1,Math.floor(e+.001))}function wm(e,i){const r=e.g.cursor;if(r.image){var o=e.h.wb,c=e.h.pg,d=r.image.width*i;i*=r.image.height;var u=Math.ceil(d),p=Math.ceil(i);u!==e.j.width||p!==e.j.height?(e.j.style.width=d/o+"px",e.j.style.height=i/o+"px",e.j.width=u,e.j.height=p,c.scale(1,1),c.imageSmoothingEnabled=!1):c.clearRect(0,0,e.j.width,e.j.height),c.drawImage(r.image,0,0,d,i)}else h.e("{70cc40b}","{bc9bdcd}")}function bm(e){e.h.od&&(e.h.od=!1,e.j.style.visibility="hidden")}function Er(e){const i=e.v;!e.yb()||oa(e)&&!qs(e)||e.cursorType==2?i.style.cursor="default":i.style.cursor=e.cursorType===0?"none":e.g.style}function Em(e,i){const r=()=>{if(e.g.Ac=void 0,e.g.cursor=i,e.h.bd=!0,e.cursorType===0)as(e);else{if(!i.style){var o=e.h.wb,c=1,d=1;e.Da!==void 0&&(d=(c=ym(o/i.scale))/o),wm(e,c),o=e.j.toDataURL("image/bmp"),c=i.Ha*d,d=i.Ia*d;const u=e.h.wb,p=e.Da;i.style=p?`${p}(url(${o}) ${u}x) ${c} ${d}, auto`:`url(${o}) ${c} ${d}, auto`}e.g.style=i.style,Er(e)}};if(e.cursorType!==0&&i.style)r();else if(i.style!=="none")if(i.image)i.image.width!==0||i.image.height!==0?r():e.g.Ac=i.image;else{const o=new Image;i.image=o,!o.decode&&o.decoding&&(o.decoding="sync"),o.src=`data:${i.zf};base64,${i.Ma}`,o.decode?(e.g.Ac=o,o.decode().then(()=>{e.g.Ac===o&&r()}).catch(()=>{e.g.Ac===o&&(e.g.Ac=void 0,Em(e,e.U[1]))})):r()}else e.g.cursor=i,bm(e)}function Cm(e,i,r,o){const c=i.style!=="none";!e.g.rb&&c&&r!==void 0&&o!==void 0&&su(e,r*e.J.eb/65535,o*e.J.Wa/65535),e.g.rb=c,c||(e.g.Sd=0,e.g.Td=0),On(e),Em(e,i),Er(e)}function _l(e){e.M!==0&&(window.clearTimeout(e.M),e.M=0)}function Tm(e){e.cursorType==2?(e.N.kc=ls(e),e.videoAddEventListener(ls(e),e.L?e.ka:e.ja)):e.I!==0?(e.N.kc="pointerrawupdate",e.videoAddEventListener("pointerrawupdate",e.wa)):(e.N.kc=ls(e),e.videoAddEventListener(ls(e),e.va))}function ou(e){if(0<e.F.size){h.i("{70cc40b}","{041c67f}",e.F.size);for(const i of e.F)e.Ab(i,0)}}function km(e){e.cursorType==2?e.videoRemoveEventListener(ls(e),e.L?e.ka:e.ja):e.I!==0?e.videoRemoveEventListener("pointerrawupdate",e.wa):e.videoRemoveEventListener(ls(e),e.va)}function ls(e){return e.L?"pointermove":"mousemove"}var fy=class{constructor(e,i,r,o,c,d,u,p,m,E,T,x){var g,D,C,S,U,H,B,W,_,z,V,N,$,ne,ge,ve,Me,Xe;this.Ba=e,this.s=x,this.W=new Map,this.U=hy.map(uy),this.P=this.m=0,this.Db=!1,this.F=new Set,this.ua=this.Ka=this.o=this.$=this.L=this.T=!1,this.H=this.I=0,this.ca=!1,this.ra={passive:!1},this.Z=!0,this.C=!1,this.O=this.M=0,this.Sa=()=>{this.O=0,oa(this)&&!qs(this)&&(this.Db=!0,On(this))},this.u=u,this.D=i,this.v=r,this.G=c,this.Na=d,this.N=p,this.V=m,this.ia=E,this.l=T,o.onmessage=ue=>function(Oe,je){let xe=new Uint8Array(je.data);switch(xe[0]){case 0:case 1:je=xe[1];let hn=xe[2],qn=xe[3];var ot=xe[4];let Y=5,me=()=>{const Le=xe[Y]+(xe[Y+1]<<8);return Y+=2,Le};var st="";ot!=0&&(st=xe.subarray(Y,Y+ot),Y+=ot,st=new TextDecoder("utf-8").decode(st));var bt="";let fe,Ie,Re;(ot=me())!=0&&(bt=xe.subarray(Y,Y+ot),Y+=ot,bt=new TextDecoder("utf-8").decode(bt)),Y+4<=xe.byteLength&&(fe=me(),Ie=me()),Y+2<=xe.byteLength&&(Re=me()/100),xe[0]==0?vm(Oe,je,fe,Ie):function(Le,ze,Ne,rt,mt,at,tt,nt,ct){if(0<at.length)Ne={Ma:at,Ha:Ne,Ia:rt,zf:mt,scale:ct||1},Le.W.set(ze,Ne);else if((Ne=Le.W.get(ze))===void 0)return void h.e("{70cc40b}","{0196577}",ze);Cm(Le,Ne,tt,nt)}(Oe,je,hn,qn,st,bt,fe,Ie,Re);break;case 10:Oe.Na.allowUnconfined&&function(Le,ze){Le.g.yd=ze,On(Le)}(Oe,xe[1]==1)}}(this,ue),this.J={eb:r.clientWidth||window.screen.width,Wa:r.clientHeight||window.screen.height,Sf:1,Xa:0,Ra:0,videoWidth:0,videoHeight:0,Pc:0,offsetX:0,offsetY:0,ma:1},e=window.zoneless,this.documentAddEventListener=(D=(g=e==null?void 0:e.documentAddEventListener)===null||g===void 0?void 0:g.bind(document))!==null&&D!==void 0?D:document.addEventListener.bind(document),this.documentRemoveEventListener=(S=(C=e==null?void 0:e.documentRemoveEventListener)===null||C===void 0?void 0:C.bind(document))!==null&&S!==void 0?S:document.removeEventListener.bind(document),this.videoAddEventListener=(W=(H=(U=e==null?void 0:e.videoAddEventListener)===null||U===void 0?void 0:U.bind(r))!==null&&H!==void 0?H:(B=e==null?void 0:e.documentAddEventListener)===null||B===void 0?void 0:B.bind(document))!==null&&W!==void 0?W:r.addEventListener.bind(r),this.videoRemoveEventListener=(N=(z=(_=e==null?void 0:e.videoRemoveEventListener)===null||_===void 0?void 0:_.bind(r))!==null&&z!==void 0?z:(V=e==null?void 0:e.documentRemoveEventListener)===null||V===void 0?void 0:V.bind(document))!==null&&N!==void 0?N:r.removeEventListener.bind(r),this.fa=this.na.bind(this),this.xa=this.$a.bind(this),this.pa=this.oa.bind(this),this.ya=this.bb.bind(this),this.qa=this.Ta.bind(this),this.va=this.ab.bind(this),this.wa=this.Va.bind(this),this.ja=this.ga.bind(this),this.ka=this.Qa.bind(this),this.ta=this.Ua.bind(this),this.sa=this.Za.bind(this),this.da=this.Oa.bind(this),this.ea=this.Pa.bind(this),this.aa=!!d.windowedStreaming,this.cursorType=(ne=($=function(){switch(Td){case"hw":return 1;case"sw":return 0;case"free":return 2}}())!==null&&$!==void 0?$:d.cursorType)!==null&&ne!==void 0?ne:this.aa?2:0,h.i("{70cc40b}","{3277c0e}",this.cursorType),this.g={rb:!1,yd:this.cursorType===0&&!d.allowUnconfined,sb:0,tb:0,Sd:0,Td:0,style:"",cursor:this.U[0]},this.h={wb:1,Vc:!1,bd:!1,od:!1},this.Da=["image-set","-webkit-image-set"].find(ue=>CSS.supports("cursor",`${ue}(url(image.bmp) 2x) 0 0, auto`)),this.cursorType===0?(this.j=function(ue){let Oe="canvasId1";var je=document.getElementById(Oe);if(je&&je instanceof HTMLCanvasElement&&je.parentElement===ue.parentElement)return je;if(je)do Oe="canvasId"+Math.round(1e4*Math.random()),je=document.getElementById(Oe);while(je);return(je=document.createElement("canvas")).id=Oe,je.style.touchAction="none",je.style.pointerEvents="none",je.style.willChange="transform",ue.insertAdjacentElement("afterend",je),je}(this.v),this.j.style.visibility="hidden",this.j.style.display="none"):this.j=document.createElement("canvas"),mm(this),ru(this),this.T="onpointerrawupdate"in this.v,this.$=(this.L=Fp())&&"getCoalescedEvents"in PointerEvent.prototype&&u.browser!=="Firefox",h.i("{70cc40b}","{f30b8ee}",this.$?"supported":"not supported"),this.T&&(r=function(){const ue=et.mouseCoalesceInterval;if(ue!==void 0)return new Map([[0,0],[4,1],[8,2],[16,3]]).get(ue)}(),r!==void 0?Ml(this,r):He(u)?Ml(this,3):Ml(this,1),h.i("{70cc40b}","{20be0c0}",this.H,r!==void 0?" (overridden)":"")),this.o=(ge=d.unadjustedMovement)!==null&&ge!==void 0?ge:oe(this.u)?!this.aa&&ln(this.u,84,0,4147,78):He(this.u)||Ce(this.u)?ln(this.u,86,0,4240,198):this.u.browser==="Safari",d=He(u)&&ln(this.u,84,0,4147,94)&&!ln(this.u,88,0,4324,139),d=oe(this.u)||!d||!ln(this.u,84,0,4147,94),((ve=Wo)!==null&&ve!==void 0?ve:d)?this.R=new class{constructor(){this.l=this.j=this.o=this.m=this.F=this.C=this.s=this.h=this.g=0,this.v=!1}jf(){return this.g}kf(){return this.h}update(ue,Oe,je){if(ue===0&&Oe===0)return this.v?this.l=this.j=0:this.v=!0,!1;if(this.v=!1,this.j===0&&this.l===0){if(je<this.s)return this.j=ue,this.l=Oe,!1}else ue+=this.j,Oe+=this.l,this.l=this.j=0;var xe=ue*this.g+Oe*this.h,ot=ue*ue+Oe*Oe,st=this.g*this.g+this.h*this.h,bt=!0;if(.95>je-this.s&&0>xe&&st!==0&&xe*xe>.81*ot*st&&(xe=Math.sqrt(ot)/Math.sqrt(st),.5<(xe=Math.abs(xe-Math.trunc(xe)))&&(xe=1-xe),.1>xe&&(bt=!1)),xe=ue-this.g,ot=Oe-this.h,bt&&(bt=2*(st=1+.1*Math.max(1,Math.min(16,je-this.s)))*Math.abs(this.C),st=2*st*Math.abs(this.F),!(bt=xe*xe+ot*ot<(st=Math.max(8100,bt*bt+st*st)))&&(this.m||this.o))){bt=ue-this.m;const hn=Oe-this.o;bt=bt*bt+hn*hn<st}return bt?(this.C=.4*this.C+.6*xe,this.F=.4*this.F+.6*ot,this.g=ue,this.h=Oe,this.s=je,this.o=this.m=0,!0):(this.m=ue,this.o=Oe,!1)}}:this.R=new class{constructor(){this.y=this.x=0}jf(){return this.x}kf(){return this.y}update(ue,Oe){return this.x=ue,this.y=Oe,!0}},["pointerlockchange","mozpointerlockchange"].forEach(ue=>this.documentAddEventListener(ue,this.ta)),["pointerlockerror","mozpointerlockerror"].forEach(ue=>this.documentAddEventListener(ue,this.sa)),bi(this.s,0,this.da),bi(this.s,2,this.ea),Ae(this.u)||De(this.u)?this.S=!0:u.browser!="Chrome"||ln(u,99,0,4844,44)||Ce(u)?this.S=!1:this.S=!0,this.cursorType===1&&vm(this,1),this.cb=this.cursorType===1&&((Xe=(Me=kd)!==null&&Me!==void 0?Me:et.pointerLockEscape)===null||Xe===void 0||Xe),this.lb=this.cursorType===1&&u.browser==="Safari",h.d("{70cc40b}","{ec7c4c5}")}uninitialize(){["pointerlockerror","mozpointerlockerror"].forEach(e=>this.documentRemoveEventListener(e,this.sa)),["pointerlockchange","mozpointerlockchange"].forEach(e=>this.documentRemoveEventListener(e,this.ta)),Ei(this.s,0,this.da),Ei(this.s,2,this.ea),gm(this)}$a(e){Fl(e)||(e.preventDefault(),this.na(e),this.cursorType===2&&this.v.setPointerCapture(e.pointerId))}na(e){var i;(i=this.D.R)===null||i===void 0||i.g==2&&(h.i("{4c846ba}","{89b1a9f}"),Hu(i),og(i),ag(i)),Nu(this.s,!0),this.Db=!0,i=An(e.timeStamp),oa(this)&&!qs(this)?(On(this),this.g.rb&&(Ll(this,e.offsetX,e.offsetY),as(this),Kd(this.l,this.g.sb,this.g.tb,i))):(this.lb&&this.g.rb&&(gm(this),this.O=window.setTimeout(this.Sa,500)),Kn(Wn()),this.Jb(e.button,i))}bb(e){Fl(e)||(e.preventDefault(),this.oa(e))}oa(e){Kn(Wn()),this.Ab(e.button,An(e.timeStamp))}Ta(e){this.aa&&e.target!==this.v||(Wp(this.l,e.deltaY,An(e.timeStamp)),e.preventDefault())}Qa(e){if(!Fl(e)){if(e.preventDefault(),e.button!==-1){let i;switch(e.button){case 1:i=2;break;case 2:i=1;break;default:i=e.button}const r=An(e.timeStamp);e.buttons&1<<i?this.Jb(e.button,r):this.Ab(e.button,r)}this.ga(e)}}ga(e){Ll(this,e.offsetX,e.offsetY),Kd(this.l,this.g.sb,this.g.tb,An(e.timeStamp))}ab(e){Am(this,e)}Va(e){const i=0<this.l.ia.h;Am(this,e),!i&&0<this.l.ia.h&&((e=performance.now()-this.l.tg)>=this.H?Mt(this.l):function(r,o){r.Kb=window.setTimeout(()=>{r.Kb=0,Mt(r)},o)}(this.l,this.H-e))}Pa(e){this.Db=e,On(this),Er(this)}Ua(){if(document.pointerLockElement instanceof HTMLElement)this.m=2;else{var e=this.m===2;this.m=0,_l(this);var i=()=>{h.i("{70cc40b}","{d4b3de3}"),this.Db=!1,Er(this)},r=this.Ba.Ya.has(27);this.cb&&e&&!r?this.M=window.setTimeout(()=>{i(),this.M!==0&&(_l(this),cu(this.Ba,!0))},50):(e&&i(),cu(this.Ba,!1))}}Za(){this.ua||(this.m=0,this.o?(this.o=!1,h.e("{70cc40b}","{7599808}"),On(this)):(h.e("{70cc40b}","{d633cd1}"),Er(this)))}yb(){return this.C}Oa(e){e?(this.s.j&&(this.Db=!0,On(this)),ru(this)):(On(this),this.M!==0&&(_l(this),cu(this.Ba,!1)))}Jb(e,i){this.F.has(e)||(this.F.add(e),this.l.Jb(e,i))}Ab(e,i){this.F.has(e)&&(this.F.delete(e),this.l.Ab(e,i))}lc(e){this.Z!=e&&(as(this),this.Z=e)}};function Fl(e){return!e.isPrimary||e.pointerType==="touch"||e.pointerType==="pen"}const py=[{Bc:8,fc:128,rd:Bl(),Wb:27,Xb:[]},{Bc:46,fc:128,rd:Bl(),Wb:27,Xb:[]}];function my(e,i,r,o){e.J.ma===1&&(vu(e,i,o,r),e.I.delay(()=>{e.Jb(0,r)}))}function au(e,i){e.J.ma===1&&(jl(e.I),e.Ab(0,i))}function lu(e){var i=e.h;i.ca=!1,as(i),1.1>e.J.ma&&cs(e,e.J.offsetX,e.J.offsetY,1)}function Qs(e){return e.aa?(pu(e),!1):e.v.h}function Im(e,i){if(i.length===2){var r=e.h;r.ca=!0,as(r),r=i[0],i=i[1];var o=Math.hypot(r.clientX-i.clientX,r.clientY-i.clientY),c=Math.hypot(r.clientX-r.deltaX-(i.clientX-i.deltaX),r.clientY-r.deltaY-(i.clientY-i.deltaY));const d=e.j.getBoundingClientRect(),u=Om(e);o=o/c*e.J.ma,o=Math.min(Math.max(o,1),3),c=(r.clientX+i.clientX)/2-d.left,c+=e.J.offsetX-u.pb-(d.width-c)/e.J.ma,c=(o/e.J.ma-1)*c*-1,c+=e.J.offsetX+(r.deltaX+i.deltaX)/2;let p=(r.clientY+i.clientY)/2-d.top;p+=e.J.offsetY-u.vertical-(d.height-p)/e.J.ma,p=(o/e.J.ma-1)*p*-1,p+=e.J.offsetY+(r.deltaY+i.deltaY)/2,cs(e,c,p,o)}}function vy(e,i,r,o,c){switch(jl(e.I),c){case 1:vu(e,i,o,r),e.I.delay(()=>{la(e,0,r)});break;case 2:e.ka++,Wt&&e.F===0&&(e.F=window.setTimeout(()=>{e.ka===2?e.D.toggleOnScreenStats():e.ka===3&&e.D.toggleOnScreenStats(!0),fu(e)},300)),la(e,2,r);break;case 3:e.ga++,Wt&&e.F===0&&(e.F=window.setTimeout(()=>{e.ga===2?e.D.ja():e.ga===3&&xv(e.S),fu(e)},300)),la(e,1,r);break;case 4:la(e,3,r);break;case 5:la(e,4,r)}}function cu(e,i){i&&(Ul(e),h.i("{8bacfa5}","{f46c4da}"),Yt(e.g,3,27,0),Yt(e.g,4,27,0))}function du(e){Rm(e),e.fa=window.setTimeout(()=>{e.S.send()},350)}function uu(e,i){(e.aa=i)&&e.m!==15&&(e.oa=e.m,e.toggleUserInput(!0)),i?xm(e).forEach(r=>e.documentAddEventListener(r,e.xa)):xm(e).forEach(r=>e.documentRemoveEventListener(r,e.xa))}function Rm(e){e.fa!==0&&(window.clearTimeout(e.fa),e.fa=0)}function Pm(e,i){if(!(e.na&&i.keyCode===20||F(e.u)&&i.keyCode!==20)){var r=16;if(e.O&&e.ja||!i.getModifierState("CapsLock")||(r|=1),e.$a&&(r|=96,i.getModifierState("NumLock")&&(r|=2),i.getModifierState("ScrollLock")&&(r|=4)),r!=e.ca){e.ca=r,(i=(e=e.g).fb(5)).setUint32(0,19,!0),i.setUint8(4,r);try{Mt(e,i),h.d("{57a6a4d}","{56c9613}",r.toString(2))}catch(o){h.e("{57a6a4d}","{cbe483c}",o),e.G.za(o,"LockKeys state synchronize exception","{57a6a4d}.ts",0,0,!0)}}}}function cs(e,i,r,o){e.J.ma=o;let c=Om(e);c.pb-=e.J.Xa,c.vertical-=e.J.Ra;let d=Math.max(c.vertical+Math.max(0,e.J.Wa-e.J.Pc+2*e.J.Ra),0),u=Math.max(c.vertical,0);c.pb=Math.max(c.pb,0),i=Math.min(Math.max(i,-1*c.pb),c.pb),r=Math.min(Math.max(r,-1*d),u),e.j.style.transform=`translate3d(${i}px,${r}px,0px) scale3d(${o},${o},1)`,e.J.offsetX=i,e.J.offsetY=r,Sm(e.h,e.J)}function hu(e,i){var r;return e.P?e.o&&e.kb?(e=(r=i.code)!==null&&r!==void 0&&r.length?ia.get(i.code):ia.get(i.key))!=null?e:0:(i=i.code?ia.get(i.code):ly.get(i.key))!=null?i:0:i.keyCode}function aa(e,i){var r=0;let o;return i.ctrlKey&&!i.code.startsWith("Control")&&(r|=2),i.altKey&&!i.code.startsWith("Alt")&&(r|=4),i.metaKey&&!i.code.startsWith("Meta")&&(r|=8),F(e.u)&&i.key.length===1&&('!@#$%^&*()~_+{}|:"<>?'.includes(i.key)?o=1:"1234567890`-=[]\\;',./".includes(i.key)&&(o=0)),o===void 0&&i.shiftKey&&!i.code.startsWith("Shift")&&(o=1),r|(o??0)}function Ul(e){if(0<e.Ya.size){h.i("{8bacfa5}","{7998ee8}",e.Ya.size);for(const i of e.Ya)Yt(e.g,4,i,0);e.Ya.clear()}}function fu(e){window.clearTimeout(e.F),e.F=0,e.ka=0,e.ga=0}function pu(e){uu(e,!1),e.M.emit("StreamingEvent",{streamingWarnings:{code:4}}),e.Vd(),e.Ba.Df()}function xm(e){return[ls(e.h),"pointerdown","touchstart"]}function Nm(e,i){i=new TextEncoder().encode(i),e.sendTextInput(i.buffer),e.textInputElement.value=""}function mu(e){for(let i=e.length-1;0<=i;i--)if(zp.get(e.charAt(i))===void 0)return!1;return!0}function Dm(e,i){let r=!1;16&e.ca&&(r=!!(1&e.ca));for(let c=0;c<i.length;c++){var o=zp.get(i.charAt(c));if(!o)return void h.e("{8bacfa5}","{67554be}",i.charAt(c));const d=o.vkCode;o=o.shift?1:0,65<=d&&90>=d&&r&&(o=~o),o&&Yt(e.g,3,160,0,performance.now()),Yt(e.g,3,d,o,performance.now()),Yt(e.g,4,d,o,performance.now()),o&&Yt(e.g,4,160,0,performance.now())}e.textInputElement.value=""}function Om(e){return{pb:e.J.eb*(e.J.ma-1)/2,vertical:e.J.Wa*(e.J.ma-1)/2}}function vu(e,i,r,o){jl(e.I);const c=i.getBoundingClientRect();i=(r.clientX-c.left)/e.J.ma,r=(r.clientY-c.top)/e.J.ma,e.lc(!0),Ll(e.h,i,r);const{sb:d,tb:u}=e.h.g;Kd(e.g,d,u,o)}function la(e,i,r){e.Jb(i,r),e.I.delay(()=>{e.Ab(i,r)})}var gy=class{constructor(e,i,r,o,c,d,u,p,m,E,T,x,g,D,C,S,U){var H,B,W,_,z,V,N,$,ne,ge,ve,Me,Xe,ue,Oe,je,xe,ot,st,bt,hn,qn;this.v=D,this.ra=!1,this.Ya=new Set,this.m=0,this.kb=!1,this.P=!0,this.F=0,this.I=new Ay,this.T=!1,this.H=0,this.ja=this.qa=!1,this.fa=this.ga=this.ka=0,this.ua=this.ta="off",this.Z=new Map,this.W=new Map,this.pa=!1,this.Ta=()=>{h.d("{8bacfa5}","{9c2578a}"),du(this)},this.Sa=()=>{this.pa=!0},this.Qa=()=>{this.pa=!1},this.u=T,this.D=e,this.j=i,this.G=c,this.Ba=x,this.S=g,this.J={eb:i.clientWidth||window.screen.width,Wa:i.clientHeight||window.screen.height,Sf:1,Xa:0,Ra:0,videoWidth:0,videoHeight:0,Pc:0,offsetX:0,offsetY:0,ma:1},x=window.zoneless,this.windowAddEventListener=(B=(H=x==null?void 0:x.windowAddEventListener)===null||H===void 0?void 0:H.bind(window))!==null&&B!==void 0?B:window.addEventListener.bind(window),this.windowRemoveEventListener=(_=(W=x==null?void 0:x.windowRemoveEventListener)===null||W===void 0?void 0:W.bind(window))!==null&&_!==void 0?_:window.removeEventListener.bind(window),this.documentAddEventListener=(V=(z=x==null?void 0:x.documentAddEventListener)===null||z===void 0?void 0:z.bind(document))!==null&&V!==void 0?V:document.addEventListener.bind(document),this.documentRemoveEventListener=($=(N=x==null?void 0:x.documentRemoveEventListener)===null||N===void 0?void 0:N.bind(document))!==null&&$!==void 0?$:document.removeEventListener.bind(document),this.videoAddEventListener=(Me=(ge=(ne=x==null?void 0:x.videoAddEventListener)===null||ne===void 0?void 0:ne.bind(i))!==null&&ge!==void 0?ge:(ve=x==null?void 0:x.documentAddEventListener)===null||ve===void 0?void 0:ve.bind(document))!==null&&Me!==void 0?Me:i.addEventListener.bind(i),this.videoRemoveEventListener=(je=(ue=(Xe=x==null?void 0:x.videoRemoveEventListener)===null||Xe===void 0?void 0:Xe.bind(i))!==null&&ue!==void 0?ue:(Oe=x==null?void 0:x.documentRemoveEventListener)===null||Oe===void 0?void 0:Oe.bind(document))!==null&&je!==void 0?je:i.removeEventListener.bind(i),this.Na=this.Ka.bind(this),this.Pa=this.Oa.bind(this),this.va=this.wa.bind(this),this.sa=this.bb.bind(this),this.ea=this.da.bind(this),this.Va=this.Nb.bind(this),this.Ua=this.lb.bind(this),this.xa=this.cb.bind(this),this.ab=this.Cb.bind(this),this.L=this.Bb.bind(this),this.N=m,this.preventNavigation=!!u.preventNavigation,m=new class{constructor(){this.m=!1,this.j=0,this.l=Array(36);for(let Y=0;Y<this.g.length;Y++)this.l[Y]={ib:!1,x:0,y:0,captureTimestamp:0,jb:0,yc:0}}get g(){return this.l}get h(){return this.j}},this.g=new class{constructor(Y,me,fe,Ie,Re,Le,ze,Ne){this.La=this.ud=0,this.buffer=new ArrayBuffer(1150),this.ig=new DataView(this.buffer),this.Kg=new ArrayBuffer(658),this.gb=new DataView(this.Kg),this.Fb=new DataView(new ArrayBuffer(176)),this.Jg=new ArrayBuffer(100),this.Kb=0,this.Ff=this.xg,this.fb=this.ng,this.Oc=[],this.Ba=Y,this.ia=me,this.D=Re,this.J=Ie,this.Ja=Le,this.Ja.onmessage=rt=>{if(rt=new DataView(rt.data),this.La===0){let mt=rt.getUint16(0,!0);mt==526?(this.Fd=this.qg.bind(this),this.La=rt.getUint16(2,!0)):(this.Fd=this.ad.bind(this),this.La=mt),this.La==2?this.ia.m=!0:2<this.La&&(this.ia.m=!0,this.Ff=this.yg,this.fb=this.og),h.i("{57a6a4d}","{68c4654}",this.La)}else this.Fd(rt,0)},this.Aa=Ne,this.G=ze,this.V=fe,this.Fd=this.ad.bind(this),this.gb.setUint8(9,34),this.gb.setUint32(10,24,!0),this.Aa&&(this.Zc=1)}qg(Y,me){var fe=Y.getUint16(me,!0);if(fe===267)this.ad(Y,me+2);else switch(me=255&fe){case 32:case 33:case 34:case 35:case 36:case 255:if((fe=me)===34)switch(fe=Y.getUint32(1,!0)){case 267:this.ad(Y,5);break;case 17:if(6<=(me=Y.getUint8(5))&&9>=me){fe=me-6;var Ie=Y.getUint8(8),Re=Y.getUint8(9);if(Ie!==5||1&~Re)h.w("{57a6a4d}","{d8b7bec}",Ie,Re,me);else{me=Y.getUint8(12)<<8;const Le=Y.getUint8(13)<<8;for(const ze of this.Oc){Ie=me,Re=Le;const Ne=(Y=ze).U.get(fe);Ne!==void 0&&cm(Y,Ne,Ie,Re)}}}else h.w("{57a6a4d}","{6135ec1}",me);break;default:h.w("{57a6a4d}","{25be6a3}",fe)}else h.d("{57a6a4d}","{ba4ff6a}",fe);break;default:h.w("{57a6a4d}","{aea35b8}",fe)}}ad(Y,me){var fe=Y.getUint16(me,!0);if(fe==1)if(6>(fe=Y.getUint16(me+2,!0)))h.e("{57a6a4d}","{1527181}",fe);else{6<fe&&h.w("{57a6a4d}","{78db114}",fe),fe=Y.getUint16(me+4,!0);var Ie=Y.getUint16(me+6,!0);Y=Y.getUint16(me+8,!0);for(const ze of this.Oc){var Re=Ie,Le=Y;const Ne=(me=ze).Zb.get(fe);Ne!==void 0&&cm(me,Ne,Re,Le)}}else h.w("{57a6a4d}","{c7cf6da}",fe)}Jb(Y,me){const fe=this.fb(18);fe.setUint32(0,8,!0),fe.setUint8(4,Y+1),fe.setUint8(5,0),fe.setUint32(6,0),Dt(me,fe,10,!1,1e3);try{Mt(this,fe)}catch(Ie){h.e("{57a6a4d}","{b258856}",Ie),this.G.za(Ie,"send mousedown exception","{57a6a4d}.ts",0,0,!0)}}Ab(Y,me){const fe=this.fb(18);fe.setUint32(0,9,!0),fe.setUint8(4,Y+1),fe.setUint8(5,0),fe.setUint32(6,0),Dt(me,fe,10,!1,1e3);try{Mt(this,fe)}catch(Ie){h.e("{57a6a4d}","{c1ae1fc}",Ie),this.G.za(Ie,"send mouseup exception","{57a6a4d}.ts",0,0,!0)}}Vd(){const Y=this.fb(10);Y.setUint32(0,2,!0);try{this.Ja.send(Y),h.d("{57a6a4d}","{5693344}")}catch(me){h.e("{57a6a4d}","{ab52f04}",me),this.G.za(me,"heartbeat exception","{57a6a4d}.ts",0,0,!0)}}xg(Y){this.Kb!==0&&(window.clearTimeout(this.Kb),this.Kb=0);var me=performance.now();this.ud=me;for(var fe=1,Ie=0;Ie<this.ia.h;){fe+=2;var Re=this.ia.g[Ie].jb;if(0<Re){fe+=19;for(var Le=0;Le<Re;Le++)fe+=1+(this.ia.g[Ie+Le].ib?26:22);Ie+=Re}else fe+=this.ia.g[Ie].ib?26:22,Ie++}(fe+=Y?2+Y.byteLength:0)>this.buffer.byteLength?(fe=new DataView(new ArrayBuffer(fe)),this.V.jd++):fe=new DataView(this.buffer,0,fe),fe.setUint8(0,255);var ze=1;for(Ie=0;Ie<this.ia.h;){if(Re=ze,ze+=2,0<(Le=this.ia.g[Ie]).jb){var Ne=fe,rt=Ie,mt=me,at=this.ia.g[rt],tt=ze;ze+=19;for(let nt=0;nt<at.jb;++nt){const ct=this.ia.g[rt+nt];Ne.setUint8(ze,ct.ib?26:22),ze=Nl(this,Ne,++ze,ct.ib,ct.x,ct.y,ct.captureTimestamp)}rt=tt,tt=ze-tt,at=at.yc,Ne.setUint8(rt,32),Ne.setUint16(rt+1,tt,!1),Dt(mt,Ne,rt+3,!1,1e3),Dt(at,Ne,rt+11,!1,1e3),Ie+=Le.jb}else ze=Nl(this,fe,ze,Le.ib,Le.x,Le.y,Le.captureTimestamp),Ie++;fe.setUint16(Re,ze-Re-2)}if(this.ia.j=0,Y)for(fe.setUint16(ze,Y.byteLength),ze+=2,me=0;me<Y.byteLength;me++)fe.setUint8(ze+me,Y.getUint8(me));return fe}yg(Y){var me;if(Y&&Y.buffer!=this.buffer)return Mt(this),Y;this.Kb!==0&&(window.clearTimeout(this.Kb),this.Kb=0),this.ud=performance.now();for(var fe=0,Ie=-1,Re=0;Re<this.ia.h;Re++)0<this.ia.g[Re].jb?(fe+=9,Ie=this.ia.g[Re].jb):Ie===0&&(fe+=9),fe+=3+(this.ia.g[Re].ib?26:22),Ie--;if(fe+=(me=Y==null?void 0:Y.byteLength)!==null&&me!==void 0?me:0,(me=9+fe)>this.buffer.byteLength){if(me=new DataView(new ArrayBuffer(me),me-fe,fe),this.V.jd++,Y)for(fe=me.byteLength-Y.byteLength,Ie=0;Ie<Y.byteLength;Ie++)me.setUint8(fe+Ie,Y.getUint8(Ie))}else me=new DataView(this.buffer,this.buffer.byteLength-fe,fe);for(Y=0,fe=-1,Ie=0;Ie<this.ia.h;Ie++)0<(Re=this.ia.g[Ie]).jb?(fe=Re.jb,me.setUint8(Y,36),Dt(Re.yc,me,Y+1,!1,1e3),Y+=9):fe===0&&(me.setUint8(Y,36),Dt(0,me,Y+1,!1,1e3),Y+=9),me.setUint8(Y,33),me.setUint16(Y+1,Re.ib?26:22),Y=Nl(this,me,Y+3,Re.ib,Re.x,Re.y,Re.captureTimestamp),fe--;return this.ia.j=0,me}ng(Y){return new Hp(this.Jg,0,Y)}og(Y){Y+=1;const me=this.buffer.byteLength-Y;return Y=new Hp(this.buffer,me,Y,1),this.ig.setUint8(me,34),Y}sendTextInput(Y){let me=0,fe=new DataView(Y,0,Y.byteLength),Ie=new ArrayBuffer(1021);for(;me<Y.byteLength;){let Le;if(1016>=Y.byteLength-me)Le=Y.byteLength-me;else{Le=me+1016;var Re=!1;for(let ze=0;4>ze;ze++){if((192&fe.getUint8(Le))!=128){Re=!0;break}Le--}if(!Re){h.e("{57a6a4d}","{938b0d3}");break}Le-=me}(Re=new DataView(Ie,0,Le+5)).setUint8(0,34),Re.setUint32(1,23,!0),new Uint8Array(Ie).set(new Uint8Array(Y,me,Le),5),me+=Le,Mt(this,Re,!1)}}stop(){0<this.Ja.bufferedAmount&&h.w("{57a6a4d}","{5e5b9e5}",this.Ja.bufferedAmount),this.Aa&&0<this.Aa.bufferedAmount&&h.w("{57a6a4d}","{1785a7c}",this.Aa.bufferedAmount)}get zg(){return this.La}get tg(){return this.ud}Eb(Y){Mt(this,Y=qd(this,0,0,0,[0,0,0,0],0,Y))}$c(Y,me,fe,Ie,Re,Le,ze=0,Ne){2<this.La?(Y=(this.Aa?12:9)+41*Y,this.Fb.setUint8(Y,33),this.Fb.setUint16(Y+1,38),$d(this.Fb,Y+3,fe,Ie,Re,Le,ze,Ne)):this.La==2?(Y=1+40*Y,this.Fb.setUint16(Y,38),$d(this.Fb,Y+2,fe,Ie,Re,Le,ze,Ne)):Mt(this,fe=qd(this,Ie,Re,fe,Le,ze,Ne))}Yb(Y,me,fe,Ie,Re=0){Mt(this,Y=qd(this,Y,me,fe,Ie,0,Re))}Yc(Y){if(!(2>this.La||0>=Y)){Mt(this);var me=null;2<this.La?me=new DataView(this.Fb.buffer,this.Aa?12:9,41*Y):this.La==2&&(this.Fb.setUint8(0,255),me=new DataView(this.Fb.buffer,0,1+40*Y)),me&&(this.Aa?Mt(this,me,!0,"gamepad_channel_v1"):Mt(this,me,!0))}}Uc(){}Fg(Y){const me=this.fb(6);me.setUint32(0,13,!0),me.setUint16(4,Y?1:0,!1),Mt(this,me)}gg(Y){Mt(this,Kp(this,4>Y?Y+6:0,1))}Of(Y){Mt(this,Kp(this,4>Y?Y+6:0,3))}Wc(Y,me,fe,Ie,Re){(Y=this.fb(72)).setUint32(0,17,!0),Y.setUint8(4,4>me?me+6:0),Y.setUint8(5,4),Y.setUint8(6,0),Y.setUint8(7,1),Y.setUint8(8,127.5*(Re[0]+1)),Y.setUint8(9,127.5*(Re[1]+1)),Y.setUint8(10,127.5*(Re[2]+1)),Y.setUint8(11,127.5*(Re[3]+1)),me=0;var Le=!!(2&fe);const ze=!!(8&fe),Ne=!!(1&fe);(Re=!!(4&fe))||Le||ze||Ne?Ne?me=ze?1:Re?7:0:Le?me=ze?3:Re?5:4:ze?me=2:Re&&(me=6):me=8,Re=(Re=(256&fe?1:0)|(512&fe?2:0)|(255&Ie?4:0)|(65280&Ie?8:0))|(32&fe?16:0)|(16&fe?32:0)|(64&fe?64:0)|(128&fe?128:0),Le=(65536&fe?1:0)|(131072&fe?2:0),Y.setUint8(12,me|(16384&fe?16:0)|(4096&fe?32:0)|(8192&fe?64:0)|(32768&fe?128:0)),Y.setUint8(13,Re),Y.setUint8(14,Le),Y.setUint8(15,255&Ie),Y.setUint8(16,(65280&Ie)>>8),Y.setUint16(17,0,!0),Y.setUint8(19,0),Y.setInt16(20,0,!0),Y.setInt16(22,0,!0),Y.setInt16(24,0,!0),Y.setInt16(26,0,!0),Y.setInt16(28,0,!0),Y.setInt16(30,0,!0),Y.setUint32(32,0,!0),Y.setUint8(36,0),Y.setUint8(37,11),Y.setUint8(38,0),Y.setUint8(39,0),Y.setUint8(40,0),Mt(this,Y)}}(this,m,C,this.J,this.D,r,this.G,S),this.R=new dy(this.j,this.u),this.h=new fy(this,e,i,o,c,u,T,this.R,C,m,this.g,this.v),p?Zo||ft()?(this.s=new class{constructor(Y,me,fe,Ie,Re){this.target=Y,this.videoAddEventListener=me,this.videoRemoveEventListener=fe,this.P=Ie,this.j=Re,this.o=this.m=0,this.F={pb:1,vertical:1},this.g=new Map,this.s=new Set,this.l=0,this.h=[],this.v=0,this.N=!0,this.M=Le=>{const ze=performance.now(),Ne=An(Le.timeStamp);let rt=!1;this.j.lc(!1);const mt=Le.changedTouches;let at=[];for(let nt=0;nt<mt.length;nt++){const ct=mt[nt];if(ct.target===this.target){rt=!0,Kn(Wn());var tt=ct;let dt=0;for(;this.s.has(dt);)dt++;let Sn=new ay(tt,dt,this.F);this.g.set(tt.identifier,Sn),this.s.add(dt),tt=Sn,at.push(tt),Xi&&this.h.push(new Wd(ct,tt.g,1,ze,Le.timeStamp))}}xl(this,at,1,Ne),Xi&&Nd&&this.g.size==8&&this.N&&(this.C(),this.O()),Qs(this.j)&&rt&&Le.preventDefault()},this.L=Le=>{const ze=performance.now(),Ne=An(Le.timeStamp);let rt=!1;const mt=Le.changedTouches;let at=[];for(let tt=0;tt<mt.length;tt++){const nt=mt[tt];if(nt.target===this.target){let ct=this.g.get(nt.identifier);ct&&(rt=!0,ct.update(nt),at.push(ct),Xi&&this.h.push(new Wd(nt,ct.g,4,ze,Le.timeStamp)))}}xl(this,at,4,Ne),Qs(this.j)&&rt&&Le.preventDefault()},this.H=Le=>{Vp(this,Le,8)},this.I=Le=>{Vp(this,Le,2)},this.C=this.S.bind(this),this.O=this.R.bind(this)}S(){const Y=this.h.length;if(Y){var me=this.h[Y-1].g-3e4,fe=-1;for(let Ie=0;Ie<Y&&this.h[Ie].g<me;Ie++)fe=Ie;this.h.splice(0,fe+1)}}R(){for(let Y of this.h)h.d("{ec05004}","{3c6a946}",Y.j.toFixed(2),Y.g.toFixed(2),Y.id,Y.h,Y.v,Y.l.toFixed(2),Y.m.toFixed(2),Y.o.toFixed(0),Y.s.toFixed(0));this.h=[]}start(){this.l=0;const Y={passive:!1};this.videoAddEventListener("touchstart",this.M,Y),this.videoAddEventListener("touchmove",this.L,Y),this.videoAddEventListener("touchcancel",this.H,Y),this.videoAddEventListener("touchend",this.I,Y),Xi&&(h.d("{ec05004}","{72764d2}",performance.now()),this.h=[],this.v=window.setInterval(this.C,6e4)),this.j.lc(!1)}stop(){Xi&&(this.v&&clearTimeout(this.v),this.C(),this.O()),this.g.size&&(xl(this,Array.from(this.g.values()),8,performance.now()),this.g.clear(),this.s.clear()),this.l&&h.w("{ec05004}","{10858ae}",this.l);const Y={passive:!1};this.videoRemoveEventListener("touchstart",this.M,Y),this.videoRemoveEventListener("touchmove",this.L,Y),this.videoRemoveEventListener("touchcancel",this.H,Y),this.videoRemoveEventListener("touchend",this.I,Y)}}(this.j,this.videoAddEventListener,this.videoRemoveEventListener,this.g,this),h.i("{8bacfa5}","{60f3637}")):h.w("{8bacfa5}","{32104d3}"):h.i("{8bacfa5}","{6be89bf}"),!Zo&&!ft()||vt(this.u)||(this.C=new class{constructor(Y,me,fe,Ie){this.target=Y,this.videoAddEventListener=me,this.videoRemoveEventListener=fe,this.j=Ie,this.h=[],this.g=this.m=this.l=0,this.C=Re=>{let Le=!1;const ze=Re.changedTouches,Ne=An(Re.timeStamp);for(let rt=0;rt<ze.length;rt++){const mt=ze[rt];mt.target===this.target&&(Le=!0,Kn(Wn()),this.h.length===0?(this.g=1,this.l=window.setTimeout(()=>{this.l=0,this.m===1&&(this.g=2,Nn&&my(this.j,this.target,Ne,Hd(mt)))},500)):this.g!==1&&(this.g===2||this.g===4?Nn&&au(this.j,Ne):this.g===6&&Nn&&lu(this.j),this.g=0),this.h.push(Hd(mt)),this.h.length>this.m&&(this.m=this.h.length))}Qs(this.j)&&Le&&Re.preventDefault()},this.v=Re=>{let Le=!1;for(var ze of this.h)ze.deltaX=0,ze.deltaY=0;ze=Re.changedTouches;const Ne=An(Re.timeStamp);let rt=[];for(let tt=0;tt<ze.length;tt++){const nt=ze[tt],ct=this.h.findIndex(dt=>dt.identifier==nt.identifier);if(ct!=-1){Le=!0;var mt=this.h[ct],at=nt.clientX-mt.clientX;mt=nt.clientY-mt.clientY;let dt=!1;this.l!==0?(10<Math.abs(at)||10<Math.abs(mt))&&(window.clearTimeout(this.l),this.l=0,dt=!0):dt=!0,dt&&(at={identifier:nt.identifier,clientX:nt.clientX,clientY:nt.clientY,deltaX:at,deltaY:mt},rt.push(ct),this.h[ct]=at)}}0<rt.length&&this.l===0&&this.g!==0&&(this.h.length===1?(this.g===1?this.g=3:this.g===2&&(this.g=4),Nn&&function(tt,nt,ct,dt){tt.J.ma!==1||tt.kb||tt.s!==void 0?cs(tt,tt.J.offsetX+dt.deltaX,tt.J.offsetY+dt.deltaY,tt.J.ma):vu(tt,nt,dt,ct)}(this.j,this.target,Ne,this.h[0])):this.h.length===2?this.g===5?Nn&&this.j.scroll(this.target,Ne,this.h):this.g===6?Nn&&Im(this.j,this.h):this.g===1&&(0<this.h[0].deltaY*this.h[1].deltaY&&(Math.sign(this.h[0].deltaX)===Math.sign(this.h[1].deltaX)||10>Math.abs(this.h[0].deltaX)&&10>Math.abs(this.h[1].deltaX))?(this.g=5,Nn&&this.j.scroll(this.target,Ne,this.h)):(this.g=6,Nn&&Im(this.j,this.h))):this.g=0),Qs(this.j)&&Le&&Re.preventDefault()},this.o=Re=>{jp(this,Re,!1)},this.s=Re=>{jp(this,Re,!0)}}start(){const Y={passive:!Nn};this.videoAddEventListener("touchstart",this.C,Y),this.videoAddEventListener("touchmove",this.v,Y),this.videoAddEventListener("touchcancel",this.o,Y),this.videoAddEventListener("touchend",this.s,Y)}stop(){if(this.videoRemoveEventListener("touchstart",this.C),this.videoRemoveEventListener("touchmove",this.v),this.videoRemoveEventListener("touchcancel",this.o),this.videoRemoveEventListener("touchend",this.s),this.h=[],this.l!==0&&(window.clearTimeout(this.l),this.l=0),this.m=0,Nn)switch(this.g){case 6:lu(this.j);break;case 2:case 4:au(this.j,performance.now())}this.g=0}}(this.j,this.videoAddEventListener,this.videoRemoveEventListener,this)),this.M=d,this.ca=0,this.$a=oe(this.u),this.na=He(this.u),this.O=Ce(this.u),this.o=this.u.os==="Android",this.Da=this.u.deviceModel==="VISIONPRO",e=this.u.browser==="Safari",i=!!u.windowedStreaming,h.i("{8bacfa5}","{fa2e72c}",i?"on":"off"),this.$a?(h.d("{8bacfa5}","{da5ae1d}"),this.$=[20,144,145]):this.na||this.u.os==="Linux"?(h.d("{8bacfa5}","{b7becf9}"),this.$=[]):(h.d("{8bacfa5}","{098ce9c}"),this.$=[20]),this.U=this.aa=!1,PerformanceObserver?this.perf=new PerformanceObserver(Y=>function(me,fe){fe.getEntriesByType("longtask").forEach(Ie=>{let Re=Math.round(Ie.duration);var Le,ze=yt;ze.h&&(Ie={duration:{timestamp:Ie.startTime-ze.j,duration:Re}},ze.g&&ze.g.postMessage(Ie)),(Le=me.D.h)===null||Le===void 0||((ze=Le.g).L=Math.max(Re,ze.L)),h.i("{8bacfa5}","{7071359}",Re)})}(this,Y)):this.perf=null,bi(this.v,2,this.va),h.d("{8bacfa5}","{cc9c05b}"),window.ResizeObserver?(this.Za=new ResizeObserver(()=>{this.da()}),this.Za.observe(this.j)):this.windowAddEventListener("resize",this.ea),(F(T)||De(T))&&window.IntersectionObserver&&(this.ya=new IntersectionObserver(()=>{this.da()},{threshold:[1]}),this.ya.observe(this.j)),this.j.addEventListener("resize",this.ea),this.windowAddEventListener("orientationchange",this.Ta),(T=window.visualViewport)&&(this.J.Pc=T.height,T.addEventListener("resize",this.Va)),this.l=E,function(Y,me){Y.o&&(wr(Y,Y.o),Zd(Y,Y.o)),Y.o=me,Y.l.push(Y.o)}(this.l,this.g),this.g.Oc.push(this.l),function(Y,me){Od&&(Y.m&&wr(Y,Y.m),Y.m=me)}(this.l,this.R),this.l.G=this.G,this.wa(this.v.j),bi(this.v,0,this.sa),this.perf&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")&&this.perf.observe({entryTypes:["longtask"]}),Dd&&Wn().initialize(this.j,this.u),(vt(this.u)||this.o||F(this.u))&&(this.textInputElement=U,this.o&&(this.ta=(ot=(xe=this.textInputElement)===null||xe===void 0?void 0:xe.getAttribute("autocapitalize"))!==null&&ot!==void 0?ot:"off",this.ua=(bt=(st=this.textInputElement)===null||st===void 0?void 0:st.getAttribute("autocorrect"))!==null&&bt!==void 0?bt:"off",(hn=this.textInputElement)===null||hn===void 0||hn.setAttribute("autocapitalize","off"),(qn=this.textInputElement)===null||qn===void 0||qn.setAttribute("autocorrect","off"))),(be||Fd&&(e||i))&&(function(Y,me){if(me)for(const Re of me){if(!(me=Re.remote.code)||!(me=ia.get(me)))continue;var fe=Re.remote.modifiers,Ie=[];1&fe&&Ie.push(162),2&fe&&Ie.push(164),4&fe&&Ie.push(91),8&fe&&Ie.push(160),fe=Ie,Ie=Re.local.key;const Le=Re.local.code;Le?(Ie=ia.get(Le))&&Y.W.set(Ie,{Bc:Ie,fc:Re.local.modifiers,rd:Bl(),Wb:me,Xb:fe}):Ie&&Y.Z.set(Ie,{Ld:Ie,fc:Re.local.modifiers,rd:Bl(),Wb:me,Xb:fe})}else for(fe of py)fe.Ld?Y.Z.set(fe.Ld,fe):fe.Bc&&Y.W.set(fe.Bc,fe)}(this,u.streamingHotkeys),function(Y){var me,fe,Ie,Re,Le,ze,Ne;for(const rt of Y.W.values())h.i("{8bacfa5}","{e7c6e9b}",(me=rt.Bc)===null||me===void 0?void 0:me.toString(16),(fe=rt.fc)===null||fe===void 0?void 0:fe.toString(16),(Ie=rt.Wb)===null||Ie===void 0?void 0:Ie.toString(16),(Re=rt.Xb)===null||Re===void 0?void 0:Re.map(mt=>mt.toString(16)));for(const rt of Y.Z.values())h.i("{8bacfa5}","{b5e3a31}",rt.Ld,(Le=rt.fc)===null||Le===void 0?void 0:Le.toString(16),(ze=rt.Wb)===null||ze===void 0?void 0:ze.toString(16),(Ne=rt.Xb)===null||Ne===void 0?void 0:Ne.map(mt=>mt.toString(16)))}(this))}uninitialize(){var e,i,r,o,c,d,u;uu(this,!1);var p=this.j.paused;if(p=p!==void 0?p?"paused":"playing":"unknown",(this.j.paused||1>((e=this.j.currentTime)!==null&&e!==void 0?e:1))&&Kt(this.G,"VideoPaused",p,(i=this.j.currentTime)===null||i===void 0?void 0:i.toFixed(2)),h.i("{8bacfa5}","{fdc8bf7}",p,this.j.currentTime),(r=this.ya)===null||r===void 0||r.disconnect(),(o=this.Za)===null||o===void 0||o.disconnect(),this.g.stop(),this.perf&&this.perf.disconnect(),this.toggleUserInput(!1),this.windowRemoveEventListener("resize",this.ea),this.windowRemoveEventListener("orientationchange",this.Ta),this.j.removeEventListener("resize",this.ea),(c=window.visualViewport)===null||c===void 0||c.removeEventListener("resize",this.Va),(e=this.l).s){for(var m of(i=!0,e.h))m&&(m.Fa.state=Yp(e,m.Fa.state,!0),Ks(e,m.ba.index,!0,i),i=!1);Jp(e),e.j=0,e.s=0,e.g.qb=!1,e.Eb(),e.gamepadPollInterval=100,ra(e),e.h=[],e.Z=!1}-1<(e=(m=this.g).Oc.indexOf(this.l))&&m.Oc.splice(e,1),Ei(this.v,2,this.va),this.R.stop(),wr(this.l,this.R),wr(this.l,this.g),this.T&&(wr(this.l,this.N),this.N.Mc(this.j)),this.h.uninitialize(),Ei(this.v,0,this.sa),Rm(this),(d=this.textInputElement)===null||d===void 0||d.setAttribute("autocapitalize",this.ta),(u=this.textInputElement)===null||u===void 0||u.setAttribute("autocorrect",this.ua),h.d("{8bacfa5}","{b6b2756}")}Yb(){Dl(this.g)&&this.l.Yb()}da(){var e,i=this.j;if(!(0>=i.videoWidth||0>=i.videoHeight)){var r=0,o=0;if(i.clientWidth/i.clientHeight>i.videoWidth/i.videoHeight){var c=i.clientHeight/i.videoHeight,d=i.videoWidth*c,u=i.videoHeight*c;o=(i.clientWidth-d)/2}else c=i.clientWidth/i.videoWidth,d=i.videoWidth*c,u=i.videoHeight*c,r=(i.clientHeight-u)/2;var p=1,m=1;this.J.eb&&this.J.Wa&&(p=d/this.J.eb,m=u/this.J.Wa),this.J.eb=d,this.J.Wa=u,this.J.Sf=c,this.J.Ra=r,this.J.Xa=o,this.J.videoWidth=i.videoWidth,this.J.videoHeight=i.videoHeight,cs(this,this.J.offsetX*p,this.J.offsetY*m,this.J.ma),Sm(this.h,this.J),(e=this.s)===null||e===void 0||(i=this.J,r=this.j.getBoundingClientRect(),c=this.J.ma,e.F={pb:r.left+window.pageXOffset+this.J.Xa*this.J.ma,vertical:r.top+window.pageYOffset+this.J.Ra*this.J.ma},e.m=65535/i.eb,e.o=65535/i.Wa,e.m/=c,e.o/=c),e=this.S,i=this.J.Xa,e.Ra=this.J.Ra,e.Xa=i,du(this)}}Nb(){this.J.Pc=window.visualViewport.height,cs(this,this.J.offsetX,this.J.offsetY,this.J.ma)}lb(){h.d("{8bacfa5}","{b6fbd34}"),history.pushState(null,document.title,location.href)}Ka(e){var i,r;let o=this.pa;this.qa=!1;const c=An(e.timeStamp);if(this.v.h){(function(C,S){var U;if((U=_u(C.D))!==null&&U!==void 0&&U.isVisible())return!1;if(C.na)switch(S.code){case"Tab":return!S.altKey;case"ZoomToggle":case"SelectTask":case"BrightnessDown":case"BrightnessUp":case"AudioVolumeMute":case"AudioVolumeDown":case"AudioVolumeUp":return!1}return!0})(this,e)&&e.preventDefault();var d,u=!(!this.O||!this.ja)&&e.code=="CapsLock";u&&(o=o||u),Pm(this,e),!(d=e.code=="CapsLock"&&(e.key=="Alphanumeric"||e.key=="Katakana"||e.key=="Hiragana"))&&(d=e.code=="KanaMode")&&(d=(d=e.key)=="Hiragana"||d=="Katakana"||d=="Romaji"||d=="KanaMode"),d=!!d;var p=e.code=="Lang1"||e.key=="HangulMode";if(o=o||d||p,!this.$.includes(e.keyCode)||d||u){if((u=u?160:hu(this,e))===0)this.ra=!0,this.M.emit("TextComposition",{compositionText:e.key,imeRecommendation:!0});else if(this.ra&&(this.ra=!1,this.M.emit("TextComposition",{compositionText:""})),!this.Ya.has(u)){this.Ya.add(u),d=!1;var m=_u(this.D);if(p=void 0,u==187){var E;if((E=(d=this.D).R)===null||E===void 0)var T=0;else E.g==1?(h.i("{4c846ba}","{1f67b97}"),E.g=2,T=!0):T=!1;T?(Mn(d,{latencyTrigger:!0}),d=!0):d=!1,d=!d}else if(e.ctrlKey&&e.altKey)if(!Wt&&!Xr||u!=119&&u!=219)if(Wt)switch(u){case 48:var x="UNSUPPORTED";if((T=this.h).T)switch(Ml(T,(T.I+1)%4),T.I){case 1:x="4ms";break;case 2:x="8ms";break;case 3:x="16ms";break;default:x="OFF"}Bi(T.D,"Non-vsync mouse events: "+x),h.i("{70cc40b}","{bac28ff}",x);break;case 49:this.D.Cb();break;case 56:this.D.sendCustomMessage({messageType:"GpuViewStartRequest",messageRecipient:"GPUViewTraceControl",data:"GpuView"}),h.i("{93c7910}","{0915cd3}");break;case 68:var g;(g=(T=this.D).R)===null||g===void 0?x=0:g.g==0?(g.g=1,h.i("{4c846ba}","{008dc86}"),og(g),ag(g),x=!0):x=!1,x&&Mn(T,{pcmDumpTrigger:!0});break;case 71:this.Mc();break;case 76:m==null||cv(m,!m.isVisible()),On(this.h);break;case 83:xv(this.S);break;case 115:(T=this.D).pa?(Ip(),T.pa=!1,Zv(T),Bi(T,"Profiler: OFF, Stats: OFF")):($v(T),eg(T),Bi(T,"Profiler: ON, Stats: ON"));break;case 116:Ys(T=this.D)?(Zv(T),Bi(T,"Stats: OFF")):(eg(T),Bi(T,"Stats: ON"));break;case 117:this.D.toggleOnScreenStats(e.shiftKey);break;case 118:case 192:(T=this.D).perfIndicator=!T.perfIndicator,Mn(T,{perfIndicator:{on:T.perfIndicator}});break;case 120:(T=this.h).o=!T.o,Bi(T.D,"UnadjustedMovement: "+(T.o?"ON":"OFF")),h.i("{70cc40b}","{796c5cb}",T.o?"ON":"OFF");break;case 189:this.P=!this.P,Bi(this.D,"Position dependent keys: "+(this.P?"ON":"OFF")),h.i("{8bacfa5}","{61d2ab5}",this.P?"ON":"OFF");break;case 77:this.D.ja();break;default:d=!0}else d=!0;else this.D.toggleStutterIndicator();else{e:{if((e.ctrlKey||e.shiftKey||e.metaKey||e.altKey)&&((p=this.W.get(u))||(p=this.Z.get(e.key)),p)){(E=p.fc)==128&&(E=this.O?4:1),g=e.ctrlKey;const C=e.altKey,S=e.metaKey,U=e.shiftKey;if((1&E?g:!g)&&(2&E?C:!C)&&(4&E?S:!S)&&(8&E?U:!U))break e}p=void 0}if(p){for(T of(m=aa(this,e),p.rd))m!=(E=m&~gu(T))&&(m=E,Yt(this.g,4,T,m,c)),this.Ya.delete(T);for(x of p.Xb)m|=gu(x),Yt(this.g,3,x,m,c);for(var D of(Yt(this.g,3,p.Wb,m,c),Yt(this.g,4,p.Wb,m,c),p.Xb))m&=~gu(D),Yt(this.g,4,D,m,c);this.Ya.delete(u)}else if(m!=null&&m.isVisible())if(u==13)m.toggle(),On(this.h);else if(u==82)m.reset(),On(this.h);else if(u==65)Ql(m,!m.ac.checked);else if(u==83)if(m.ec.length){for(T=`LDAT_${new Date().toISOString()}.csv`,x=["Sample #,Total,Render,Decode,Begin,Server + Rtd + Receive,Input Callback"],D=0;D<m.ec.length;D++)E=fv(m.ec[D]),x.push([D,E.total,E.Pf,E.decode,E.Xe,E.Tf,E.pf].join());zd([x.join(`
`)],T,"text/plain")&&h.i("{50c79eb}","{690879e}",T)}else h.w("{50c79eb}","{2884507}");else u==67?(h.i("{50c79eb}","{d2811a7}"),m.Sb.value="50",m.Tb.value="50",pv(m,.5,.5)):u==77?m.zb.checked=!m.zb.checked:d=!0;else d=!0}d&&(Kn(Wn()),Yt(this.g,3,u,aa(this,e),c)),e.key!="Hankaku"&&e.key!="Zenkaku"||u!=192||(o=!0),this.O&&e.metaKey&&!p&&(o=!0),this.o&&this.kb&&(e.code=="Backspace"&&(o=!0),e.code==""&&e.key=="Enter"&&(d=new CompositionEvent("compositionend",{data:(i=this.textInputElement)===null||i===void 0?void 0:i.value}),(r=this.textInputElement)===null||r===void 0||r.dispatchEvent(d))),o&&(Yt(this.g,4,u,aa(this,e),c),this.Ya.delete(u))}}}}Oa(e){let i=!1;const r=An(e.timeStamp);if(this.o&&e.code==""&&e.key=="Unidentified"&&!this.qa)Yt(this.g,3,8,0,r),Yt(this.g,4,8,0,r);else{var o=!(!this.O||!this.ja)&&e.code=="CapsLock";o&&(i=i||o),Pm(this,e),this.$.includes(e.keyCode)&&!o||(o=o?160:hu(this,e),i&&(Yt(this.g,3,o,aa(this,e),r),this.Ya.add(o)),this.Ya.has(o)&&(this.Ya.delete(o),Kn(Wn()),Yt(this.g,4,o,aa(this,e),r)))}}wa(e){h.d("{8bacfa5}","{77df54c}",e?"fullscreen":"not fullscreen"),this.da({}),e?(window.isSecureContext&&(e=window.navigator.keyboard)&&e.lock&&e.lock("Escape F11 BrowserBack BrowserForward BrowserRefresh BrowserHome BrowserFavorites BrowserSearch BrowserStop Sleep Power WakeUp KeyT KeyZ Slash Digit1 Digit2 Digit3 Digit4 Digit5 Digit6 Digit7 Digit8 Digit9 KeyM KeyD KeyN KeyS KeyK KeyL Space PrintScreen LaunchApp1 LaunchApp2 LaunchMail Comma Semicolon ArrowLeft ArrowRight BracketLeft BracketRight KeyW KeyQ KeyR KeyY KeyO KeyP KeyF KeyG".split(" ")),this.j.onclick=null,this.j.removeAttribute("controls")):(Ul(this),ou(this.h),window.isSecureContext&&(e=window.navigator.keyboard)&&e.unlock&&e.unlock())}toggleUserInput(e,i){if(h.d("{8bacfa5}","{2424824}",e,i),i=i??15,e){var r,o,c,d,u,p,m=!this.yb(),E=(this.m^i)&i;if(E){if(this.m|=E,4&E&&iu(this.l),1&E){var T=this.h;if(!T.C){if(T.C=!0,!F(T.u)){if(T.cursorType==2&&T.L){var x=T.N;x.Bd="pointerdown",x.Yd="pointerup",T.videoAddEventListener("pointerdown",T.xa),T.videoAddEventListener("pointerup",T.ya)}else(x=T.N).Bd="mousedown",x.Yd="mouseup",T.videoAddEventListener("mousedown",T.fa),T.videoAddEventListener("mouseup",T.pa);T.u.os==="Xbox"||T.videoAddEventListener("contextmenu",pm)}T.documentAddEventListener("wheel",T.qa,T.ra),Tm(T),T.cursorType===0&&(T.j.style.display="block"),On(T),Er(T)}}2&E&&(this.documentAddEventListener("keydown",this.Na),this.documentAddEventListener("keyup",this.Pa),(r=this.textInputElement)===null||r===void 0||r.addEventListener("input",this.ab),(o=this.textInputElement)===null||o===void 0||o.addEventListener("compositionstart",this.L),(c=this.textInputElement)===null||c===void 0||c.addEventListener("compositionupdate",this.L),(d=this.textInputElement)===null||d===void 0||d.addEventListener("compositionend",this.L),this.H=0,this.Da&&((u=this.textInputElement)===null||u===void 0||u.addEventListener("focus",this.Sa),(p=this.textInputElement)===null||p===void 0||p.addEventListener("blur",this.Qa))),8&E&&(this.s&&!this.kb?this.s.start():this.C&&this.C.start()),m&&this.preventNavigation&&!this.U&&(this.U=!0,history.pushState(null,document.title,location.href),this.windowAddEventListener("popstate",this.Ua))}}else{var g,D;(o=this.m&i)&&(this.m^=o,r=!this.yb(),4&o&&((c=this.l).H=!1,ss(c),sa(c),Vs&&(c.o&&Zd(c,c.o),c.windowRemoveEventListener("gamepadconnected",c.oa),c.windowRemoveEventListener("gamepaddisconnected",c.pa),ra(c),c.F&&(c.m.stop(),c.m.reset()))),1&o&&(c=this.h).C&&(ou(c),c.C=!1,F(c.u)||(c.cursorType==2&&c.L?(c.videoRemoveEventListener("pointerdown",c.xa),c.videoRemoveEventListener("pointerup",c.ya)):(c.videoRemoveEventListener("mousedown",c.fa),c.videoRemoveEventListener("mouseup",c.pa)),c.u.os==="Xbox"||c.videoRemoveEventListener("contextmenu",pm)),c.documentRemoveEventListener("wheel",c.qa,c.ra),km(c),c.cursorType===0&&(c.j.style.display="none"),On(c),Er(c),_l(c)),2&o&&(Ul(this),this.documentRemoveEventListener("keydown",this.Na),this.documentRemoveEventListener("keyup",this.Pa),(m=this.textInputElement)===null||m===void 0||m.removeEventListener("input",this.ab),(T=this.textInputElement)===null||T===void 0||T.removeEventListener("compositionstart",this.L),(E=this.textInputElement)===null||E===void 0||E.removeEventListener("compositionupdate",this.L),(x=this.textInputElement)===null||x===void 0||x.removeEventListener("compositionend",this.L),this.Da&&((g=this.textInputElement)===null||g===void 0||g.removeEventListener("focus",this.Sa),(D=this.textInputElement)===null||D===void 0||D.removeEventListener("blur",this.Qa))),8&o&&(this.C&&this.C.stop(),this.s&&this.s.stop(),this.F!==0&&fu(this),(o=this.I).mb=void 0,Mm(o)),r&&this.preventNavigation&&this.U&&(this.windowRemoveEventListener("popstate",this.Ua),history.back(),this.U=!1))}}yb(){return this.m!==0}bb(e){e?(du(this),h.d("{8bacfa5}","{cb19d31}")):(h.d("{8bacfa5}","{8744dbe}"),Ul(this),ou(this.h))}Vd(){this.oa!==void 0&&(this.toggleUserInput(!1,15&~this.oa),this.oa=void 0),this.g.Vd()}cb(){this.aa&&pu(this)}getVirtualGamepadHandler(){return this.l.getVirtualGamepadHandler()}sendTextInput(e){this.g.sendTextInput(e)}Bb(e){switch(e.type){case"compositionstart":this.H=1;break;case"compositionupdate":!F(this.u)&&mu(e.data)||this.M.emit("TextComposition",{compositionText:e.data,imeRecommendation:!0});break;case"compositionend":const i=this.o?e.data.trim():e.data;i.length&&(e=F(this.u)||!mu(e.data),this.o&&!e?Dm(this,i):Nm(this,i),e&&this.M.emit("TextComposition",{compositionText:""})),this.H=0}}Cb(){this.qa=!0;let e=this.textInputElement.value;this.H==1&&(this.o&&1<e.length&&(e=e.charAt(e.length-1)),this.H=2),this.o&&mu(e)?(Dm(this,e),this.H=0):this.H!=2&&Nm(this,e)}setVirtualKeyboardState(e){h.i("{8bacfa5}","{60b2d45}",e),this.kb!==e&&(this.kb=e,this.C&&this.s&&(this.kb?(this.s.stop(),this.C.start()):(this.C.stop(),this.J.ma!==1&&cs(this,0,0,1),this.s.start())))}setKeyboardLayout(e){this.ja=e=="zh-TW"}scroll(e,i,r){0<r.length&&Wp(this.g,Math.sign(r[0].deltaY),i)}sendKeyEvent(e){Dl(this.g)&&(hu(this,e)?e.type==="keydown"?this.Ka(e):e.type==="keyup"&&this.Oa(e):e.type==="keydown"&&e.key.length===1&&(e=new TextEncoder().encode(e.key),this.sendTextInput(e.buffer)))}Jb(e,i){this.h.Jb(e,i)}Ab(e,i){this.h.Ab(e,i)}lc(e){this.h.lc(e)}Mc(){Wt&&(this.T=!this.T,this.N.Mc(this.j),this.T?this.l.l.push(this.N):wr(this.l,this.N))}};function jl(e){e.h=!0,Mm(e),Lm(e),e.h=!1}function Mm(e){e.g!==0&&(window.clearTimeout(e.g),e.g=0)}function Lm(e){const i=e.mb;i&&(e.mb=void 0,i())}class Ay{constructor(){this.g=0,this.h=!1}delay(i){this.h?i():(jl(this),this.mb=i,this.g=window.setTimeout(()=>{this.g=0,Lm(this)},Sy))}}var Sy=30;function Bl(){let e=[];return e.push(162),e.push(163),e.push(164),e.push(165),e.push(91),e.push(92),e.push(160),e.push(161),e}function gu(e){switch(e){case 162:case 163:return 2;case 164:case 165:return 4;case 91:case 92:return 8;case 160:case 161:return 1}return 0}function _m(e){return e.qualityScore=3*e.qualityScore/4+Math.min(e.latencyScore,e.networkLossScore,e.bandwidthScore)/4,{latencyScore:e.latencyScore,networkLossScore:e.networkLossScore,bandwidthScore:e.bandwidthScore,qualityScore:e.qualityScore}}var Fm=class{constructor(e,i){this.maxBitrate=e/1e3,this.g=i/1e3,this.networkLossScore=this.bandwidthScore=this.latencyScore=this.qualityScore=100}};function Au(){return _i===!1?Promise.resolve(0):window.navigator.permissions?window.navigator.permissions.query({name:"microphone"}).then(e=>{let i=2;return(e=e.state)=="granted"?i=5:e=="prompt"&&(i=1),i}).catch(()=>0):Promise.resolve(0)}function nn(e,i,r=!0){e.h=i,e.h===3&&(e.N=!0),e.L&&r&&e.L.emit("MicCapture",{state:e.h})}function Su(e){if(e.initialized)if(ca){e.l=!1,e.paused=!0;var i=e.h;if(navigator.mediaDevices.ondevicechange=()=>{},e.C){h.d("{223689a}","{6faf5bb}");let o=Bm();var r=e.C.getSenders()[0];r?r.replaceTrack(o.getTracks()[0]).then(()=>{h.d("{223689a}","{797fa55}"),nn(e,5,!1),i===3&&(e.F=!0)}).catch(c=>{h.e("{223689a}","{79f26cc}",c),nn(e,7,!1)}).finally(()=>{let c=e.g;e.g=null,c&&c.getTracks().forEach(d=>{d.stop()}),nn(e,e.h),F(e.u)&&!Ke(e.u,!1,15,4)&&e.j()}):(h.e("{223689a}","{f7f0250}"),e.g=null)}else h.e("{223689a}","{9e75fa2}"),nn(e,0)}else nn(e,6)}function Gl(e,i){var r;e.o=!0,e.s.set(i,((r=e.s.get(i))!==null&&r!==void 0?r:0)+1),h.d("{223689a}","{30f8637}",i)}async function Um(e,i){return e.v=!0,navigator.mediaDevices.getUserMedia({audio:i}).then(r=>{if(h.d("{223689a}","{b204737}"),nn(e,5,!1),e.v=!1,e.g=r,F(e.u)&&(r.getTracks()[0].onended=()=>{e.O=performance.now(),h.i("{223689a}","{6b60d82}"),Su(e)}),e.g.oninactive=()=>{h.d("{223689a}","{eee54f1}"),e.M.clear(),e.g=null},e.paused)h.d("{223689a}","{21e76e1}"),e.g=null,nn(e,7);else{var o=e.C.getSenders()[0];o?o.replaceTrack(r.getTracks()[0]).then(()=>{var c;h.i("{223689a}","{6c92139}");const d=(c=e.Ea)!==null&&c!==void 0?c:e.K;if(F(e.u)&&!Ke(e.u,!1,15,4)&&d&&!d.muted){let u;d.srcObject&&(u=d.play(),h.i("{223689a}","{23a6493}",d.tagName)),u?u.then(()=>{h.d("{223689a}","{5593cbe}"),e.j()}).catch(p=>{e.j();try{Kt(e.G,"WAR: Play Error",p==null?void 0:p.name,p==null?void 0:p.message),h.e("{223689a}","{69aae72}",p==null?void 0:p.name,p==null?void 0:p.message)}catch{}}):h.e("{223689a}","{b6a6508}")}nn(e,3),e.F=!1,Ke(e.u,!1,15,4)&&(e.o=!1,e.I=!1)}).catch(c=>{h.e("{223689a}","{5c42246}",c),e.g=null,nn(e,7)}):(h.e("{223689a}","{f7f0250}"),e.g=null)}}).catch(r=>{var o,c;F(e.u)&&!Ke(e.u,!1,15,4)&&e.j(),e.v=!1,r instanceof DOMException&&r.name==="NotAllowedError"?(h.e("{223689a}","{3f9bd66}"),nn(e,2),e.I&&!e.o&&Gl(e,"permissionDenied")):r instanceof DOMException&&r.name==="NotFoundError"?(h.e("{223689a}","{7f04869}"),nn(e,4)):(r instanceof DOMException&&r.name==="NotReadableError"?(e.M.add((o=i.deviceId)!==null&&o!==void 0?o:"default"),h.e("{223689a}","{af7e08c}",(c=i.deviceId)!==null&&c!==void 0?c:"default",r.name,r.message),navigator.mediaDevices.enumerateDevices().then(d=>{for(const u of d)if(u.kind==="audioinput"&&u.deviceId!=="default"&&!e.M.has(u.deviceId)){h.d("{223689a}","{655d8b0}",u.deviceId,u.label),i.deviceId=u.deviceId,Um(e,i);break}}).catch(d=>{h.e("{223689a}","{930e826}",d.name,d.message)})):h.e("{223689a}","{c361fc5}",r.name,r.message),nn(e,7))})}async function Vl(e){if(e.initialized)if(ca){if(e.l=!0,e.g==null&&!e.v){e.paused=!1,nn(e,1,!1);var i={sampleRate:48e3};He(e.u)&&(i.googAutoGainControl2=!1),navigator.mediaDevices.ondevicechange=()=>{h.i("{223689a}","{50d0169}",!!e.g,e.v),e.g!=null||e.v||(h.d("{223689a}","{c849290}"),Vl(e))},await Um(e,i),e.H||jm(e)}}else h.e("{223689a}","{999b07b}"),nn(e,6)}function jm(e){return navigator.mediaDevices.enumerateDevices().then(i=>{let r=0;h.d("{223689a}","{fa1ec18}",JSON.stringify(i));for(const o of i)o.kind=="audioinput"&&r++;switch(r){case 0:e.H="No Audio Input",e.m.Qd++;break;case 1:e.H="Built-in Microphone",e.m.wd++;break;default:e.H="Headset Microphone",e.m.Gd++}h.d("{223689a}","{0d14ab6}",e.H)}).catch(()=>{h.e("{223689a}","{21131d5}")})}function Bm(){let e=_p(48e3);if(e){let i=e.createMediaStreamDestination().stream.getAudioTracks()[0];return e.close(),i.enabled=!0,new MediaStream([i])}throw Error("Mic stream is not supported")}function zl(e){if(_i!==!1){if(e.g!=null){let i=e.g;e.M.clear(),e.g=null,navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=()=>{}),i.getTracks().forEach(r=>{r.stop()})}e.l=!1,nn(e,5),wt(e.G,"AudioInputType",e.N?"started":"not started",0,e.m.Qd,e.m.wd,e.m.Gd),Ke(e.u,!1,15,4)&&wt(e.G,"LowAudioVolume","",0,e.s.get("permissionDenied"),e.s.get("visibilityChange"),e.s.get("deviceChange")),e.C=null,e.L=null,e.K=void 0,e.Ea=void 0,e.initialized=!1,e.m={Qd:0,wd:0,Gd:0};for(const[i]of e.s)e.s.set(i,0);e.o=!1,e.F=!1,e.I=!1,e.N=!1}}function yu(e){return e.H==="Built-in Microphone"}function Gm(e,i){jm(e).then(()=>{i!==0&&Ke(e.u,!1,15,4)&&!e.o&&yu(e)&&(e.l||e.F)&&Gl(e,"deviceChange")})}var Vm=class{constructor(e,i){this.L=null,this.h=0,this.l=!1,this.M=new Set,this.initialized=this.P=!1,this.O=0,this.F=this.I=this.o=!1,this.m={Qd:0,wd:0,Gd:0},this.s=new Map([["permissionDenied",0],["visibilityChange",0],["deviceChange",0]]),this.N=!1,this.u=e,this.G=i,this.g=this.C=null,this.paused=this.v=!1,Ke(e,!1,15)&&(this.P=!0)}initialize(e,i,r,o){if(_i!==!1){if(this.C=e,this.L=i,this.K=r,this.Ea=o,ca){if((e=Bm())==null)return void h.w("{223689a}","{360f38b}");this.C.addTrack(e.getAudioTracks()[0],e),this.l&&Vl(this)}else h.w("{223689a}","{5813c2b}");this.initialized=!0}}j(){var e,i,r;if(Fi&&this.P){var o=(i=(e=this.Ea)===null||e===void 0?void 0:e.srcObject)!==null&&i!==void 0?i:(r=this.K)===null||r===void 0?void 0:r.srcObject;if(o){h.i("{223689a}","{ad4b8c2}");var c=o.getAudioTracks()[0];c.enabled=!1,setTimeout(()=>{c.enabled=!0},0)}}}getMicState(){return this.h}},ca=navigator.mediaDevices!=null&&(window.AudioContext||window.webkitAudioContext||!1),Hl={clientName:"Ragnarok",clientId:"62677554106929725",eventSchemaVer:"3.2"},zm=class extends cn{constructor(e){super(e),this.name="Streamer_Start",this.gdprLevel="functional"}},Hm=class extends cn{constructor(e){super(e),this.name="Streamer_Exit",this.gdprLevel="functional"}},yy=class extends cn{constructor(e){super(e),this.name="Streamer_InputDevice",this.gdprLevel="functional"}};function Wl(e,i){const r=e.j.get(i);if(r){e.h=r;for(const o of e.g)o(e.getCurrentNetworkType())}else h.d("{aac1655}","{1e3c13d}",i)}var Ui=new class{constructor(){var e;this.j=new Map([["Ethernet","ETHERNET"],["5GHz_WiFi","WIFI_5_0"],["2.4GHz_WiFi","WIFI_2_4"],["Others","OTHER"],["disconnected","UNKNOWN"],["wifi","WIFI"],["ethernet","ETHERNET"],["none","UNKNOWN"],["bluetooth","BLUETOOTH"],["wimax","WIMAX"],["other","OTHER"],["mobile","MOBILE"],["unknown","UNKNOWN"],["NONE","UNKNOWN"],["UNKNOWN","UNKNOWN"],["ETHERNET","ETHERNET"],["WIFI","WIFI"],["NET_PROXY","OTHER"],["2G","MOBILE_2G"],["2.5G","MOBILE_2G"],["3G","MOBILE_3G"],["4G","MOBILE_4G"]]),this.h="UNKNOWN",this.g=[],window.addEventListener("GFNNetworkInfo",r=>{h.d("{aac1655}","{2925c9d}",r.detail.state),Wl(this,r.detail.state)});const i=navigator.connection;if(i!=null&&i.type&&(Wl(this,i.type),i.addEventListener("change",()=>{var r;const o=(r=navigator.connection)===null||r===void 0?void 0:r.type;o&&(h.d("{aac1655}","{4a9e05b}",o),Wl(this,o))})),(e=window.tizen)!==null&&e!==void 0&&e.systeminfo){e=r=>{(r=r.networkType)&&(h.d("{aac1655}","{e9b5f27}",r),Wl(this,r))};try{window.tizen.systeminfo.getPropertyValue("NETWORK",e),window.tizen.systeminfo.addPropertyValueChangeListener("NETWORK",e)}catch(r){h.w("{aac1655}","{7d035ae}",r)}}}registerCallback(e){this.g.push(e)}unregisterCallback(e){const i=this.g.findIndex(r=>r==e);i!==-1&&this.g.splice(i,1)}getCurrentNetworkType(){return this.h}};function Kt(e,i,r,o,c,d){i=new Ms({key1:i??"",key2:r??"",key3:o??"",key4:c??"",key5:d??"",moduleName:"RAGNAROK",networkType:jt(Ui.getCurrentNetworkType()),overrideConfigType:xn.type,overrideConfigVersion:xn.version,cmsId:String(e.cmsId),sessionId:e.sessionId,subSessionId:e.subSessionId}),e.h(i)}function Wm(e,i,r,o,c,d,u,p,m){50<=e.H||(e.H++,i=new yy({deviceName:i,deviceType:"GAMEPAD",vendorId:r,productId:o,deviceIndex:c,reportIndex:u?0:c,hapticsSupported:Vd(d),hapticsFeedbackCount:0,state:p,eventMapReceived:m,eventMapProcessed:m,sessionId:e.sessionId,subSessionId:e.subSessionId,cmsId:String(e.cmsId)}),e.h(i))}function wt(e,i,r,o,c,d,u){i=new _s({metricName:i,moduleName:"RAGNAROK",valueInt1:c,valueInt2:d,valueInt3:u,valueString:r,valueDouble:o,networkType:jt(Ui.getCurrentNetworkType()),cmsId:String(e.cmsId),sessionId:e.sessionId,subSessionId:e.subSessionId}),e.h(i)}class Km extends Te{constructor(){super(Hl),this.cmsId=this.subSessionId=this.sessionId="",this.isResume=!1,this.zoneAddress="",this.H=0,this.v=new Map,this.C=0}za(i,r,o,c,d,u,p){var m;if(50<=this.C)var E=!1;else{var T=(E=this.v.get(r))!==null&&E!==void 0?E:0;10<=T?E=!1:(this.C++,this.v.set(r,T+1),E=!0)}E&&(i instanceof DOMException&&(i={name:i.name,message:i.message}),i=new Ls({filename:o,lineno:c,stacktrace:(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:"",colno:d,handled:Vd(u),category:p??"",message:r,moduleName:"RAGNAROK",sessionId:this.sessionId,subSessionId:this.subSessionId}),this.h(i))}}var $t=new Km;function wu(e,i){e.I.hasListener("TelemetryEvent")?e.I.emit("TelemetryEvent",i):Ku(e.j,i)}function $m(e,i){let r=!1;var o;e.clientShutDownCallback&&(r=e.clientShutDownCallback(i),h.d("{9838627}","{caf81d9}",r)),r||(h.d("{9838627}","{e939db1}"),e=e.j,h.d("{f7c1592}","{01dcfe5}",(o=i.parameters)===null||o===void 0?void 0:o.sessionId),vg(e,i),gg(qu(e,e.h.eventPayload)))}var wy=class extends Km{constructor(e,i){super(),this.I=e,this.j=i,this.j.H=this.za.bind(this)}h(e){wu(this,{name:e.name,gdprLevel:e.gdprLevel,parameters:e.parameters,ts:e.ts,clientConfig:Hl})}};function qm(e,i){switch(e){case 0:var r,o=window.RTCPeerConnection;if(o)if(F(i))i=Ke(i,!1,14,3);else{switch(e=!1,vt(i)&&(e=!0),window.chrome&&(i.browser=="Chrome"?ln(i,77)&&(e=!0):e=!0),i.browser){case"Edge_Legacy":e=!1;break;case"Safari":const c=o==null?void 0:o.prototype;if(o=c&&((r=c.hasOwnProperty)===null||r===void 0?0:r.call(c,"canTrickleIceCandidates")))e:if(i.browser!="Safari")o=!1;else{try{o=mi(i.browserVer,!1,16,4);break e}catch{h.w("{d988e7f}","{07fd1dd}")}o=!0}o&&(e=!0)}i=e}else i=!1;return i;case 1:return ca;default:return!1}}function Qm(e){return!(Ae(e)||De(e)||F(e))}function Kl(e,i,r){var o,c,d,u;const p=4953600<=e*i;var m=r===30?1.25*r:Math.min(r,60);let E=e*i*m;return Gd(e,i)||p?(e=(c=(o=Yo)!==null&&o!==void 0?o:et.bitsPerPixel1440p)!==null&&c!==void 0?c:.325,m=(o=2073600*m)+(3686400*m-o)/3,E=p?m+(E-m)/12:o+(E-o)/3):e=(u=(d=Jo)!==null&&d!==void 0?d:et.bitsPerPixel)!==null&&u!==void 0?u:.3,E=E*e/1200,120<=r&&!p&&(E=Math.min(5e4,Math.round(1.15*E))),[Math.round(E),5e4]}function Jm(e,i){return i*=1e3,i=3600*(e===120?.916*i+293098:.678*i+910569)/1e9/8,e===30&&(i*=.625),Math.round(.95*i)}async function Ym(e){let i=0;return e.os==="iOS"&&(i|=1),e.os==="iPadOS"&&(i|=2),De(e)&&function(){var r,o;if(navigator.userAgent.includes("SamsungBrowser"))return!1;const c=(r=window.webapis)===null||r===void 0?void 0:r.productinfo;return!(c==null||!c.isUdPanelSupported())&&(r=(o=c.getSmartTVServerVersion)===null||o===void 0?void 0:o.call(c),(o=r&&(o=r.match(/T-INFOLINK(\d+)-(\d+)/))?{year:parseInt(o[1],10),version:parseInt(o[2],10)}:void 0)?(r=o.year,o=o.version,h.i("{d988e7f}","{fc40a4b}",r,o),r===2021||2023<=r||r===2022&&1008<=o):(h.e("{d988e7f}","{e227976}",r),!1))}()&&(i|=4),Ae(e)&&navigator.userAgent.includes("PWA")&&window.lge_webrtc_hevc_support&&(i|=8),e.deviceModel==="VISIONPRO"&&(i|=16),async function(r){var o,c,d,u,p,m,E,T=screen.width,x=screen.height,g=window.devicePixelRatio,D=!!(4&r)||!!(8&r)||!!(16&r),C=(p=(u=de)!==null&&u!==void 0?u:et.forceHdrSupport)!==null&&p!==void 0&&p;return u=(E=(m=re)!==null&&m!==void 0?m:et.forceSdr10Support)!==null&&E!==void 0&&E,[T,x]=Tl([T,x]),x={width:Math.round(T*g),height:Math.round(x*g),fps:60,scaleFactor:Math.round(100*g)},g=void 0,D?g={width:3840,height:2160,fps:x.fps}:2&r&&1366<=T&&(g={width:1600,height:1200,fps:x.fps}),r=[{width:2560,height:1600,fps:120},{width:3840,height:1080,fps:120}],D&&r.push({width:3840,height:2160,fps:60}),D=!1,C&&(D=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(dynamic-range: high)").matches,o=(c=window.matchMedia)===null||c===void 0?void 0:c.call(window,"(video-dynamic-range: high)").matches,c=(d=window.matchMedia)===null||d===void 0?void 0:d.call(window,"(color-gamut: p3)").matches,h.i("{5083445}","{f9f1c3b}",D,o,c),D=(D||o)&&c),d=Rp(),Xm={displayMode:x,maxAutoMode:g,maxSupportedModes:r,features:{vsync:0,vvsync:!1,hdr:D,reflex:!1,audioChannelCount:d,bitDepth:C?10:8,sdrBitDepth:u?10:8}}}(i)}let Xm;function Cr(e){let i=0;return e!=null&&e.supported&&(i|=1),e!=null&&e.smooth&&(i|=2),e!=null&&e.powerEfficient&&(i|=4),i}function tr(e,i=1920,r=1080,o=60){const c=navigator.mediaCapabilities;return c?c.decodingInfo({type:"webrtc",video:{contentType:"video/"+e,width:i,height:r,framerate:o,bitrate:1e3*Kl(i,r,o)[0]}}).catch(d=>{h.w("{5083445}","{f5c2155}",e,d)}):Promise.resolve(void 0)}function bu(){var e=Js;return e.l?Promise.resolve(e.l):e.g?e.g:e.m()}function da(e,i){return i&&(e.refreshRate=void 0),e.refreshRate?Promise.resolve(e.refreshRate):e.j?e.j:function(r){return r.j=new Promise((o,c)=>{let d=!1;const u=window.setTimeout(()=>{d=!0},4e3),p=[];let m,E=window.innerWidth,T=window.innerHeight,x=window.screenX,g=window.screenY;const D=()=>{window.requestAnimationFrame(()=>{if(d)h.w("{5083445}","{0b0c6f9}","Timed out during the refreshRate loop"),window.clearTimeout(u),c();else{if(window.innerWidth!=E||window.innerHeight!=T||x!=window.screenX||g!=window.screenY){E=window.innerWidth,T=window.innerHeight,x=window.screenX,g=window.screenY;var C=!0}else C=!1;C?(h.w("{5083445}","{824b461}"),p.length=0,D()):(C=performance.now(),p.length&&p[0]<=C-2e3?(m=Math.floor(p.length/2),h.d("{5083445}","{8c3d290}",m,p[p.length-1]-p[0]),C=m,window.clearTimeout(u),o(C)):(p.push(C),D()))}})};D()}).then(o=>(r.refreshRate=o,r.refreshRate),()=>{var o;return(o=r.refreshRate)!==null&&o!==void 0?o:0}),r.j}(e)}async function Zm(){return 117<=await da(Js,!1)}var Js=new class{constructor(){Pl.push(this.s.bind(this)),Pl.push(this.m.bind(this)),Pl.push(this.o.bind(this))}m(){return this.g=tr("av1").then(e=>this.l=e)}o(){return this.h=Promise.resolve(void 0)}async s(){return 117<=await da(this,!0)}};async function ev(e,i){var r;let o=[];const c=(r=ie)!==null&&r!==void 0?r:et.codecList;if(c)for(const d of c)o.push(d);else e=async function(d,u){var p,m,E;const T=(m=(p=te)!==null&&p!==void 0?p:et.enableAv1Support)!==null&&m!==void 0?m:(He(u)||oe(u))&&u.browser=="Chrome";return p=(E=et.enableAv1ByResolutionAndFps)!==null&&E!==void 0?E:7,!(!T||4953600<=d.width*d.height&&!(4&p)||Gd(d.width,d.height)&&!(2&p)||!(d.fps!==120||1&p))&&(Ae(u)&&window.lge_webrtc_av1_support!=null?window.lge_webrtc_av1_support:!((d=await bu())==null||!d.powerEfficient))}(e,i),i=async function(d){return Ae(d)&&window.lge_webrtc_hevc_support!=null?window.lge_webrtc_hevc_support:!(!De(d)&&(d=Js,(d=await(d.v?Promise.resolve(d.v):d.h?d.h:d.o()))==null||!d.powerEfficient))}(i),await e&&o.push("AV1"),await i&&o.push("H265"),o.push("H264");return o}function Eu(e,i,r,o){const c=/^([^[.]+)(?:\[(\d+)\])?\.([^:]+): *(.+)$/;let d=!0;for(const m of e.split(/\r?\n/)){var u=c.exec(m);if(u){var p=u[1];e=u[2]!==void 0?Number.parseInt(u[2]):void 0;const E=u[4];u=p+"."+u[3];const T=tv(i,p=by(p),e),x=tv(r,p,e);T&&x?x.has(u)?(h.d("{eb7c2d0}","{2beb68f}",o,u,E),T.set(u,E)):(h.w("{eb7c2d0}","{cc4fdef}",o,u,E),d=!1):(h.w("{eb7c2d0}","{a649ad8}",o,p,e),d=!1)}}return d}function by(e){switch(e){case"video":case"vqos":case"qscore":case"bwe":case"clientPerfBr":case"packetPacing":return"video";case"audio":case"aqos":case"audioBitrate":return"audio";case"ri":return"application";case"mic":return"mic"}}function $l(e,i,r){e.set(r?"vqos.dfc.adjustResAndFps":"vqos.drc.enable",i?"1":"0")}function tv(e,i,r){var o;return i===void 0?e.ob:(o=e.media.filter(c=>c.mediaType===i)[r??0])===null||o===void 0?void 0:o.attributes}function Ey(e,i){let r=`v=0
o=${e.origin}
s=-
t=${e.time}
`;const o=(c,d)=>{for(const[u,p]of c){c=u;const m=p;m!==d.get(c)&&(r+=`a=${c}:${m}
`)}};o(e.ob,i.ob);for(const c of e.media)r+=`m=${c.mediaType} 0 RTP/AVP
`,r+=`a=msid:${c.Fc}
`,e=i.media.find(d=>d.Fc===c.Fc),o(c.attributes,e.attributes);return r}function Cy(e){switch(e){case 0:return 0;case 1:return 1;case 2:return h.w("{eb7c2d0}","{30c875c}"),0;default:return h.w("{eb7c2d0}","{7cd5754}",e),0}}function ql(e){const i=e.j-e.g;return i!=0?(e.l-e.h)/i:0}class Ty{constructor(){this.j=this.g=this.l=this.h=0}update(i,r){this.h==0&&this.g==0?(this.h=i,this.g=r):(this.j=r,this.l=i)}reset(){this.h=this.l,this.g=this.j}}function nv(e,i){e.M.innerText=iv(e,i),e.j={value:0,count:0,max:0},e.l={value:0,count:0,max:0},e.m.reset()}function iv(e,i){var r=`Seat: ${e.h.zoneName} (${e.h.Ud}) / ${e.h.gpuType}
`,o=`Game: CMS ${e.h.appId}`;e.avgGameFps!==void 0&&(o+=` / fps ${e.avgGameFps.toFixed()}`),r=r+(o+`
`)+`Stream: Current ${Hs(e.streamingResolution)}@${e.fps} / Default: ${e.h.streamInfo.width}x${e.h.streamInfo.height}@${e.h.streamInfo.fps} / Codec ${e.codec}${e.hdr?" HDR":""} ${e.bitDepth} bpc
Network: RTD ${e.rtd}ms / FL ${e.s} / PL ${e.N} / J ${e.H.toFixed(2)}ms / Bitrate ${e.o.toFixed(2)}Mbps / BWU ${e.Ob.toFixed(2)}%
QOS: frame ${e.C} / FT ${e.P.toFixed(2)} / D ${(1e3*ql(e.m)).toFixed(2)} / Q ${Math.floor(e.v.qualityScore)} / Marker ${e.S}
Client: ${e.u.os} ${e.h.clientAppVersion} ${e.h.clientLocale} Resolution ${Hs({width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio})}
Input ${e.g.qf}
`,o=`DC ${sv(e.j)}ms (${e.j.max.toFixed(2)}ms) / Blocked ${e.L}
`;const c=`Stats ${sv(e.l)}ms (${e.l.max.toFixed(2)}ms) / FR ${e.O} / FDR ${e.I}
`,d=`Latency ${e.v.latencyScore.toFixed(1)} / Network ${e.v.networkLossScore.toFixed(1)} / Bandwidth ${e.v.bandwidthScore.toFixed(1)}
`,u=`VP ${e.g.tf?"y":"n"} / AP ${e.g.rf?"y":"n"} / UI ${e.g.yb?"y":"n"} / VKB ${e.g.kb?"y":"n"} / MS ${e.g.yf} / RSDMM ${+e.g.cd}
`;return e=`KBL ${e.g.keyboardLayout} / ALM ${+e.g.appLaunchMode} / SWD ${e.U?"y":"n"} / ${e.cc}`,i&&(r+=o+c+d+u+e),r}var rv=class{constructor(e,i,r){this.o=this.fps=0,this.Ob=4,this.N=this.rtd=this.H=this.I=this.O=this.C=this.R=this.F=0,this.streamingResolution={width:0,height:0},this.L=this.P=0,this.j={count:0,max:0,value:0},this.l={count:0,max:0,value:0},this.m=new Ty,this.T=this.s=this.zd=0,this.codec="UNKNOWN",this.hdr=!1,this.bitDepth=8,this.U=!1,this.cc="",this.S=0,this.K=e,this.u=i,this.h=r,this.v={qualityScore:0,bandwidthScore:0,networkLossScore:0,latencyScore:0},(e=document.getElementById("overlay-543d9968"))||((e=document.createElement("div")).id="overlay-543d9968",e.style.display="none",e.style.position="fixed",F(this.u)?(e.style.top="env(safe-area-inset-top, 0)",e.style.left="max(24px, env(safe-area-inset-left, 0))"):(e.style.top="0",e.style.left="0"),e.style.padding="0.5em",e.style.backgroundColor="rgba(0,0,0,0.5)",e.style.zIndex="300",e.style.fontSize="12px",e.style.fontFamily="monospace",e.style.color="white",e.style.whiteSpace="pre",e.style.lineHeight="100%",e.style.pointerEvents="none",this.K.insertAdjacentElement("afterend",e)),this.M=e,this.g={tf:!1,rf:!1,yb:!1,kb:!1,yf:0,cd:!1,keyboardLayout:"",appLaunchMode:0,qf:""}}};function sv(e){let i=0;return 0<e.count&&(i=e.value/e.count),i.toFixed(2)}var ky={size:70},Iy={size:80},Ry={size:48},Py={size:88},xy={size:20};function ov(e){0<e.g.length&&(rs(e.g,5),e.g=[])}function av(e,i){const r=e.K.videoWidth;return e=e.K.videoHeight,new DOMRect(i.x*r,i.y*e,i.width*r,i.height*e)}function lv(e){const i={isPrimary:!0,pointerId:1,button:0};e.K.dispatchEvent(new PointerEvent("pointerdown",i)),e.K.dispatchEvent(new MouseEvent("mousedown")),window.setTimeout(()=>{e.K.dispatchEvent(new PointerEvent("pointerup",i)),e.K.dispatchEvent(new MouseEvent("mouseup"))},100)}function Ql(e,i){e.ac.checked=i,e.s.disabled=!i,e.C.disabled=!i,e.l.style.color=i?"white":"gray"}function Cu(e,i=!1){i&&(e.g.style.bottom="5px",e.g.style.left="300px",e.g.style.top="",e.g.style.right="",e.g.style.width="150px",e.g.style.height="150px"),e.o()?(e.m.style.display="none",e.g.style.border="2px rgb(76, 175, 80) solid",e.g.style.backgroundColor="transparent"):(e.m.style.display="block",e.g.style.border="none",e.g.style.backgroundColor="rgb(105, 105, 105, 0.7)")}function cv(e,i){if(i!==e.visible){for(var r of(h.i("{50c79eb}","{5595c14}",i),e.visible=i,[e.L,e.g,e.v]))r===e.v&&i?ku(e,e.h.value!=="Show hotkeys"):r.style.display=i?"block":"none";var o=Fp();if(r=o?"pointerdown":"mousedown",o=o?"pointermove":"mousemove",i){e.P(),function(d,u){let p=0,m=0,E=0,T=0;const x=document.onmouseup,g=document.onmousemove;u.onmousedown=D=>{D.preventDefault(),p=D.clientX,m=D.clientY,document.onmouseup=()=>{document.onmouseup=x,document.onmousemove=g},document.onmousemove=C=>{C.preventDefault(),E=p-C.clientX,T=m-C.clientY,p=C.clientX,m=C.clientY,d.style.top=d.offsetTop-T+"px",d.style.left=d.offsetLeft-E+"px"}}}(e.g,e.m),e.O.oninput=d=>{d=parseFloat(d.target.value);var u=e.j;0>=d||1<=d?h.e("{0c7ed7c}","{1cbd879}",d.toFixed(2)):u.m=d,e.S.innerHTML=(100*d).toFixed()+"%"},e.ac.oninput=d=>{Ql(e,d.target.checked)},e.s.oninput=d=>{e.U.innerHTML=d.target.value},e.C.oninput=d=>{e.W.innerHTML=d.target.value+" ms"},e.zb.oninput=d=>{e.zb.checked=d.target.checked};const c=(d,u)=>{u.value=Math.max(Math.min(parseInt(d.target.value),100),0).toFixed(0),pv(e,parseInt(e.Sb.value||"50")/100,parseInt(e.Tb.value||"50")/100)};e.Sb.oninput=d=>c(d,e.Sb),e.Tb.oninput=d=>c(d,e.Tb),e.H.onclick=()=>ua(e,e.H.value==="Start"),e.h.onclick=()=>ku(e,e.h.value==="Show hotkeys"),e.g.onmouseup=e.P.bind(e),e.g.onmousedown=()=>{e.o()&&lv(e.j)},bi(e.Z,2,e.$),e.K.addEventListener(r,e.aa),e.K.addEventListener(o,e.ca)}else ua(e,!1),e.O.oninput=null,e.ac.oninput=null,e.s.oninput=null,e.C.oninput=null,e.zb.oninput=null,e.Sb.oninput=null,e.Tb.oninput=null,e.H.onclick=null,e.h.onclick=null,e.g.onmouseup=null,e.g.onmousedown=null,e.m.onmousedown=null,Ei(e.Z,2,e.$),e.K.removeEventListener(r,e.aa),e.K.removeEventListener(o,e.ca)}}function ua(e,i){i&&!function(r){const o=av(r,r.l);return!(0>o.x||0>o.y||o.x+o.width>r.K.videoWidth||o.y+o.height>r.K.videoHeight)}(e.j)?function(r){r.R.style.display="block",window.setTimeout(()=>r.R.style.display="none",5e3)}(e):i&&e.M?h.e("{50c79eb}","{89742e9}"):(function(r,o){r.active!==o&&((r.active=o)?(h.i("{0c7ed7c}","{b56e30d}"),r.K.dispatchEvent(new Event("focus",{bubbles:!0})),r.K.addEventListener("pointerdown",r.j),r.K.addEventListener("mousedown",r.j)):(h.i("{0c7ed7c}","{00425c2}"),r.K.removeEventListener("pointerdown",r.j),r.K.removeEventListener("mousedown",r.j),r.g=[],r.h=[]))}(e.j,i),Cu(e),i?(e.H.value="Stop",e.ac.checked&&(h.i("{50c79eb}","{5974b2c}"),e.M=!0,e.da=parseInt(e.s.value),e.N=window.setInterval(()=>{0<e.da--?lv(e.j):(h.i("{50c79eb}","{d37e51d}"),dv(e),ua(e,!1))},parseInt(e.C.value)))):(e.H.value="Start",e.M&&(e.N?(h.i("{50c79eb}","{d340c50}"),dv(e)):h.w("{50c79eb}","{6d8948b}")),uv(e),hv(e)))}function Tu(e,i){e.value=i.toString(),e.dispatchEvent(new Event("input"))}function ku(e,i){i?(e.h.value="Hide hotkeys",e.v.style.display="block"):(e.h.value="Show hotkeys",e.v.style.display="none")}function dv(e){window.clearInterval(e.N),e.N=0,e.M=!1}function uv(e){e.I!==0&&(window.clearTimeout(e.I),e.I=0)}function hv(e){e.F.innerHTML="",e.F.style.display="none"}function fv(e){var i;const r=(i=e.processingDuration)!==null&&i!==void 0?i:0;return{pf:e.Ec-e.Ub,Tf:e.receiveTime?e.receiveTime-e.Ec:0,Xe:e.receiveTime&&e.processingDuration?e.presentationTime-e.processingDuration-e.receiveTime:0,decode:r,Pf:e.td-e.presentationTime,total:e.td-e.Ub}}function pv(e,i,r){const o=e.K.getBoundingClientRect(),c=e.g.getBoundingClientRect(),{paddingTop:d,paddingRight:u,paddingBottom:p,paddingLeft:m}=gv(e.K);i=o.left+m+(o.width-m-u)*i-c.width*i,e.g.style.top=(o.top+d+(o.height-d-p)*r-c.height*r).toString()+"px",e.g.style.left=i.toString()+"px",e.P()}function ha(){const e=document.createElement("div");return e.style.display="none",e.style.position="absolute",e.style.color="white",e.style.backgroundColor="rgb(105, 105, 105, 0.7)",e.style.padding="2px",e}function Iu(e){const i=document.createElement("div");return i.style.width="100%",i.style.borderBottom="1px dashed darkgray",i.style.paddingBottom="2px",i.innerHTML=e,i}function mv(e){const i=document.createElement("input");return i.type="button",i.value=e,i.style.margin="5px",i.style.backgroundColor="rgb(132, 130, 143, .7)",i.style.color="white",i.style.padding="8px 40px",i.style.border="none",i.style.borderRadius="4px",i.style.cursor="pointer",i}function vv(){const e=document.createElement("input");return e.type="checkbox",e}function ji(e){const i=document.createElement("label");return i.innerHTML=e,i}function Ru(e,i,r,o=1){const c=document.createElement("input");return c.type="range",c.min=i.toString(),c.max=r.toString(),c.step=o.toString(),c.value=e.toString(),c}function gv(e){const i=r=>{if(!r)return 0;const o=r.length;return r.substring(o-1)==="%"?parseInt(r.substring(0,o-1)):r.substring(o-2)==="px"?parseInt(r.substring(0,o-2)):(h.w("{50c79eb}","{3351f27}",r),0)};return{paddingTop:i(e.style.paddingTop),paddingRight:i(e.style.paddingRight),paddingBottom:i(e.style.paddingBottom),paddingLeft:i(e.style.paddingLeft)}}var Av=class extends Map{constructor(){super([["TCP",0],["MDNS",0],["IPV6",0],["IPV4",0],["UNKNOWN",0]])}};function Sv(e){var i,r,o,c;e.m=window.setInterval(()=>{(function(d){if(!d.I)if(d.I=!0,d.U===0)d.C.getStats().then(u=>{d.j=u}).catch(u=>Jl(d,u,"early")).finally(()=>{d.I=!1});else if(d.U===1)if(d.ga){const u=d.C.getReceivers().find(p=>p.track.kind===d.mediaType&&p.track.enabled);u&&u.getStats().then(p=>yv(d,p)).catch(p=>Jl(d,p,"standard")).finally(()=>{d.I=!1})}else(function(u){u.C.getStats(null).then(p=>{let m=!1;for(let E of p.values())if(E.type==="track"&&(m=!0),["transport","inbound-rtp","candidate-pair"].includes(E.type)){E.kind==="audio"&&(u.wa=!0);const T=u.P.get(E.type);T?T.includes(E.id)?h.e("{5cea617}","{76f5968}",E.id):T.push(E.id):u.P.set(E.type,[E.id])}u.aa=!m,h.i("{5cea617}","{1317761}",u.aa?"yes":"no"),u.ga=!0,u.j=p,yv(u,p)}).catch(p=>Jl(u,p,"init")).finally(()=>{u.I=!1})})(d);else d.I=!1})(e)},(i=et.getStatsInterval)!==null&&i!==void 0?i:96),window.chrome&&(e.F=window.setInterval(()=>{(function(d){if(!d.T){d.T=!0;var u=()=>{h.i("{5cea617}","{cf8b53f}"),d.T=!1,clearInterval(d.F),d.F=0};d.C.getStats(p=>{for(var m of p.result())if(m.type=="ssrc")for(var E of m.names()){m.stat("mediaType")==="video"&&(d.H.ts=Dn(yt),d.H.timingFrameInfo=m.stat("googTimingFrameInfo"),d.H.targetDelayMs=+m.stat("googTargetDelayMs"),d.H.minPlayoutDelayMs=+m.stat("googMinPlayoutDelayMs"),d.H.currentDelayMs=+m.stat("googCurrentDelayMs"));break}if(!(15>(m=(p=d.H).timingFrameInfo.split(",",15)).length)){E=new ArrayBuffer(ky.size);var T=new DataView(E);T.setUint32(0,p.targetDelayMs||0,!0),T.setUint32(4,p.minPlayoutDelayMs||0,!0),T.setUint32(8,p.currentDelayMs||0,!0),T.setFloat64(12,Dn(yt),!0),T.setFloat64(20,parseFloat(m[3])||0,!0),T.setFloat64(28,parseFloat(m[4])||0,!0),T.setFloat64(36,parseFloat(m[8])||0,!0),T.setFloat64(44,parseFloat(m[9])||0,!0),T.setFloat64(52,parseFloat(m[10])||0,!0),T.setFloat64(60,parseFloat(m[11])||0,!0),T.setUint8(68,parseFloat(m[13])||0),T.setUint8(69,parseFloat(m[14])||0),rs([E],0)}d.T=!1},u).catch(u)}})(e)},(r=et.getDeprecatedStatsInterval)!==null&&r!==void 0?r:201)),(c=(o=e.K).requestVideoFrameCallback)===null||c===void 0||c.call(o,e.sa)}function yv(e,i){var r=performance.now();if(r>=e.$&&e.mediaType==="video"){(function(H,B){var W,_,z,V=H.P.get("inbound-rtp");if(V&&H.j)if(V=V.map($=>B.get($)).find($=>($==null?void 0:$.kind)==="video"||($==null?void 0:$.mediaType)==="video")){var N=(V=bv(H,B,V)).decoderImplementation;if(N!=null&&N.indexOf){N!==H.h.cc&&N!=="unknown"&&(H.h.cc=N,H.g.cc=N);const $=H.u.gpuDetail.indexOf("SwiftShader")!==-1;N.indexOf("fallback")===-1&&N!=="FFmpeg"&&!$||H.h.zc!==-1||(H.h.zc=(W=V.framesDecoded)!==null&&W!==void 0?W:H.l,function(){var ne=yt;if(ne.h){const ge={clientEvent:{TS:Dn(ne),eventtype:"SoftwareDecodeFallback"}};ne.g&&ne.g.postMessage(ge)}}(),W="Fallback to software decode at frame "+String(H.h.zc),h.i("{5cea617}","{953d211}",String(H.h.zc)),H.g.U=!0,Xl(H.Ba,W))}(W=H.j.get(V.id))?(H.h.bc.Zf++,(N=V.codecId)&&((N=B.get(N).mimeType.toUpperCase()).includes("H265")?H.N="H265":N.includes("AV1")?H.N="AV1":N.includes("H264")?H.N="H264":(h.d("{5cea617}","{4b31535}",N),H.N="UNKNOWN"),H.g.codec=H.N),function($,ne,ge){var ve=ne.packetsLost-ge.packetsLost;let Me=100-ve/(ne.packetsReceived-ge.packetsReceived+ve)*100;for((isNaN(Me)||Me===void 0)&&(Me=0),0<(ne=ne.pliCount-ge.pliCount)&&ve&&(Me=0),ve=0;ve<ne+1;ve++)$.networkLossScore=7*$.networkLossScore/8+Me/8}(H.L,V,W),function($,ne){if(ne.frameWidth&&ne.frameHeight&&($.streamingResolution={width:ne.frameWidth,height:ne.frameHeight}),ne.framesDecoded){const ge=$.R,ve=ne.timestamp;ge!==ve&&($.fps=Math.floor((ne.framesDecoded-$.C)/(ve-ge)*1e3)),$.C=ne.framesDecoded,ne.totalDecodeTime&&($.m.update(ne.totalDecodeTime,ne.framesDecoded),$.zd=1e3*ne.totalDecodeTime/ne.framesDecoded)}ne.framesReceived&&($.O=ne.framesReceived,ne.totalInterFrameDelay&&($.P=1e3*ne.totalInterFrameDelay/(ne.framesReceived-1))),ne.framesDropped&&($.I=ne.framesDropped),ne.packetsLost&&($.N=ne.packetsLost),ne.pliCount&&($.s=ne.pliCount),$.R=ne.timestamp}(H.g,V),H.l=(_=V.framesDecoded)!==null&&_!==void 0?_:0,H.ta=(z=V.packetsReceived)!==null&&z!==void 0?z:0,async function($){const ne={width:screen.width*window.devicePixelRatio,height:screen.height*window.devicePixelRatio},ge={width:screen.width,height:screen.height},ve=$.l,Me=$.ua.m;var Xe=$.oa;if((Xe=!(ne.width===Xe.width&&ne.height===Xe.height))||(Xe=$.ja,Xe=!(ge.width===Xe.width&&ge.height===Xe.height)),Xe||Me!==$.ca){$.oa=ne,$.ja=ge,Xe=await da(Js),$.ca=Me;var ue=`Stream[0]: Client display[-1] resolution : {physical : ${Hs(ne)}@${Xe}, logical : ${Hs(ge)}@${Xe}} at frame#${ve} topology: ${Me}`;h.i("{5cea617}","{810d0ec}",Hs(ne),Xe,Hs(ge),Xe,ve,Me),Xl($.Ba,ue)}}(H)):H.h.bc.Hf++}else H.h.bc.af++})(e,i);var o,c,d,u,p,m,E,T,x,g=e.g,D=e.Ba,C=D.K.paused,S=(c=(o=D.Ea)===null||o===void 0?void 0:o.paused)!==null&&c!==void 0&&c;C={tf:C,rf:S,yb:o=(u=(d=D.m)===null||d===void 0?void 0:d.yb())!==null&&u!==void 0&&u,kb:d=(m=(p=D.m)===null||p===void 0?void 0:p.kb)!==null&&m!==void 0&&m,yf:p=D.Da.getMicState(),cd:m=D.s.cd(),keyboardLayout:u=D.keyboardLayout,appLaunchMode:c=D.appLaunchMode,qf:(T=D=(E=D.m)===null||E===void 0?void 0:`${(D=E.h).g.rb?"local":"alt"} ${qs(D)?"locked":"unlocked"}`)!==null&&T!==void 0?T:""},g.g=C,function(H,B){var W,_=H.P.get("candidate-pair");if(_=_==null?void 0:_.map(V=>B.get(V)).find(V=>V)){6<=H.s.length&&H.s.splice(0,1),H.s.push(_);var z=(W=H.j)===null||W===void 0?void 0:W.get(_.id);z&&function(V,N,$){var ne,ge,ve,Me;let Xe=(ne=N.bytesReceived)!==null&&ne!==void 0?ne:0;ne=(ge=$.bytesReceived)!==null&&ge!==void 0?ge:0,(N=(ve=N.timestamp)!==null&&ve!==void 0?ve:0)!=($=(Me=$.timestamp)!==null&&Me!==void 0?Me:0)&&(V.o=(Xe-ne)/(125*(N-$)))}(H.g,_,z)}}(e,i),e.M!==0&&nv(e.g,e.M===2),T={avgGameFps:(x=(g=e.g).avgGameFps)!==null&&x!==void 0?x:0,fps:g.fps,rtd:g.rtd,avgDecodeTime:1e3*ql(g.m),frameLoss:g.s-g.T,packetLoss:g.N,totalBandwidth:g.F,utilizedBandwidth:g.Ob,streamingResolution:g.streamingResolution,codec:g.codec,bitDepth:g.bitDepth},g.T=g.s,e.R.emit("StreamStatsUpdate",T),e.j=i,e.$=r+1e3}for(const[H,B]of e.P.entries())for(var U of(x=H,g=B))if((g=i.get(U))&&x==="inbound-rtp"){if(T=e.o,(g=bv(e,i,g)).kind==="audio")T=g,C=new ArrayBuffer(Ry.size),S=new DataView(C),Dt(T.packetsReceived||0,S,0,!0),Dt(T.bytesReceived||0,S,8,!0),Dt(T.packetsLost||0,S,16,!0),S.setFloat64(24,T.lastPacketReceivedTimestamp||0,!0),S.setFloat64(32,T.jitter||0,!0),S.setFloat64(40,Dn(yt),!0),rs([C],2),T=new ArrayBuffer(Py.size),(C=new DataView(T)).setFloat64(0,g.audioLevel||0,!0),Dt(g.concealedSamples||0,C,8,!0),Dt(g.concealmentEvents||0,C,16,!0),Dt(g.insertedSamplesForDeceleration||0,C,24,!0),C.setFloat64(32,g.jitterBufferDelay||0,!0),Dt(g.jitterBufferEmittedCount||0,C,40,!0),Dt(g.removedSamplesForAcceleration||0,C,48,!0),Dt(g.silentConcealedSamples||0,C,56,!0),C.setFloat64(64,g.totalSamplesReceived||0,!0),C.setFloat64(72,g.totalSamplesDuration||0,!0),C.setFloat64(80,Dn(yt),!0),rs([T],4);else if(S=(C=g).packetsLost||0,m=D=C.framesDecoded||0,u=E=C.totalDecodeTime||0,c=o=C.pliCount||0,(p=S)>=(d=T).o&&(d.C=p-d.o,d.o=p),c>=d.l&&(d.pliCount=c-d.l,d.l=c),d.framesDecoded=m-d.s,0<d.framesDecoded&&u>d.m&&(d.v=1e3*(u-d.m)/d.framesDecoded,d.s=m,d.m=u),d=new ArrayBuffer(Iy.size),(p=new DataView(d)).setUint32(0,D,!0),p.setUint32(4,C.keyFramesDecoded||0,!0),p.setUint32(8,C.nackCount||0,!0),p.setInt32(12,S,!0),p.setInt32(16,o,!0),Dt(C.bytesReceived||0,p,20,!0),Dt(C.packetsReceived||0,p,28,!0),p.setFloat64(36,E,!0),p.setFloat64(44,C.totalInterFrameDelay||0,!0),p.setFloat64(52,C.totalSquaredInterFrameDelay||0,!0),p.setFloat64(60,C.totalAssemblyTime||0,!0),p.setUint32(68,C.framesAssembledFromMultiplePackets||0,!0),p.setFloat64(72,Dn(yt),!0),rs([d],1),T.sendVideoTrack(g),g.perFrameEntries){for(g=JSON.parse(g.perFrameEntries),C=[],S=T.h,D=0;D<g.length;D++)g[D].frameNumber>T.h&&(E=new ArrayBuffer(xy.size),(o=new DataView(E)).setUint32(0,g[D].frameNumber,!0),o.setFloat64(4,g[D].decodeTime,!0),o.setFloat64(12,g[D].assemblyTime,!0),C.push(E)),S=Math.max(S,g[D].frameNumber);T.h=S,0<C.length&&rs(C,6)}}(U=performance.memory)&&(i=U.usedJSHeapSize,g=U.totalJSHeapSize,U=i-e.ra,x=g-e.qa,e.ra=i,e.qa=g,0<=U&&0<=x||(i=yt).h&&(U={garbageCollectionStats:{timestamp:Dn(i),deltaUsedHeapSize:U,deltaTotalHeapSize:x}},i.g&&i.g.postMessage(U))),i=e.Ba,(U=yt).h&&(x={inputChannelStats:{timestamp:Dn(U),bufferedAmount:i.Ja.bufferedAmount,maxSchedulingDelay:i.s.maxSchedulingDelay}},U.g&&U.g.postMessage(x)),i.s.maxSchedulingDelay=0,r>=e.na&&e.Z&&(i=e.Z,U=new ArrayBuffer(15),(x=new DataView(U)).setUint8(0,2),x.setUint8(1,1),x.setUint8(2,1),x.setUint32(3,i.Eg,!0),x.setFloat64(7,i.client,!0),Ev(e,U,"rtpmapping"),e.Z=void 0,e.na=r+1e3),e.mediaType==="video"&&(Lp(e.u)&&(i=new ArrayBuffer(12),(U=new DataView(i)).setUint8(0,1),U.setUint8(1,1),U.setUint16(2,e.o.C,!0),U.setUint16(4,Math.round(e.o.v),!0),U.setUint16(6,e.o.framesDecoded,!0),U.setUint16(8,e.o.pliCount,!0),U.setUint16(10,e.o.framesDropped,!0),Ev(e,i,"clientperf")),i=_m(e.L),e.g.v=i,U=_m(e.L),e.R.emit("StreamingQuality",U),e.xa&&(i=e.g,e.R.emit("StreamingStats",{fps:i.fps,zd:i.zd,avgDecodeTime:1e3*ql(i.m),Rg:i.F,Ob:i.Ob,width:i.streamingResolution.width,height:i.streamingResolution.height})),(i=yt).h&&(U={sq:{latencyScore:U.latencyScore,bandwidthScore:U.bandwidthScore,qualityScore:U.qualityScore,networkLossScore:U.networkLossScore,timestamp:Dn(i)}},i.g&&i.g.postMessage(U))),r>=e.ka&&(i=e.g,h.i("{4155ac9}","{a02a36e}",i.C,(1e3*ql(i.m)).toFixed(2),i.I,i.H.toFixed(2),i.s,i.rtd,i.o.toFixed(2),i.Ob.toFixed(2)),e.ka=r+5e3),r=performance.now()-r,(i=yt).h&&(i.perf.GetStats+=r),(i=e.g).l.value+=r,i.l.count+=1,i.l.max=Math.max(r,i.l.max),e.wa&&(e.mediaType=e.mediaType==="video"?"audio":"video")}function Jl(e,i,r){e.G.za(i,`Exception in ${r} getStats`,"{5cea617}.ts",0,0,!0,"getStats")}function wv(e){e.m&&(clearInterval(e.m),e.m=0),e.F&&(clearInterval(e.F),e.F=0),ov(e.o)}function Pu(e,i,r=!1){e.g.M.style.display=i?"block":"none",i?(e.M=r?2:1,nv(e.g,r),e.$=performance.now()):e.M=0}function bv(e,i,r){return e.aa||(e=i.get(r.trackId))&&(r=Object.assign(e,r)),r}function Ev(e,i,r){try{e.O.readyState==="open"&&e.O.send(i)}catch(o){h.e("{5cea617}","{78e74c5}",o),Jl(e,o,r)}}function Cv(e){if(!(2>e.s.length)){var i=e.s[0],r=e.s[e.s.length-1];e=r.requestsSent-i.requestsSent+r.consentRequestsSent-i.consentRequestsSent;var o=r.responsesReceived-i.responsesReceived;return i=r.packetsReceived-i.packetsReceived,{Mf:isNaN(e)?-1:e,Nf:isNaN(o)?-1:o,Lf:isNaN(i)?-1:i}}}var Ny=class{constructor(e,i,r,o,c,d,u,p,m,E){var T,x,g,D,C,S,U,H,B;this.pa=!0,this.l=this.ta=this.F=this.m=0,this.N="UNKNOWN",this.ga=!1,this.P=new Map,this.fa=this.rtd=this.jitter=this.W=0,this.mediaType="video",this.qa=this.ra=this.$=this.M=0,this.s=[],this.ja={width:0,height:0},this.oa={width:0,height:0},this.aa=this.T=this.I=!1,this.ca=this.ka=this.U=this.na=0,this.R=e,this.Ba=i,this.K=r,this.C=o,this.Cc=(x=(T=c.video)===null||T===void 0?void 0:T[0].Cc)!==null&&x!==void 0&&x,this.maxBitrate=(D=(g=c.video)===null||g===void 0?void 0:g[0].Dc)!==null&&D!==void 0?D:0,this.da=(S=(C=c.video)===null||C===void 0?void 0:C[0].gd)!==null&&S!==void 0?S:0,this.bitDepth=(H=(U=c.video)===null||U===void 0?void 0:U[0].bitDepth)!==null&&H!==void 0?H:8,this.hdr=((B=c.video)===null||B===void 0?void 0:B[0].Xc)===1,this.G=d,this.u=u,this.ea=p,this.ua=m,this.H={ts:0,timingFrameInfo:"",targetDelayMs:0,minPlayoutDelayMs:0,currentDelayMs:0},this.L=new Fm(this.maxBitrate,this.da),this.g=new rv(r,this.u,this.ea),this.g.bitDepth=this.bitDepth,this.g.hdr=this.hdr,Wt&&(this.S=new class{constructor(W,_){this.Z=_,this.visible=!1,this.ec=[],this.M=!1,this.da=this.N=0,this.T={x:0,y:0},this.I=0,this.K=W,this.j=new class{constructor(ve){this.active=!1,this.m=.06,this.l=new DOMRect(0,0,0,0),this.g=[],this.h=[],this.K=ve,this.j=this.v.bind(this)}o(){return this.active}v(ve){if(this.g.length){if(!(this.h.length&&100>ve.timeStamp-this.h[this.h.length-1].Ub))for(this.h.push({Ub:ve.timeStamp,Ec:performance.now()});32<this.h.length;)this.h.shift()}else h.w("{0c7ed7c}","{fe08a50}")}}(W),this.$=this.ga.bind(this),this.aa=this.fa.bind(this),this.ca=this.onmousemove.bind(this),_=ha();var z=Iu("Latency Display Analysis Tool (LDAT)");this.H=mv("Start"),this.h=mv("Show hotkeys"),_.style.bottom="0px",_.style.left="0px",_.style.margin="5px",this.h.style.border="1px solid white",this.h.style.fontSize="10px",this.h.style.padding="5px",this.h.style.position="absolute",this.h.style.right="0px",_.appendChild(z),_.appendChild(this.H),_.appendChild(this.h),z=_.appendChild;var V=document.createElement("div"),N=this.j.m;this.O=Ru(N,.01,.2,.01),this.S=document.createElement("span");var $=ji("Activation Level"),ne=document.createElement("span");for(var ge of(this.S.innerHTML=(100*N).toFixed()+"%",ne.style.paddingRight="2px",ne.title="% increase in luminance used to determine whether a flash occurred",ne.innerHTML="<sup> i </sup>",V.appendChild($),V.appendChild(ne),V.appendChild(this.O),V.appendChild(this.S),z.call(_,V),z=_.appendChild,V=document.createElement("div"),this.l=document.createElement("div"),this.ac=vv(),this.s=Ru(20,5,100,5),this.C=Ru(1e3,500,5e3,100),N=ji("Autofire"),$=ji("# Shots"),ne=ji("Shot Delay"),this.U=document.createElement("span"),this.W=document.createElement("span"),this.U.innerHTML=this.s.value,this.W.innerHTML=this.C.value+" ms",this.s.id="shot-count-slider",this.l.appendChild($),this.l.appendChild(this.s),this.l.appendChild(this.U),this.l.appendChild(document.createElement("br")),this.l.appendChild(ne),this.l.appendChild(this.C),this.l.appendChild(this.W),V.appendChild(N),V.appendChild(this.ac),V.appendChild(this.l),z.call(_,V),_.appendChild(function(ve){const Me=document.createElement("div"),Xe=ji("Loupe Position:"),ue=ji("X"),Oe=ji("Y");ue.style.paddingLeft="10px",Oe.style.paddingLeft="10px",ue.style.paddingRight="2px",Oe.style.paddingRight="2px";const je=()=>{const xe=document.createElement("input");return xe.type="number",xe.min="0",xe.max="100",xe.step="1",xe.placeholder="Int",xe.style.width="40px",xe};return ve.Sb=je(),ve.Tb=je(),Me.appendChild(Xe),Me.appendChild(ue),Me.appendChild(ve.Sb),Me.appendChild(ji("%")),Me.appendChild(Oe),Me.appendChild(ve.Tb),Me.appendChild(ji("%")),Me}(this)),this.zb=vv(),(z=document.createElement("span")).title="Simulate mouse move event whenever a mouse click is detected.  Introduces two 300 ms delays between move events and requires a minimum shot delay of 1 sec.",z.innerHTML="<sup> i </sup>",_.appendChild(ji("Move On Click")),_.appendChild(z),_.appendChild(this.zb),this.L=_,_=ha(),z=Iu("Loupe"),this.m=document.createElement("div"),this.m.style.cursor="move",this.m.style.width="100%",this.m.style.height="100%",this.m.innerHTML="Click here to drag the loupe to the area of the screen where flashes will occur.  Then, press start.",_.appendChild(z),_.appendChild(this.m),this.g=_,(_=ha()).style.position="relative",_.style.backgroundColor="gray",_.style.textAlign="center",_.innerHTML="Warning: Must place loupe over video element to activate the LDAT.  Please reposition the loupe and then click start.",this.R=_,_=ha(),z=Iu("LDAT Hot Keys"),V=document.createElement("ul"),_.style.bottom="195px",_.style.left="0px",_.style.margin="5px",V.style.listStyle="none",V.style.paddingLeft="2px",V.style.margin="5px",["Enter - Start/Stop","R - Reset","A - Turn On/Off Auto-Fire Mode","S - Save Log File","C - Center Loupe on Screen"]))(N=document.createElement("li")).innerHTML=ge,V.append(N);_.appendChild(z),_.appendChild(V),this.v=_,(ge=ha()).style.bottom="325px",ge.style.left="0px",ge.style.margin="5px",this.F=ge,W.insertAdjacentElement("afterend",this.L),this.L.insertAdjacentElement("afterend",this.g),this.g.insertAdjacentElement("afterend",this.R),this.L.insertAdjacentElement("beforebegin",this.v),this.v.insertAdjacentElement("beforebegin",this.F),this.j.s=this.ea.bind(this),Ql(this,!1),this.zb.checked=!1,Cu(this,!0)}stop(){this.L.remove(),this.g.remove(),this.R.remove(),this.v.remove(),this.F.remove(),cv(this,!1),this.ec=[]}reset(){ua(this,!1),Tu(this.O,.06),Tu(this.s,20),Tu(this.C,1e3),Ql(this,!1),this.zb.checked=!1,Cu(this,!0),ku(this,!1),this.Sb.value="",this.Tb.value="",this.ec=[]}isVisible(){return this.visible}toggle(){ua(this,!this.o())}o(){return this.j.o()}Db(){return!this.isVisible()||this.o()}fa(W){if(this.zb.checked&&this.o()&&!W.gf){const _=(N,$)=>{switch(N){case 0:this.K.dispatchEvent(new PointerEvent("pointerup",$)),this.K.dispatchEvent(new MouseEvent("mouseup",$));break;case 1:N=new PointerEvent("pointerdown",$),$=new MouseEvent("mousedown",$),N.gf=!0,$.gf=!0,this.K.dispatchEvent(N),this.K.dispatchEvent($);break;case 2:this.K.dispatchEvent(new PointerEvent("pointerrawupdate",$)),this.K.dispatchEvent(new PointerEvent("pointermove",$)),this.K.dispatchEvent(new MouseEvent("mousemove",$))}},z={button:2,isPrimary:!0,pointerId:1},V={clientX:(Math.max(W.clientX,0)||this.T.x)+64,clientY:Math.max(W.clientY,0)||this.T.y,movementX:64,isPrimary:!0};_(1,z),window.setTimeout(()=>{_(2,V),window.setTimeout(()=>{V.clientX-=64,V.movementX=-64,_(2,V),window.setTimeout(()=>_(0,z),300)},300)},300)}}onmousemove(W){this.T={x:W.clientX,y:W.clientY}}P(){var W=this.K.getBoundingClientRect();const _=this.g.getBoundingClientRect();if(this.K.style.paddingTop||this.K.style.paddingRight||this.K.style.paddingBottom||this.K.style.paddingLeft){const{paddingTop:z,paddingRight:V,paddingBottom:N,paddingLeft:$}=gv(this.K);W.x+=$,W.y+=z,W.width-=$+V,W.height-=z+N}_.x=(_.x-W.x)/W.width,_.y=(_.y-W.y)/W.height,_.width/=W.width,_.height/=W.height,W=this.j,0>=_.width||0>=_.height?h.e("{0c7ed7c}","{3e0eb8f}",_.width,_.height):W.l=_}ga(){this.P()}ea(W){uv(this),this.ec.push(W);const _=fv(W),z=_.total.toFixed(),V=`Flash occurred at frame ${W.presentedFrames}. Latency: ${z} ms.`;h.i("{50c79eb}","{78905f8}",W.presentedFrames,z),h.d("{50c79eb}","{d3d4a0c}",z,_.pf.toFixed(),_.Tf.toFixed(),_.Xe.toFixed(),_.decode.toFixed(),_.Pf.toFixed()),this.F.innerHTML=V,this.F.style.display="block",this.I=window.setTimeout(()=>{hv(this),this.I=0},5e3)}}(r,m)),this.C=o,function(W){W.O=W.C.createDataChannel("stats_channel",{ordered:!1,reliable:!1,maxRetransmits:0}),W.O.binaryType="arraybuffer",fa(W.Ba,W.O,{open:()=>{W.U=1},close:()=>{wv(W),W.U=2}}),W.O.onmessage=_=>{var z=(_=new DataView(_.data)).getUint8(0);if(2<=z){if(W.W=_.getFloat64(1,!0)/1e6,W.jitter=1e3*_.getFloat64(9,!0),W.rtd=_.getFloat64(17,!0),W.g.H=W.jitter,W.g.rtd=W.rtd,3<=z&&(W.fa=_.getFloat64(25,!0),W.g.avgGameFps=W.fa,4<=z)){z=_.getFloat32(33,!0);var V=_.getFloat32(37,!0),N=_.getFloat32(41,!0);let $=_.getFloat32(45,!0),ne=_.getFloat32(49,!0),ge=_.getFloat32(53,!0),ve=_.getFloat32(57,!0),Me=_.getFloat32(61,!0),Xe=_.getFloat32(65,!0);_=_.getFloat32(69,!0),h.d("{5cea617}","{9721183}",z,V,N,$,ne,ge,ve,Me,Xe,_)}_=W.L,z=W.W,V=W.g,(N=W.W)&&V.o<=N&&(V.Ob=V.o/N*100),V.F=N,N=100,25<=V.Ob&&(N=(z-_.g)/(_.maxBitrate-_.g)*100),100<N&&(N=100),N===void 0||isNaN(N)||0>N||(_.bandwidthScore=15*_.bandwidthScore/16+N/16,_.bandwidthScore=Math.min(_.bandwidthScore,100)),_=W.L,V=0,250>(z=W.rtd)&&((V=100*(250-z)/240)===void 0||isNaN(V))&&(V=0),_.latencyScore=15*_.latencyScore/16+V/16,_.latencyScore=Math.min(_.latencyScore,100)}else h.e("{5cea617}","{4f9f4b7}",z)}}(this),this.xa=this.R.hasListener("StreamingStats"),this.o=new class{constructor(){this.j=this.framesDropped=this.l=this.pliCount=this.framesDecoded=this.m=this.s=this.o=this.v=this.C=0,this.g=[],this.h=-1}sendVideoTrack(W){const _=W.framesDropped||0;_>=this.j&&(this.framesDropped=_-this.j,this.j=_);const z=new ArrayBuffer(44),V=new DataView(z);V.setUint32(0,W.framesDecoded||0,!0),V.setUint32(4,_,!0),V.setUint32(8,W.frameHeight||0,!0),V.setUint32(12,W.frameWidth||0,!0),V.setUint32(16,W.framesReceived||0,!0),V.setFloat64(20,W.jitterBufferDelay||0,!0),Dt(W.jitterBufferEmittedCount||0,V,28,!0),V.setFloat64(36,Dn(yt),!0),rs([z],3)}},this.h={bc:{af:0,Hf:0,Zf:0},cc:"",zc:-1},this.v={Ag:0,droppedVideoFrames:0,totalVideoFrames:0},this.va=r,this.V=E,this.sa=this.ya.bind(this),Sv(this)}ya(e,i){var r,o,c,d,u,p=this.o,m=(d=i.receiveTime)!==null&&d!==void 0?d:0;d=i.presentationTime-m,m=1e3*((u=i.processingDuration)!==null&&u!==void 0?u:0),u=(u=i.presentationTime)!==void 0?u-yt.j:0;const E=new ArrayBuffer(12),T=new DataView(E);T.setFloat64(0,u,!0),T.setUint16(8,Math.min(100*d,65535),!0),T.setUint16(10,Math.min(100*m,65535),!0),p.g.push(E),p.g.length==120&&ov(p),(r=this.S)!==null&&r!==void 0&&r.o()&&function(x,g,D){x.g.push({presentedFrames:D.presentedFrames,td:g,presentationTime:D.presentationTime,receiveTime:D.receiveTime,processingDuration:D.processingDuration}),g=av(x,x.l),function(C,S,U,H,B){return new Promise((W,_)=>{window.setTimeout(()=>{e:if(0>=H||0>=B)var z=-1;else{var V=new OffscreenCanvas(H,B).getContext("2d");if(V){try{V.drawImage(C,S,U,H,B,0,0,H,B),z=V.getImageData(0,0,H,B).data}catch($){h.e("{0c7ed7c}","{b16b792}",$),z=-1;break e}var N=V=0;for(let $=0;$<z.length-3;$+=4)V+=.2126*z[$]+.7152*z[$+1]+.0722*z[$+2],N++;z=V/N/255}else h.e("{0c7ed7c}","{b72639c}"),z=-1}z===-1&&_(-1),W(z)},0)})}(x.K,g.x,g.y,g.width,g.height).then(C=>{var S,U=D.presentedFrames;if(x.g.length){var H=x.g[x.g.length-1];if(U!==H.presentedFrames)h.d("{0c7ed7c}","{06323ea}",U);else{for(H.fd=C;32<x.g.length;)x.g.shift();if(x.g.length!=1&&!((C=x.g[x.g.length-2]).presentedFrames<U-2||C.fd===void 0||C.fd===-1)&&H.fd-C.fd>x.m){let B;C=0;const W={presentedFrames:U,td:H.td,presentationTime:H.presentationTime,receiveTime:H.receiveTime,processingDuration:H.processingDuration,Ub:0,Ec:0};for(;x.h.length&&x.h[0].Ub<((S=H.receiveTime)!==null&&S!==void 0?S:H.presentationTime);)C++,B=x.h.shift();B&&(1<C&&h.d("{0c7ed7c}","{a4b8c55}",U,C),W.Ub=B.Ub,W.Ec=B.Ec,x.s&&x.s(W))}}}})}(this.S.j,e,i),this.Cc&&i.rtpTimestamp&&i.receiveTime&&(this.Z={Eg:i.rtpTimestamp,client:i.receiveTime-yt.j}),this.m!=0&&((c=(o=this.K).requestVideoFrameCallback)===null||c===void 0||c.call(o,this.sa))}reset(){wv(this),this.L=new Fm(this.maxBitrate,this.da),this.g=new rv(this.K,this.u,this.ea),this.j=void 0}stop(){var e;this.pa&&(this.pa=!1,this.m!=0&&(this.reset(),Pu(this,!1)),(e=this.S)===null||e===void 0||e.stop(),wt(this.G,"InboundVideoStats",this.h.cc,this.h.bc.Zf,this.h.bc.af,this.h.zc,this.h.bc.Hf))}toggleOnScreenStats(e,i){Pu(this,i??this.M===0,e)}packetsReceived(){return this.ta}};function Yl(e){return e.protocol==="tcp"?"TCP":(e=e.address||e.relatedAddress)?e.endsWith(".local")?"MDNS":e.indexOf(":")!==-1?"IPV6":"IPV4":"UNKNOWN"}function Tv(e){var i=(e=e.address||e.relatedAddress)==null?void 0:e.split(".");if((i==null?void 0:i.length)===4&&(e=parseInt(i[0]),i=parseInt(i[1]),!isNaN(e)&&!isNaN(i))){let r="UNKNOWN";return e===10?r="10/8":e===192&&i===168?r="192.168/16":e===172&&(240&i)==16&&(r="172.16/12"),r!=="UNKNOWN"&&h.d("{5cea617}","{343589d}",r),r}return h.i("{5cea617}","{fa2d6b9}"),"UNKNOWN"}function xu(e,i=!1){const r=e.m+1;try{let o;e.sessionId&&(o="x-nv-sessionid."+e.sessionId);let c=e.url;i&&(c+="&reconnect=1");let d=new WebSocket(c,o);d.onopen=()=>{var u;if(e.h("{48fa30b}"+r),d===e.g){(u=e.j)===null||u===void 0||Uv(u);for(const p of e.l)p.stats?d.send(p.stats):d.send(JSON.stringify(p));for(const p of e.s)Pv(e,p);e.s=[]}},d.onclose=u=>{var p;e.h("{6406bff}"+r),d===e.g&&((p=e.j)===null||p===void 0||Fv(p,{error:e.v,code:u.code,reason:u.reason,wasClean:u.wasClean}),Iv(e),e.v=!1)},d.onerror=()=>{e.h("{7605058}"+r),d===e.g&&(e.v=!0)},d.onmessage=u=>{if(e.j)try{let m=JSON.parse(u.data);if(e.o||e.h("{523f5b9}"),Rv(e),!m.hb){if(m.ack!==void 0){var p=m.ack;for(let E=e.l.length-1;0<=E;E--)e.l[E].ackid<=p&&e.l.splice(E,1)}if(m.ackid!==void 0){if(e.maxReceivedAckId<m.ackid&&(Lu(e.j,m),e.maxReceivedAckId=m.ackid),e.g){let E=JSON.stringify({ack:e.maxReceivedAckId});e.h("{903be10}"+E),e.g.send(E)}}else m.ack===void 0&&Lu(e.j,m)}}catch(m){e.C("Error in local websocket message handling: "+m+' "'+u.data+'"')}},e.g=d}catch(o){e.g=void 0,e.C("WebSocket creation exception: "+o+" for socket "+e.m)}e.m=r}function kv(e){e.o!==0&&(self.clearTimeout(e.o),e.o=0)}function Iv(e){e.g&&(e.g.onclose=null,e.g.onerror=null,e.g.onmessage=null,e.g.onopen=null,e.g=void 0)}function Rv(e){kv(e),e.o=self.setTimeout(()=>{var i;e.h("{6c3505a}"+((i=e.g)===null||i===void 0?void 0:i.readyState)+"{754f60b}"+e.m),e.g||xu(e,!0),Rv(e)},3e3)}function Pv(e,i){i.ackid!==void 0&&i.ackid!==void 0&&e.l.push(i),e.g&&(i.stats?e.g.send(i.stats):e.g.send(JSON.stringify(i)))}var Dy=class{constructor(e,i){this.sessionId=e,this.v=!1,this.l=[],this.s=[],this.maxReceivedAckId=this.o=0,this.url="",this.m=0,this.h=i.info,this.C=i.exception}initialize(e,i,r,o=!1){this.url=e,this.maxReceivedAckId=i,this.j=r,xu(this,o),this.h("{fcf6f89}"+this.m)}uninitialize(e){var i;this.maxReceivedAckId=0,this.l=[],this.s=[],this.j=void 0,kv(this),(i=this.g)===null||i===void 0||i.close(e),Iv(this),this.h("{986b258}"+e+"{754f60b}"+this.m)}send(e){this.j&&(this.g||xu(this,!0),this.g&&this.g.readyState===WebSocket.OPEN?Pv(this,e):this.s.push(e))}};function Oy(e){switch(e){case"H264":return"h264";case"H265":return"hevc";case"AV1":return"av1";default:return"video"}}var My=class{constructor(e,i){this.g=e,this.h=i,this.streams=[]}start(e){if(1&this.g.xd&&(e=e.getTransceivers().find(i=>{var r,o;return((o=(r=i.receiver)===null||r===void 0?void 0:r.track)===null||o===void 0?void 0:o.kind)==="video"}))){const i={data:new DataView(new ArrayBuffer(209715200)),size:0,Pd:"video",lg:Oy(this.h),sf:!1};(function(r,o,c){const{readable:d,writable:u}=o.createEncodedStreams();o=new TransformStream({start:()=>{h.i("{d7392d2}","{b96b3ec}",c.Pd)},flush:()=>{},transform:(p,m)=>{if(!c.sf){const g=new Uint8Array(p.data);if(c.size+g.byteLength<=c.data.byteLength){var E=c.data,T=c.size,x=g;const D=x.byteLength;for(let C=0;C<D;++C)E.setUint8(T+C,x[C]);c.size+=g.byteLength}else c.sf=!0,h.w("{d7392d2}","{f35b2f4}",c.size,c.Pd)}m.enqueue(p)}}),d.pipeThrough(o).pipeTo(u),r.streams.push(c)})(this,e.receiver,i)}}};function xv(e){e.g&&(e.j=!e.j,e.g.style.display=e.j?"block":"none")}var Ly=class{constructor(e,i,r,o){this.l=e,this.K=i,this.u=r,this.G=o,this.h={top:-1,left:-1,bottom:-1,right:-1},this.Xa=this.Ra=0,this.j=!1,this.m=0,Wt&&((e=document.createElement("div")).style.display="none",e.style.position="absolute",e.style.color="white",e.style.backgroundColor="rgb(105, 105, 105, 0.7)",e.style.padding="2px",e.style.bottom="0px",e.style.left="0px",e.style.margin="5px",this.g=e,i.insertAdjacentElement("afterend",this.g))}uninitialize(){this.g&&this.g.remove()}send(){var e,i,r;if(!(0>=this.K.videoHeight||0>=this.K.videoWidth)){var o=Np(),c=function(u,p){let{width:m,height:E}={width:screen.width,height:screen.height};var T=()=>{let D;switch(window.orientation!==void 0?D=window.orientation:screen.orientation&&(D=screen.orientation.angle),D){case 90:case-90:case 270:return!1;default:return!0}};F(u.u)&&(p.top=Math.max(p.top,20),T()||(T=m,m=E,E=T)),T=(D=>{let C=D.offsetTop,S=D.offsetLeft;for(var U=D.offsetParent;U;)C+=U.offsetTop,S+=U.offsetLeft,U=U.offsetParent;U=D.clientHeight;let H=D.clientWidth;return u.u.os==="Android"&&(window.innerHeight>window.innerWidth&&D.clientHeight<D.clientWidth||window.innerHeight<window.innerWidth&&D.clientHeight>D.clientWidth)&&(h.w("{48f82fd}","{c9d343e}"),U=D.clientWidth,H=D.clientHeight),{top:C,left:S,bottom:Math.max(window.innerHeight-C-U,0),right:Math.max(window.innerWidth-S-H,0)}})(u.K);const x=Math.max(E-window.innerHeight,0)/2,g=Math.max(m-window.innerWidth,0)/2;return{top:Math.max(p.top-x-T.top-u.Ra,0)/(u.K.clientHeight-2*u.Ra),left:Math.max(p.left-g-T.left-u.Xa,0)/(u.K.clientWidth-2*u.Xa),bottom:Math.max(p.bottom-x-T.bottom-u.Ra,0)/(u.K.clientHeight-2*u.Ra),right:Math.max(p.right-g-T.right-u.Xa,0)/(u.K.clientWidth-2*u.Xa)}}(this,o);if(!function(u,p){const m=Object.keys(u),E=Object.keys(p);if(m.length!==E.length)return!1;for(const T of m)if(u[T]!==p[T])return!1;return!0}(c,this.h)){var d=JSON.stringify(c,(u,p)=>p.toFixed?Number(p.toFixed(2)):p);h.d("{48f82fd}","{054b8b0}",JSON.stringify(o),d),(e=et.sendInsetValueUpdateEvents)!==null&&e!==void 0&&e&&2>this.m++&&(o=(e=(u,p=1)=>{for(const m of Object.keys(u)){const E=Math.round(u[m]*p);u[m]=isNaN(E)?-1:E}return u})(Object.assign({},o)),e=e(Object.assign({},c),1e3),(i=this.G)===null||i===void 0||wt(i,"InsetValueUpdate","Original",o.top,o.left,o.bottom,o.right),(r=this.G)===null||r===void 0||wt(r,"InsetValueUpdate","Normalized",e.top,e.left,e.bottom,e.right)),this.h=Object.assign({},c);for(const u of Object.keys(c))c[u]=isNaN(c[u])?0:c[u];i={messageType:"SAFE_ZONE",messageRecipient:"NvGridSvc:NGS",data:JSON.stringify({safeZoneData:{type:"InsetValueUpdate",rect:c}})},this.l.sendCustomMessage(i),Wt&&this.g&&(this.g.innerText=`Safe Zone: 
Top: `+(100*Math.max(this.h.top,0)).toFixed()+`%
Right: `+(100*Math.max(this.h.right,0)).toFixed()+`%
Bottom: `+(100*Math.max(this.h.bottom,0)).toFixed()+`%
Left: `+(100*Math.max(this.h.left,0)).toFixed()+"%")}}}};function bi(e,i,r){e.g.get(i).push(r)}function Ei(e,i,r){(r=(e=e.g.get(i)).indexOf(r))!==-1&&e.splice(r,1)}function Nu(e,i){if(e.U&&Ou(e,i),e.h!==i){e.h=i;for(const r of e.g.get(0))r(i)}}function Nv(e,i){if(e.C!==i){e.C=i;for(const r of e.g.get(3))r(i)}}function Dv(e,i){if(e.s!==i){e.s=i;for(const r of e.g.get(4))r(i)}}function Ov(e,i){return e.T?.22>=i.level:e.Z?.2>=i.level:e.W?.1>=i.level:.33>=i.level}function Du(){var e,i;return Ud&&(e=et.enableComputePressure)!==null&&e!==void 0&&e&&((i=globalThis.PressureObserver)===null||i===void 0?void 0:i.prototype)&&PressureObserver.knownSources instanceof Array&&PressureObserver.knownSources.includes("cpu")}function Mv(e){switch(e){case"nominal":default:return 0;case"fair":return 1;case"serious":return 2;case"critical":return 3}}function Ou(e,i){if(e.v!==i){e.v=i;for(const r of e.g.get(1))r(i)}}var _y=class{constructor(e){var i,r,o,c;this.g=new Map,this.C=this.s=this.j=!1,this.o="nominal",this.U=e.deviceType==="PHONE"||e.deviceType==="TABLET",this.Z=ae(e),this.W=e.os==="iPadOS",this.T=Ce(e),this.h=this.v=document.hasFocus(),this.m=0;const d=(r=(i=(e=window.zoneless)==null?void 0:e.windowAddEventListener)===null||i===void 0?void 0:i.bind(window))!==null&&r!==void 0?r:window.addEventListener.bind(window),u=(c=(o=e==null?void 0:e.documentAddEventListener)===null||o===void 0?void 0:o.bind(document))!==null&&c!==void 0?c:document.addEventListener.bind(document);this.N=this.da.bind(this),this.I=this.aa.bind(this),this.O=this.F.bind(this),this.P=this.ea.bind(this),this.R=this.fa.bind(this),this.L=this.ca.bind(this),this.H=this.$.bind(this),this.M=this.S.bind(this),d("focus",this.N),d("blur",this.I),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(p=>u(p,this.O)),u("mouseenter",this.P),u("mouseleave",this.R),navigator.getBattery&&navigator.getBattery().then(p=>{Nv(this,!p.charging),Dv(this,Ov(this,p)),p.addEventListener("chargingchange",this.L),p.addEventListener("levelchange",this.H)}),window.screen.isExtended!==void 0&&(this.S(),window.screen.addEventListener("change",this.M)),Du()?(this.l=new PressureObserver(p=>{if(0<p.length){let m="nominal";for(const E of p)Mv(E.state)>Mv(m)&&(m=E.state);if(p=m,this.o!=p){this.o=p;for(const E of this.g.get(5))E()}}}),this.l.observe("cpu")):h.i("{0c4eeb2}","{c70b747}"),this.g.set(0,[]),this.g.set(2,[]),this.g.set(1,[]),this.g.set(3,[]),this.g.set(4,[]),this.g.set(5,[]),this.F()}uninitialize(){var e,i,r,o,c,d,u;const p=window.zoneless,m=(i=(e=p==null?void 0:p.windowRemoveEventListener)===null||e===void 0?void 0:e.bind(window))!==null&&i!==void 0?i:window.removeEventListener.bind(window),E=(o=(r=p==null?void 0:p.documentRemoveEventListener)===null||r===void 0?void 0:r.bind(document))!==null&&o!==void 0?o:document.removeEventListener.bind(document);m("focus",this.N),m("blur",this.I),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(T=>E(T,this.O)),E("mouseenter",this.P),E("mouseleave",this.R),navigator.getBattery&&navigator.getBattery().then(T=>{T.removeEventListener("chargingchange",this.L),T.removeEventListener("levelchange",this.H)}),window.screen.isExtended!==void 0&&window.screen.removeEventListener("change",this.M),(e=(c=this.l)===null||c===void 0?void 0:c.takeRecords())==null||e.map(T=>h.i("{0c4eeb2}","{4f27ba0}",JSON.stringify(T))),(d=this.l)===null||d===void 0||d.unobserve("cpu"),(u=this.l)===null||u===void 0||u.disconnect();for(const T of this.g.values())T.splice(0)}da(){Nu(this,!0)}aa(){Nu(this,!1)}F(){var e=window.document;if(e=!!(document.fullscreen||e.webkitIsFullScreen==1||e.mozFullScreen||e.msFullscreenElement),this.j!==e){this.j=e;for(const i of this.g.get(2))i(e)}}ea(){Ou(this,!0)}fa(){Ou(this,!1)}ca(){navigator.getBattery().then(e=>{Nv(this,!e.charging)})}$(){navigator.getBattery().then(e=>{Dv(this,Ov(this,e))})}S(){this.m=window.screen.isExtended?3:0,h.i("{0c4eeb2}","{ee99c72}",this.m)}};function Lv(e){return e.split(`
m=`).map((i,r)=>(0<r?"m="+i:i).trim()+`\r
`)}function Mu(e,i){return function(r){return r.trim().split(`
`).map(o=>o.trim())}(e).filter(r=>r.indexOf(i)===0)}function Fy(e){return{algorithm:(e=e.substr(14).split(" "))[0].toLowerCase(),value:e[1].toUpperCase()}}function _v(e,i,r,o){let c=e.split(`\r
`),d=-1;for(let u=0;u<c.length;u++)if(c[u].indexOf("m=video")===0){d=u;break}if(d===-1)return h.e("{93c7910}","{e0899ab}","video"),e;for(h.d("{93c7910}","{5cc346f}","video",d),d++,e=";x-google-max-bitrate="+r+";x-google-min-bitrate="+i+";x-google-start-bitrate="+o,i=new Set;d<c.length&&c[d].indexOf("m=")!==0;)(r=c[d]).indexOf("a=rtpmap:")===0&&0<r.indexOf("H264/")?i.add(r.slice(9,r.indexOf(" "))):r.indexOf("a=fmtp:")===0&&i.has(r.slice(7,r.indexOf(" ")))&&(c[d]+=e),d++;return c.join(`\r
`)}function Fv(e,i){var r,o,c,d;if(i.error&&e.C!==0){var u=e.G,p=(r=i.code)!==null&&r!==void 0?r:0;r=(c=(o=e.session)===null||o===void 0?void 0:o.signalConnectionInfo.ip)!==null&&c!==void 0?c:"",o=(d=i.reason)!==null&&d!==void 0?d:"",d=new Fs({retryCount:e.ta,sessionId:u.sessionId,subSessionId:u.subSessionId,serverId:r,url:e.M,overrideConfigType:xn.type,overrideConfigVersion:xn.version,disconnectionReason:o,cleanDisconnection:Vd(i.wasClean),networkType:jt(Ui.getCurrentNetworkType()),statusCode:p?p.toString():"",cmsId:String(u.cmsId),moduleName:"RAGNAROK"}),u.h(d),e.ta++,3>=e.ta?(Gv(e),Hv(e)):(window.clearTimeout(e.C),e.C=0,h.i("{93c7910}","{8595cb4}"),ds(e,{code:3237093890}))}i.wasClean||e.xa++}function Lu(e,i){var r;h.i("{93c7910}","{39024c3}",eo(JSON.stringify(i))),i.ackid&&e.maxReceivedAckId<i.ackid&&(e.maxReceivedAckId=i.ackid),i.peer_info?i.peer_info.name!==e.name&&e.id!==0||(e.id=i.peer_info.id,h.d("{93c7910}","{c5faf27}",e.id)):i.peer_msg?async function(o,c,d){var u;h.d("{93c7910}","{9978507}",c);try{const p=JSON.parse(d);if(p.type==="offer"){o.Sa=!0;let m,E=p.sdp||"";h.d("{93c7910}","{ca9a155}",eo(E));const T=await o.pc;if(o.W=function(g,D){g=g.split(`\r
`);var C=-1;if(!D.length)return"H264";for(var S=0;S<g.length;S++)if(g[S].startsWith("m=video")){C=S;break}if(C===-1)return h.e("{93c7910}","{3ab33e3}"),"H264";for(C+=1,S=new Set;C<g.length&&!g[C].startsWith("m=");){var U=g[C];U.indexOf("a=rtpmap:")===0&&((U=U.slice(U.indexOf(" ")+1,U.indexOf("/")))!=="H264"&&U!=="H265"&&U!=="AV1"||S.add(U)),C++}for(const H of D)if(S.has(H))return h.i("{93c7910}","{304c3b1}",H),H;return h.i("{93c7910}","{81357e4}"),"H264"}(E,T),p.nvstSdp){const g=(u=p.nvstServerOverrides)!==null&&u!==void 0?u:"";if(m=function(D,C,S){var U,H=D.v,B=D.u,W=D.W;if(C=function(at){let tt,nt,ct={origin:"",time:"",ob:new Map,media:[]},dt=new Map,Sn=!1;const Vt=()=>{if(Sn){if(!nt||!tt)return h.e("{eb7c2d0}","{adc37a7}"),!1;ct.media.push({mediaType:nt,Fc:tt,attributes:dt}),tt=nt=void 0}else ct.ob=dt,Sn=!0;return dt=new Map,!0};for(const rn of at.split(/\r?\n/))if(!(2>rn.length||rn[1]!=="=")){var ht=rn[0];if(at=rn.substr(2),ht=="m"){if(!Vt())return;nt=at.split(" ")[0]}else if(ht=="a"){if((ht=at.split(":",2)).length!==1){if(ht.length!==2)return void h.e("{eb7c2d0}","{f6bdb84}",at);if(at=ht[0],ht=ht[1],at==="msid"){if(tt!==void 0)return void h.e("{eb7c2d0}","{dc7fbec}",ht);tt=ht}else dt.set(at,ht)}}else if(ht=="t"){if(Sn)return void h.e("{eb7c2d0}","{14fc069}");ct.time=at}else if(ht=="o"){if(Sn)return void h.e("{eb7c2d0}","{eb0287a}");ct.origin=at}}if(Vt()){if(ct.time!==""&&ct.origin!=="")return ct;h.e("{eb7c2d0}","{8e7e486}")}}(C)){var _,z=C;const at={origin:z.origin,time:z.time,ob:new Map,media:[]};at.ob.set("general.clientSupportsIntraRefresh",B.browser==="Safari"?"0":"1"),at.ob.set("general.clientCapture",(_=z.ob.get("general.clientCapture"))!==null&&_!==void 0?_:"0"),at.ob.set("runtime.serverTraceCapture","2"),_=0;for(const tt of z.media){if(z=new Map,tt.mediaType==="video"&&_<H.video.length){var V=void 0,N=z,$=H.video[_],ne=B,ge=W;N.set("vqos.fec.rateDropWindow","10"),N.set("vqos.fec.minRequiredFecPackets","2"),N.set("vqos.drc.minRequiredBitrateCheckEnabled","1"),N.set("video.dx9EnableNv12","1"),N.set("vqos.qpg.enable","1"),N.set("vqos.resControl.qp.qpg.featureSetting","7"),N.set("bwe.useOwdCongestionControl","1"),N.set("video.enableRtpNack","1"),N.set("vqos.bw.txRxLag.minFeedbackTxDeltaMs","200"),N.set("vqos.fec.repairMinPercent","5"),N.set("vqos.fec.repairPercent","5"),N.set("vqos.fec.repairMaxPercent","35"),N.set("vqos.drc.bitrateIirFilterFactor","18"),N.set("video.packetSize","1140"),N.set("packetPacing.minNumPacketsPerGroup","15"),N.set("vqos.bllFec.enable","0");var ve=void 0,Me=oe(ne)||Ce(ne);((ve=et.enableOOFQosEnhancements)!==null&&ve!==void 0?ve:Me)&&(N.set("vqos.adjustStreamingFpsDuringOutOfFocus","1"),N.set("vqos.resControl.cpmRtc.ignoreOutOfFocusWindowState","1"),N.set("vqos.resControl.perfHistory.rtcIgnoreOutOfFocusWindowState","1")),Me=120<=$.hc;var Xe=$.hc===120,ue=$.hc===240,Oe=4953600<=$.Qb*$.Pb,je=Gd($.Qb,$.Pb)||Oe,xe=2764800<=$.Qb*$.Pb;if((ve=Lp(ne))&&N.set("vqos.resControl.cpmRtc.featureMask","3"),Me&&(N.set("bwe.iirFilterFactor","8"),N.set("video.encoderFeatureSetting","47"),N.set("video.encoderPreset","6"),N.set("vqos.resControl.cpmRtc.badNwSkipFramesCount"," 600"),N.set("vqos.resControl.cpmRtc.decodeTimeThresholdMs","9"),Xe?(N.set("video.fbcDynamicFpsGrabTimeoutMs","6"),N.set("vqos.resControl.cpmRtc.serverResolutionUpdateCoolDownCount","6000")):ue&&(N.set("video.fbcDynamicFpsGrabTimeoutMs","18"),N.set("vqos.resControl.cpmRtc.serverResolutionUpdateCoolDownCount","12000"),N.set("video.enableNextCaptureMode","1"),N.set("vqos.maxStreamFpsEstimate","240"),N.set("video.videoSplitEncodeStripsPerFrame","3"),N.set("video.updateSplitEncodeStateDynamically","1"))),(je||42e3<=$.Dc)&&(Xe?N.set("packetPacing.numGroups","3"):N.set("packetPacing.numGroups","5"),N.set("packetPacing.maxDelayUs","1000"),N.set("packetPacing.minNumPacketsFrame","10"),N.set("video.rtpNackQueueLength","1024"),N.set("video.rtpNackQueueMaxPackets","512"),N.set("video.rtpNackMaxPacketCount","25"),N.set("vqos.drc.qpMaxResThresholdAdj","4"),N.set("vqos.grc.qpMaxResThresholdAdj","4"),N.set("vqos.drc.iirFilterFactor","100"),N.set("vqos.qpg.enable","0"),N.set("vqos.resControl.qp.qpg.featureSetting","0"),je&&(N.set("video.videoSplitEncodeStripsPerFrame","3"),N.set("video.updateSplitEncodeStateDynamically","1")),Oe&&(N.set("video.encoderPreset","6"),N.set("vqos.drc.add1440pResLevelFor4kDrcTable","1"),N.set("vqos.drc.minAdaptiveQpThreshold","40"),N.set("vqos.grc.minAdaptiveQpThreshold","40"),N.set("vqos.drc.upperQpThreshold","40"),N.set("vqos.grc.upperQpThreshold","40"),N.set("vqos.drc.qpMaxResThresholdAdj","5"),N.set("vqos.grc.qpMaxResThresholdAdj","5"),N.set("vqos.drc.iirFilterFactor","100"),N.set("vqos.fec.repairMinPercent","0"),N.set("vqos.qpg.enable","0"),N.set("vqos.resControl.qp.qpg.featureSetting","0"))),ge==="AV1"){var ot,st,bt,hn,qn,Y,me,fe,Ie,Re=je=ue=Xe=void 0,Le=void 0,ze=void 0,Ne=N;Ne.set("vqos.qpg.enable","0"),Ne.set("vqos.resControl.qp.qpg.featureSetting","0"),Ne.set("vqos.drc.minQpHeadroom","20"),Ne.set("vqos.drc.lowerQpThreshold","100"),Ne.set("vqos.drc.upperQpThreshold","200"),Ne.set("vqos.drc.minAdaptiveQpThreshold","180");let nt=Number((Ie=Ne.get("vqos.drc.qpMaxResThresholdAdj"))!==null&&Ie!==void 0?Ie:"0");Ne.set("vqos.drc.qpMaxResThresholdAdj",(5*nt).toString()),Ne.set("vqos.drc.qpCodecThresholdAdj","0"),Ne.set("vqos.dfc.minQpHeadroom",(fe=Ne.get("vqos.drc.minQpHeadroom"))!==null&&fe!==void 0?fe:"0"),Ne.set("vqos.dfc.qpLowerLimit",(me=Ne.get("vqos.drc.lowerQpThreshold"))!==null&&me!==void 0?me:"0"),Ne.set("vqos.dfc.qpMaxUpperLimit",(Y=Ne.get("vqos.drc.upperQpThreshold"))!==null&&Y!==void 0?Y:"0"),Ne.set("vqos.dfc.qpMinUpperLimit",(qn=Ne.get("vqos.drc.minAdaptiveQpThreshold"))!==null&&qn!==void 0?qn:"0"),Ne.set("vqos.dfc.qpMaxResThresholdAdj",(hn=Ne.get("vqos.drc.qpMaxResThresholdAdj"))!==null&&hn!==void 0?hn:"0"),Ne.set("vqos.dfc.qpCodecThresholdAdj",(bt=Ne.get("vqos.drc.qpCodecThresholdAdj"))!==null&&bt!==void 0?bt:"0"),Oe&&(Ne.set("vqos.drc.minAdaptiveQpThreshold",(ze=Ne.get("vqos.drc.upperQpThreshold"))!==null&&ze!==void 0?ze:"0"),Ne.set("vqos.dfc.qpMinUpperLimit",(Le=Ne.get("vqos.dfc.qpMaxUpperLimit"))!==null&&Le!==void 0?Le:"0")),Ne.set("vqos.grc.minQpHeadroom",(st=Ne.get("vqos.drc.minQpHeadroom"))!==null&&st!==void 0?st:"0"),Ne.set("vqos.grc.lowerQpThreshold",(ot=Ne.get("vqos.drc.lowerQpThreshold"))!==null&&ot!==void 0?ot:"0"),Ne.set("vqos.grc.upperQpThreshold",(Re=Ne.get("vqos.drc.upperQpThreshold"))!==null&&Re!==void 0?Re:"0"),Ne.set("vqos.grc.minAdaptiveQpThreshold",(je=Ne.get("vqos.drc.minAdaptiveQpThreshold"))!==null&&je!==void 0?je:"0"),Ne.set("vqos.grc.qpMaxResThresholdAdj",(ue=Ne.get("vqos.drc.qpMaxResThresholdAdj"))!==null&&ue!==void 0?ue:"0"),Ne.set("vqos.grc.qpCodecThresholdAdj",(Xe=Ne.get("vqos.drc.qpCodecThresholdAdj"))!==null&&Xe!==void 0?Xe:"0"),xe&&Ne.set("video.videoSplitEncodeStripsPerFrame","23")}if(N.set("video.clientViewportWd",$.Qb.toString()),N.set("video.clientViewportHt",$.Pb.toString()),N.set("video.maxFPS",$.hc.toString()),N.set("video.initialBitrateKbps",$.Hd.toString()),N.set("video.initialPeakBitrateKbps",$.nf.toString()),N.set("vqos.bw.maximumBitrateKbps",$.Dc.toString()),N.set("vqos.bw.minimumBitrateKbps",$.gd.toString()),N.set("video.maxNumReferenceFrames","4"),N.set("video.mapRtpTimestampsToFrames",$.Cc?"1":"0"),ae()&&(N.set("vqos.drc.stepDownMinHeight","480"),Ke(ne,!1,14,5)||(ne=$.Qb/$.Pb*100,N.set("vqos.drc.stepDownResolutionAlignment","16"),N.set("vqos.drc.stepDownTargetAspectRatioX100",ne.toFixed(0)))),ne=N,xe=$.dynamicStreamingMode,(Me||xe===2)&&(xe!==1&&(ne.set("vqos.drc.enable","0"),ne.set("vqos.dfc.enable","1")),ne.set("vqos.dfc.decodeFpsAdjPercent","85"),ne.set("vqos.dfc.targetDownCooldownMs","250"),ne.set("vqos.dfc.dfcAlgoVersion","1"),ne.set("vqos.dfc.minTargetFps","60"),ve&&ne.set("vqos.cpm.flags","1"),ne.set("vqos.resControl.dfc.useClientFpsPerf","0")),xe!==void 0)switch(xe){case 3:$l(ne,!0,Me);break;case 2:$l(ne,!0,!0);break;case 1:$l(ne,!0,!1);break;case 0:$l(ne,!1,Me)}ve=3,ne=0,Me=8,ge!=="H265"&&ge!=="AV1"||(Me=(V=(ge=Xm)==null?void 0:ge.features.hdr)!==null&&V!==void 0&&V,V=$.Xc===1,Me&&V?(ve=4,ne=$.Xc,Me=Math.max(10,Math.min((ge==null?void 0:ge.features.bitDepth)||10,$.bitDepth))):Me=Math.max(8,Math.min((ge==null?void 0:ge.features.sdrBitDepth)||8,$.bitDepth))),N.set("video.encoderCscMode",ve.toString()),N.set("video.dynamicRangeMode",ne.toString()),N.set("video.bitDepth",Me.toString()),_++}tt.mediaType==="application"&&($=N=void 0,ge=tt,(V=z).set("ri.partialReliableThresholdMs",($=ge.attributes.get("ri.partialReliableThresholdMs"))!==null&&$!==void 0?$:"0"),V.set("ri.hidDeviceMask",(N=ge.attributes.get("ri.hidDeviceMask"))!==null&&N!==void 0?N:"0")),at.media.push({mediaType:tt.mediaType,Fc:tt.Fc,attributes:z})}var rt,mt;B=at,Eu(W=(mt=(rt=et.nvscClientConfigFields)===null||rt===void 0?void 0:rt.join(`
`))!==null&&mt!==void 0?mt:"",B,C,"remoteconfig"),Eu(S,B,C,"server"),S=Wt&&!Eu(yp,B,C,"client")?{error:3237093917}:function(tt,nt){let ct=!0;const dt=(Vt,ht)=>(Vt=Vt.get(ht))&&(Vt=parseInt(Vt),!Number.isNaN(Vt))?Vt:(h.e("{eb7c2d0}","{0a60213}",ht),ct=!1,0);tt.xd=dt(nt.ob,"general.clientCapture");let Sn=0;for(const Vt of nt.media){if(Vt.mediaType==="video"&&Sn<tt.video.length){nt=tt.video[Sn];const ht=Vt.attributes;nt.Qb=dt(ht,"video.clientViewportWd"),nt.Pb=dt(ht,"video.clientViewportHt"),nt.hc=dt(ht,"video.maxFPS"),nt.Hd=dt(ht,"video.initialBitrateKbps"),nt.nf=dt(ht,"video.initialPeakBitrateKbps"),nt.Dc=dt(ht,"vqos.bw.maximumBitrateKbps"),nt.gd=dt(ht,"vqos.bw.minimumBitrateKbps"),nt.Cc=0<dt(ht,"video.mapRtpTimestampsToFrames"),nt.Xc=dt(ht,"video.dynamicRangeMode"),nt.bitDepth=dt(ht,"video.bitDepth"),Sn++}Vt.mediaType==="application"&&(tt.Jc.Rd=dt(Vt.attributes,"ri.partialReliableThresholdMs"),tt.Jc.lf=dt(Vt.attributes,"ri.hidDeviceMask"))}return ct}(H,B)?{config:H,Te:Ey(B,C)}:{error:3237093918}}else S={error:3237093911};if(S.config&&S.Te)return D.v=S.config,S.Te;ds(D,{code:(U=S.error)!==null&&U!==void 0?U:3237093910})}(o,p.nvstSdp,g),!m)return}o.aa=new My(o.v,o.W),function(g,D){var C,S,U,H,B;h.d("{93c7910}","{d79ed0a}",D);try{let W={};et.enableStunServer&&(W.iceServers=[{urls:"stun:s1.stun.gamestream.nvidia.com:19308"}]),(C=g.aa)===null||C===void 0||C.g.xd&&(W.encodedInsertableStreams=!0),h.d("{93c7910}","{93106c2}",JSON.stringify(W)),g.ra=D,g.g=new RTCPeerConnection(W);const _=z=>{var V,N;if(g.U){var $=g.U;wt(g.G,"IceStats","disconnected",0,$.Mf,$.Nf,$.Lf),g.U=void 0}($=(V=g.h)===null||V===void 0?void 0:Cv(V))&&wt(g.G,"IceStats","failed",0,$.Mf,$.Nf,$.Lf),g.l|=16,4&g.l?g.h&&g.h.packetsReceived()==0?Xt(g,3237093900):g.h&&g.h.l==0?Xt(g,3237093901):Xt(g,z?3237093906:3237093899):Xt(g,(N=Uu(g))!==null&&N!==void 0?N:3237093894)};if(g.g.onconnectionstatechange=()=>{g.g?(h.d("{93c7910}","{4ced155}",g.g.connectionState),g.g.connectionState==="failed"&&(ju(g)||_(!1))):h.e("{93c7910}","{648f784}")},g.g.oniceconnectionstatechange=()=>{var z;if(g.g)switch(h.d("{93c7910}","{3a3143a}",g.g.iceConnectionState),g.g.iceConnectionState){case"new":g.l|=1;break;case"checking":g.l|=2;break;case"connected":g.U=void 0,32&g.l&&(g.I.emit("StreamingEvent",{streamingState:{state:"reconnected"}}),g.$a++),g.l|=4;break;case"completed":g.U=void 0,g.l|=12;break;case"failed":_(!0);break;case"disconnected":g.U=(z=g.h)===null||z===void 0?void 0:Cv(z),4&g.l&&g.I.emit("StreamingEvent",{streamingState:{state:"reconnecting"}}),g.l|=32;break;case"closed":g.l|=64,32&g.l&&Xt(g,3237093892)}else h.e("{93c7910}","{648f784}")},g.g.ondatachannel=z=>{h.d("{93c7910}","{b364db9}",z.channel.label),z.channel.label=="control_channel"&&(fa(g,z.channel,{errorCode:3237093898,open:()=>{var V,N,$,ne;g.S=z.channel;for(const ge of g.ea)Fu(g,ge);h.d("{93c7910}","{038895c}",g.ea.length),g.ea=[],Xl(g,`NvRtcClient Browser name: ${g.u.browser}, Browser version: ${g.u.browserFullVer}`),Mn(g,{etwPrintPair:{key:"GPU Detail",value:g.u.gpuDetail}}),Jv(g,(N=(V=g.h)===null||V===void 0?void 0:V.l)!==null&&N!==void 0?N:0),bi(g.j,0,g.P),bi(g.j,1,g.P),bi(g.j,2,g.P),navigator.getBattery&&(Yv(g,(ne=($=g.h)===null||$===void 0?void 0:$.l)!==null&&ne!==void 0?ne:0),bi(g.j,4,g.fa),bi(g.j,3,g.fa)),Du()&&(Xl(g,"ClientGenericMapping: {ProcCpuUsage, TotalCpuUsage}"),bi(g.j,5,g.Pa)),window.requestAnimationFrame(g.Ka)}}),z.channel.onmessage=V=>{try{var N=JSON.parse(V.data);if(h.d("{93c7910}","{9371373}"),N.exitMessage)Xt(g,function(ge){if(ge.stopData){var ve=function(Me){if(2>Me.length)return null;const Xe=atob(Me);let ue=0;const Oe=()=>{const je=256*Xe.charCodeAt(ue)+Xe.charCodeAt(ue+1);return ue+=2,je};return Oe()==0?Me.length<ue+2?null:Oe():null}(ge.stopData);if(ve||ve===0)return h.d("{c00be32}","{921626d}",ve),Sl(ve)}if(ge.nvstResult){switch(h.d("{c00be32}","{f30bc33}",ge.nvstResult),ve=15868672,ge=ge.nvstResult){case 2147680256:case 2147680291:ve=15868704;break;case 2147680257:ve=15868705;break;case 2147680258:ve=3237093635;break;case 2147680259:ve=3237094152;break;case 2147680260:ve=15868706;break;case 2147680262:ve=15868707;break;case 2147680263:ve=15868708;break;case 2147680264:ve=15868736;break;case 2147680265:ve=15868737;break;case 2147680266:ve=15868738;break;case 2147680267:ve=15868739;break;case 2147680268:ve=15868741;break;case 2147680269:ve=15868740;break;case 2147680270:ve=15868742;break;case 2147680271:ve=3237094147;break;case 2147680275:ve=15868743;break;case 2147680277:ve=15868709;break;case 2147680278:ve=15868744;break;case 2147680279:ve=15868710;break;case 2147680280:ve=15868711;break;case 2147680281:ve=15868712;break;case 2147680283:ve=3237094155;break;case 2147680284:ve=3237094156;break;case 2147680285:ve=3237094157;break;case 2147680286:ve=3237093678;break;case 2147680287:ve=15868715;break;case 2147680288:ve=15868716;break;case 2147680289:ve=15868719;break;case 2147680300:ve=15868688;break;case 2147745794:case 2147745797:case 2147745803:ve=3237093892;break;case 2147745796:ve=3237094158;break;case 2147745804:ve=3237094146;break;case 2147745805:ve=3237094148;break;case 2147745806:ve=3237094149;break;case 2147745807:ve=3237094150;break;case 2148438786:ve=15868718;break;default:h.d("{c00be32}","{094c45e}",ee(ge))}return ve}return ge.code?(h.d("{c00be32}","{6210ab0}",ge.code),Sl(ge.code)):15868672}(N.exitMessage));else if(N.timerNotification){var $=(V=N).timerNotification.code;switch(N=0,h.d("{c00be32}","{44bd2b6}",$),$){case 1:case 2:N=1;break;case 4:N=2;break;case 6:N=3}var ne=N;ne===0?h.e("{93c7910}","{de37ac5}",V.timerNotification.code):Bu(g,ne,V.timerNotification.secondsLeft)}else N.debugMessage?Bi(g,N.debugMessage.message):N.customMessage?g.I.emit("CustomMessage",JSON.parse(N.customMessage)):N.videoStreamProgressEvent?g.videoStreamProgress=N.videoStreamProgressEvent.videoStreamProgress:h.d("{93c7910}","{d14e0fd}")}catch(ge){h.e("{93c7910}","{a40734a}",ge),g.G.za(ge,"Error in control_channel message handling","{93c7910}.ts",0,0,!0)}})},h.d("{93c7910}","{d9ffda2}"),h.d("{93c7910}","{2bd4728}"),g.Ja=g.g.createDataChannel("input_channel_v1",{ordered:!0,reliable:!0}),g.Ja.binaryType="arraybuffer",fa(g,g.Ja,{errorCode:3237093896}),0<g.v.Jc.Rd){h.d("{93c7910}","{ff9ae1e}");let z={ordered:!1,maxPacketLifeTime:g.v.Jc.Rd};h.d("{93c7910}","{9149fff}",JSON.stringify(z)),g.Aa=g.g.createDataChannel("gamepad_channel_v1",z),g.Aa.binaryType="arraybuffer",fa(g,g.Aa,{errorCode:3237093929})}if(g.T=g.g.createDataChannel("cursor_channel",{ordered:!0,reliable:!0}),g.T.binaryType="arraybuffer",fa(g,g.T,{errorCode:3237093897}),function(z){var V;return((V=et.requireDS4TrackpadForAppIds)!==null&&V!==void 0?V:[]).indexOf(z)!==-1}(g.session.appId)&&function(z){ss(z),z.na=!0,Ws(z,!0)}(g.s),function(z,V){ss(z),z.Da=Ed||!!(4&V),z.bb=Cd||!!(2&V),Ws(z,!0)}(g.s,g.v.Jc.lf),g.m=new gy(g,g.K,g.Ja,g.T,g.G,g.I,g.Nb,g.appLaunchMode===2,g.nc,g.s,g.u,g.Ba,g.ga,g.j,g.V,g.Aa,g.textInputElement),g.oa&&(g.setKeyboardLayout(g.keyboardLayout),g.oa=!1),bl){h.d("{93c7910}","{9ae428b}");const z={zoneName:g.session.zoneName,clientAppVersion:(S=g.clientAppVersion)!==null&&S!==void 0?S:"",appId:g.session.appId,Ud:(U=g.Ud)!==null&&U!==void 0?U:"",gpuType:g.session.gpuType,streamInfo:(H=g.session.streamInfo[0])!==null&&H!==void 0?H:{width:0,height:0,fps:0},clientLocale:g.session.clientLocale};g.h=new Ny(g.I,g,g.K,g.g,g.v,g.G,g.u,z,g.j,g.V)}g.g.addEventListener("icecandidate",g.Ua),g.g.onsignalingstatechange=()=>{h.i("{93c7910}","{3236227}",g.g.signalingState)},g.g.onicecandidate=z=>qv(g,z),g.g.g=z=>{h.w("{93c7910}","{9871b05}",z.port,z.url,z.errorCode,z.Tg)},((B=_i)!==null&&B!==void 0?B:!Ae(g.u))&&g.Da.initialize(g.g,g.I,g.K,g.Ea),g.g.ontrack=z=>{var V;const N=z.streams[0];h.d("{93c7910}","{47359d4}",N.id,z.track.kind,z.track.id,z.streams.length,ee(g.l));let $={kind:z.track.kind==="video"?"video":"audio",trackId:z.track.id};z.track.kind!=="audio"||N.id!=="stream_id"&&N.id!=="app_media_stream"&&N.id!=="second_stream_id"&&N.id!=="app_audio_stream"||(g.qa=z.track.id,function(ne,ge){(ge=function(ve){let Me=null;return(ve=ve.getAudioTracks()).length&&(Me=ve[0]),Me}(ge))&&(ge.onunmute=()=>{ne.Na=!1})}(g,N),(V=g.R)===null||V===void 0||V.initialize(new MediaStream(N.getAudioTracks()))),(z=g.o.find(ne=>ne.streamId===N.id))?z.tracks.push($):g.o.push({streamId:N.id,tracks:[$]}),Gu(g)}}catch(W){h.e("{93c7910}","{ff11182}",W),g.G.za(W,"Exception in creating peer connection","{93c7910}.ts",0,0,!0)}}(o,c);let x=Date.now();E=function(g,D){return D.split(`\r
`).map(C=>C.startsWith("a=candidate:")?(g.na=!0,"a="+Xv(g,C.substr(2))):C).join(`\r
`)}(o,E),E=function(g,D,C,S){let U=g.split(`\r
`),H=-1;for(var B=0;B<U.length;B++)if(U[B].startsWith("m=video")){H=B;break}if(H===-1)return h.e("{93c7910}","{3ab33e3}"),g;for(H++,B=H;B<U.length;B++)if(U[B].startsWith("a=imageattr"))return h.d("{93c7910}","{b38bf22}"),g;for(g=new Set;H<U.length&&!U[H].startsWith("m=");)B=U[H],/a=rtpmap:.*H26[45]\//.test(B)?g.add(B.slice(9,B.indexOf(" "))):B.indexOf("a=fmtp:")===0&&(B=B.slice(7,B.indexOf(" ")),g.has(B)&&(H++,U.splice(H,0,`a=imageattr:${B} send [x=[960:${D}],y=[540:${C}],fps=[30:${S}]]`))),H++;return U.join(`\r
`)}(E,o.v.video[0].Qb,o.v.video[0].Pb,o.v.video[0].hc),h.d("{93c7910}","{542f9d5}",eo(E)),o.g.setRemoteDescription({type:p.type,sdp:E}).then(()=>{o.wa=Date.now()-x,function(D){let C=D.g.getTransceivers();if(C.length===0)h.d("{93c7910}","{3399d9d}"),ds(D,{code:3237093909});else{for(const S of C)S.mid==="3"&&S.receiver.track.id!==D.qa?(h.i("{93c7910}","{981392f}"),S.receiver.track.enabled=!1):D.$.push({trackId:S.receiver.track.id,kind:S.receiver.track.kind});h.d("{93c7910}","{648ae93}",JSON.stringify(D.$))}}(o),h.d("{93c7910}","{ab7b3af}",o.wa),function(D){for(const C of D.o)C.streamId==="stream_id"&&D.o.length===2?C.streamId="app_video_stream":C.streamId==="stream_id"?C.streamId="app_media_stream":C.streamId==="second_stream_id"&&(C.streamId="app_audio_stream")}(o);const g=function(D){var C=D.o.find(U=>U.streamId==="app_media_stream");if(C)Zl(D,C,D.K),h.i("{93c7910}","{a5e354c}");else{C=D.o.find(U=>U.streamId==="app_video_stream");var S=D.o.find(U=>U.streamId==="app_audio_stream");if(C&&S){const U={streamId:"app_media_stream",tracks:C.tracks.concat(S.tracks)};D.o.splice(D.o.indexOf(C),1),D.o.splice(D.o.indexOf(S),1),D.o.push(U),Zl(D,U,D.K),h.i("{93c7910}","{e2dc4ec}")}else if(C)Zl(D,C,D.K),h.i("{93c7910}","{07f3411}");else if(S){if(!D.Ea)return 3237093937;Zl(D,S,D.Ea),h.i("{93c7910}","{243a50b}")}else h.w("{93c7910}","{c3a2679}")}}(o);g?Xt(o,g):(function(D){var C;(C=D.aa)===null||C===void 0||C.start(D.g)}(o),function(D){try{if(D.g&&D.sendVideoTrack){const C=D.g.getTransceivers().find(S=>S.receiver.track.kind==="video");if(C){let S="",U=C.direction;C.direction!=="sendrecv"&&(C.direction="sendrecv",S=" ("+U+" direction is overridden by sendrecv)"),C.sender.replaceTrack(D.sendVideoTrack).then(()=>{h.i("{93c7910}","{b54f651}",S)}).catch(H=>{C.direction!==U&&(C.direction=U),h.w("{93c7910}","{d225159}",H)})}else h.w("{93c7910}","{8272b59}")}}catch(C){h.w("{93c7910}","{66082ec}",C)}}(o),function(D,C){var S,U,H;const B=D.g.getTransceivers().find(_=>_.receiver.track.kind==="video"&&(_.direction==="recvonly"||_.direction==="sendrecv"));if(B)if(RTCRtpReceiver.getCapabilities&&RTCRtpSender.getCapabilities&&B.setCodecPreferences){var W=[C,"flexfec-03","rtx"];if(C=(S=RTCRtpReceiver.getCapabilities("video"))===null||S===void 0?void 0:S.codecs,S=[],C){for(const _ of W)(W=C.filter(z=>z.mimeType==="video/"+_))&&S.push.apply(S,W);try{B.setCodecPreferences(S)}catch(_){Kv(D,"Failed to set codec preferences to receiver capabilities",_);try{S=S.concat((H=(U=RTCRtpSender.getCapabilities("video"))===null||U===void 0?void 0:U.codecs)!==null&&H!==void 0?H:[]),B.setCodecPreferences(S)}catch(z){Kv(D,"Failed to set codec preferences to sender and receiver capabilities",z)}}}}else h.w("{93c7910}","{274c489}")}(o,o.W),x=Date.now(),o.g.createAnswer().then(D=>{var C;o.ua=Date.now()-x,h.d("{93c7910}","{2984003}",o.ua);const S=o.v.video[0].Dc.toString(),U=o.v.video[0].gd.toString(),H=o.v.video[0].Hd.toString();h.d("{93c7910}","{b535c15}",eo(Vu((C=D.sdp)!==null&&C!==void 0?C:""))),D.sdp!==void 0&&(D.sdp=function(B,W){let _=B.split(`\r
`),z=-1;for(let V=0;V<_.length;V++)if(_[V].indexOf("m=video")===0){z=V;break}if(z===-1)return h.e("{93c7910}","{e0899ab}","video"),B;for(h.d("{93c7910}","{5cc346f}","video",z),z++;_[z].indexOf("i=")===0||_[z].indexOf("c=")===0;)z++;return _[z].indexOf("b")===0?(h.d("{93c7910}","{e77177e}",z),_[z]="b=AS:"+W,_.join(`\r
`)):(h.d("{93c7910}","{3dfc348}",z),(B=_.slice(0,z)).push("b=AS:"+W),(B=B.concat(_.slice(z,_.length))).join(`\r
`))}(D.sdp,S),window.chrome&&(D.sdp=_v(D.sdp,U,S,H)),D.sdp=function(B){var W=[];let _=B.split(`\r
`);var z="-1";let V;for(let N=0;N<_.length;N++)_[N].indexOf("a=rtpmap:")===0?(V=_[N].split(" ")[1],V.indexOf("opus")===0&&(z=_[N].split(" ")[0].slice(9),h.i("{93c7910}","{c3dd71b}","audio",z))):_[N].indexOf("a=fmtp:"+z+" ")===0&&(W.push(N),z="-1");if(W.length===0)return h.e("{93c7910}","{115f256}","audio"),B;B=-1,z=[];for(const N of W)W=_[N],h.d("{93c7910}","{9bb0e6f}",W),W+=";stereo=1",h.d("{93c7910}","{4f021eb}",W),(z=z.concat(_.slice(B+1,N))).push(W),B=N;return(z=z.concat(_.slice(B+1))).join(`\r
`)}(D.sdp),(C=function(B){B=B.split(`\r
`);for(var W=-1,_=0;_<B.length;_++)if(B[_].indexOf("m=audio")===0){W=_;break}if(W===-1)h.d("{93c7910}","{a939549}","audio");else{for(var z=_=void 0,V=void 0,N=void 0,$=W+1;$<B.length;$++)if(B[$].indexOf("a=rtpmap:")===0){var ne=B[$].split(" ")[1];ne.indexOf("red")===0?(z=B[$].split(" ")[0].slice(9),N=ne.split("/")[2],h.i("{93c7910}","{4e6ce55}","audio",z,N)):ne.indexOf("multiopus")===0&&(_=B[$].split(" ")[0].slice(9),V=ne.split("/")[2],h.i("{93c7910}","{53ebbb1}","audio",_,V))}else if(B[$].indexOf("m=")===0){h.d("{93c7910}","{9fc6964}",B[$]);break}if(_){for(ne=[],$=[],W+=1;W<B.length;W++)if(B[W].indexOf("a=rtpmap:"+z)===0||B[W].indexOf("a=rtcp-fb:"+z)===0||B[W].indexOf("a=fmtp:"+z)===0)$.push(B[W]);else if(B[W].indexOf("a=rtpmap:"+_)===0||B[W].indexOf("a=rtcp-fb:"+_)===0||B[W].indexOf("a=fmtp:"+_)===0)ne.push(B[W]);else if(B[W].indexOf("m=")===0){h.d("{93c7910}","{9fc6964}",B[W]);break}return N&&N!==V&&(z=void 0,$=[],h.w("{93c7910}","{ad53601}",N,V)),{Cd:z,ff:_,Ig:$.join(`\r
`),Hg:ne.join(`\r
`)}}h.d("{93c7910}","{cf4ee2d}","audio")}}(E))&&(D.sdp=function(B,W){let _=B.split(`\r
`),z=-1,V=-1;for(var N=0;N<_.length;N++)if(_[N].indexOf("m=audio")===0){z=N;break}if(z===-1)return h.d("{93c7910}","{e0899ab}","audio"),B;N=_.slice(0,z);let $=_[z].split(" ");if($[3]!=="0")return h.d("{93c7910}","{794b3c6}","audio",$.join(" ")),B;for(W.Cd?($[3]=W.Cd,$[4]=W.ff):$[3]=W.ff,N.push($.join(" ")),B=z+1;B<_.length;B++)if(_[B].indexOf("m=")===0){V=B;break}return V===-1&&(V=_.length-1),N=N.concat(_.slice(z+1,V)),W.Cd&&(N=N.concat(W.Ig.split(`\r
`))),(N=(N=N.concat(W.Hg.split(`\r
`))).concat(_.slice(V))).join(`\r
`)}(D.sdp,C)),h.d("{93c7910}","{1a048a7}",eo(Vu(D.sdp)))),x=Date.now(),o.g.setLocalDescription(D).then(()=>{if(o.va=Date.now()-x,h.d("{93c7910}","{de86c01}",o.va),D.sdp===void 0||window.chrome||(D.sdp=_v(D.sdp,U,S,H)),D.sdp!==void 0&&m){var B=Lv(D.sdp),W=B.shift(),_=B[0],z=W,V=Mu(_+z,"a=ice-ufrag:")[0];_=Mu(_+z,"a=ice-pwd:")[0],V=V.substr(12),_=_.substr(10),B=Mu(B[0]+W,"a=fingerprint:").map(Fy),(W=Lv(m))[0]+="a=general.icePassword:"+_+`\r
`,W[0]+="a=general.iceUserNameFragment:"+V+`\r
`,W[0]+="a=general.dtlsFingerprint:"+B[0].value+`\r
`,m=W.join("")}Qv(o,c,{type:D.type,sdp:D.sdp,nvstSdp:m}),h.i("{93c7910}","{bd70666}",JSON.stringify(o.o)),Gu(o)}).catch(B=>{h.e("{93c7910}","{ba2deaa}",B),Xt(o,3237093902)})}).catch(D=>{h.d("{93c7910}","{40c0f69}",D)}))}).catch(g=>{h.e("{93c7910}","{ec2853e}",g),Xt(o,3237093902)})}else if(p.candidate){h.d("{93c7910}","{cf4c103}");let m=Xv(o,p.candidate);h.d("{93c7910}","{43e80e0}",m),o.g.addIceCandidate({sdpMLineIndex:p.sdpMLineIndex,sdpMid:p.sdpMid,candidate:m}).then(()=>{h.d("{93c7910}","{db0ae14}"),o.na=!0}).catch(E=>{h.e("{93c7910}","{62f207e}",E),Kt(o.G,"AddCandidateFailed",E==null?void 0:E.name,E==null?void 0:E.message)}),h.d("{93c7910}","{9454009}")}}catch(p){d==="BYE"?Xt(o,15868672):(h.e("{93c7910}","{93367fc}",p),o.G.za(p,"Invalid handlePeerMessage Response","{93c7910}.ts",0,0,!0))}}(e,i.peer_msg.from,i.peer_msg.msg):i.error&&(i.error==="peerRemoved"?(e.F!==0?(i=(r=Uu(e))!==null&&r!==void 0?r:3237094161,h.w("{93c7910}","{cbb35d3}")):i=3237094159,Xt(e,i)):Xt(e,3237094160))}function Uv(e){e.C!==0&&(window.clearTimeout(e.C),e.C=0,e.bb=Date.now()-e.cb),e.H||e.F!==0||function(i){i.F=window.setTimeout(()=>{var r;i.F=0,h.i("{93c7910}","{d22df91}"),Xt(i,(r=Uu(i))!==null&&r!==void 0?r:3237093895)},3e4),i.Bb=Date.now()}(e)}function jv(e,i){var r,o=yt;o.h&&(o.perf.DCSend+=i),(r=e.h)===null||r===void 0||((e=r.g).j.value+=i,e.j.count+=1,e.j.max=Math.max(i,e.j.max))}function _u(e){if(Ys(e))return e.h.S}function Bi(e,i){e.da.innerHTML=i,e.da.style.display="block",e.N&&clearTimeout(e.N),e.N=window.setTimeout(()=>{e.da.style.display="none"},1e3)}function fa(e,i,r){const o=i.label;let c=!1;i.onopen=()=>{var d;h.d("{93c7910}","{8e9ee5d}",o),(d=r.open)===null||d===void 0||d.call(r),r.errorCode&&Gu(e)},i.onclosing=()=>{h.d("{93c7910}","{d0c8ae7}",o),c=!0},i.onclose=()=>{var d;h.d("{93c7910}","{a3c9826}",o),(d=r.close)===null||d===void 0||d.call(r),r.errorCode&&ju(e)},i.onerror=d=>{if(h.e("{93c7910}","{fcd64bb}",o),c&&r.errorCode)ju(e)||Xt(e,15867907);else{var u=i.bufferedAmount;d=d==null?void 0:d.error,e.Z||Kt(e.G,"ChannelError",o,d==null?void 0:d.name,d==null?void 0:d.message,u==null?void 0:u.toString()),h.e("{93c7910}","{db7ae96}",o,d==null?void 0:d.name,d==null?void 0:d.message),r.errorCode&&Xt(e,r.errorCode)}}}function Xl(e,i){Mn(e,{etwPrint:i})}function Bv(){h.d("{93c7910}","{440d709}",yt.j,performance.timeOrigin)}function Gv(e){var i=1;for(let r=1;10>r;r++)i*=10;i=(i=""+Math.floor(Math.random()*i)).padEnd(10,"0"),e.name="peer-"+i,h.d("{93c7910}","{f2b789d}",e.name),e.M=e.L+"/sign_in?peer_id="+e.name+"&version=2",e.signalingUrlQueryParameters&&(e.M+="&"+e.signalingUrlQueryParameters),h.d("{93c7910}","{05b8afd}",e.M)}function ds(e,i){var r,o,c,d;e.H||(e.lb=Date.now()-e.Bb,i===void 0?Id||((d=e.O)===null||d===void 0||d.uninitialize(4001),e.O=void 0,yt.startWebSocket(e.M,e.maxReceivedAckId,e,!0),El&&$v(e)):function(u){var p,m,E,T,x,g,D,C,S;const U=V=>{var N,$;return((N=V==null?void 0:V.get("TCP"))!==null&&N!==void 0?N:0)+(($=V==null?void 0:V.get("IPV6"))!==null&&$!==void 0?$:0)};var H=(V,N)=>{let $=0;if(N){V=`${V} local candidates:`;for(const[ne,ge]of N)$+=ge,V+=` ${N=ne}: ${ge}`;h.i("{93c7910}","{0b0c6f9}",V)}return $};const B=(p=u.h)===null||p===void 0?void 0:function(V){let N=new Av;if(!V.j)return N;for(const $ of V.j.values())$.type==="local-candidate"&&(V=Yl($),N.set(V,N.get(V)+1));return N}(p);p=H("event",u.ca);const W=H("stats",B);H=p-u.Ta;let _="";const z=(m=u.g)===null||m===void 0?void 0:m.getReceivers().find(V=>V.track.kind==="video"&&V.track.enabled);(m=(g=(x=(T=(E=z==null?void 0:z.Yg)===null||E===void 0?void 0:E.Ug)===null||T===void 0?void 0:T.getSelectedCandidatePair)===null||x===void 0?void 0:x.call(T))===null||g===void 0?void 0:g.local)&&(_=`category: ${Yl(m)}, type: ${m.type}`),wt(u.G,"LocalCandidatesCategories",_,p,p-U(u.ca),W,W-U(B)),E=(C=(D=u.h)===null||D===void 0?void 0:function(V){let N=new Set;if(!V.j)return N;for(const $ of V.j.values())$.type==="local-candidate"&&Yl(V=$)==="IPV4"&&(V=Tv(V))!=="UNKNOWN"&&N.add(V);return N}(D))!==null&&C!==void 0?C:new Set,wt(u.G,"LocalCandidateRanges",`${(S=u.g)===null||S===void 0?void 0:S.iceGatheringState}`,H,E==null?void 0:E.size,u.ka.size,new Set([...E,...u.ka]).size)}(e),e.H=!0,e.F!==0&&(window.clearTimeout(e.F),e.F=0),i={sessionId:e.session.sessionId,subSessionId:e.session.subSessionId,streams:e.o,streamInfo:e.session.streamInfo,error:i,zoneName:e.session.zoneName,zoneAddress:e.session.zoneAddress,gpuType:e.session.gpuType,isResume:(r=e.isResume)!==null&&r!==void 0&&r,bitDepth:(c=(o=e.h)===null||o===void 0?void 0:o.bitDepth)!==null&&c!==void 0?c:8},e.Ba.Gc(i),e.ga.send())}function Fu(e,i){var r;try{if(((r=e.S)===null||r===void 0?void 0:r.readyState)==="open"){let o=performance.now();e.S.send(JSON.stringify(i)),jv(e,performance.now()-o)}else h.w("{93c7910}","{593db1b}")}catch(o){h.e("{93c7910}","{a585a6e}",o),e.G.za(o,"sendControlMessage exception","{93c7910}.ts",0,0,!0)}}function Vv(e){e.m&&(e.m.uninitialize(),e.m=void 0)}function zv(e){var i;(i=e.h)===null||i===void 0||i.stop()}function Uu(e){var i;const r=Wv(e);let o;switch(e.videoStreamProgress){case 0:case 2:break;case 3:o=3237093922;break;case 5:o=3237093923;break;case 7:o=3237093924;break;default:o=3237093925}if((i=e.h)===null||i===void 0)var c=void 0;else e:{if(i.j){var d=c=0,u=0,p=0;for(const m of i.j.values())m.type==="candidate-pair"&&(c+=(i=m).requestsSent+i.consentRequestsSent,d+=i.responsesReceived,i.Vg&&u++,i.state==="succeeded"&&p++);if(h.i("{5cea617}","{47c0ce7}",c,d),0<c&&d===0){c=3237093926;break e}if(!u){c=3237093927;break e}if(!p){c=3237093928;break e}}c=void 0}return e.id?e.Sa?r!==15859712?o=r:e.na?e.Qa?c?o=c:4&e.l&&(nr(e.Ja)==="connecting"?o=3237093919:nr(e.T)==="connecting"?o=3237093920:nr(e.S)==="connecting"?o=3237093921:e.Aa&&nr(e.Aa)==="connecting"&&(o=3237093936)):o=3237093903:o=3237093904:o=3237093913:o=3237093912,o}function Xt(e,i){var r;if(!e.Z){if(e.Z=!0,Vv(e),zv(e),e.H){let o={sessionId:e.session.sessionId,subSessionId:e.session.subSessionId,error:{code:i},zoneName:e.session.zoneName,zoneAddress:e.session.zoneAddress};Kt(e.G,"SignalingState",ee(i),(r=e.g)===null||r===void 0?void 0:r.signalingState),h.i("{93c7910}","{89d3ea6}",e.g.signalingState),e.Ba.Cf(o)}else ds(e,{code:i});h.e("{93c7910}","{573fb24}",ee(i))}}function Hv(e){e.O=new Dy(e.session.sessionId,{info:e.vc.bind(e),exception:e.uc.bind(e)}),e.O.initialize(e.M,e.maxReceivedAckId,e)}function Wv(e){const i=e.o.flatMap(r=>r.tracks);for(const r of e.$)if(!i.find(o=>o.trackId===r.trackId))return r.kind==="audio"?3237093914:3237093905;return h.d("{93c7910}","{4fef10b}"),i.length>e.$.length&&h.w("{93c7910}","{7861bb3}"),15859712}function ju(e){let i=!1;return window.chrome&&e.g.signalingState==="closed"&&(i=!0,Xt(e,15867908)),i}function Zl(e,i,r){e=e.g.getTransceivers().map(o=>o.receiver.track),e=new MediaStream(e.filter(o=>i.tracks.find(c=>c.trackId===o.id))),r.srcObject=e}function Kv(e,i,r){h.w("{93c7910}","{4d3c418}",i,r),e.G.za(r,i,"{93c7910}.ts",0,0,!0)}function $v(e){var i={stats:{from:e.id,to:e.ra}},r=yt;r.h=!1,i={startStats:{statsHeader:i}},r.g&&(h.d("{1f5ec29}","{6897d5e}"),r.g.postMessage(i)),e.pa=!0}function Mn(e,i){nr(e.S)==="connecting"?e.ea.push(i):Fu(e,i)}function Bu(e,i,r){var o;i===2&&((o=e.m)===null||o===void 0||uu(o,!0)),h.d("{93c7910}","{5ba6173}",i,r),e.I.emit("StreamingEvent",{streamingWarnings:{code:i,secondsLeft:r}})}function qv(e,i,r){i.candidate?(r||(r=Yl(i.candidate),e.ca.set(r,e.ca.get(r)+1),r==="IPV4"&&(r=Tv(i.candidate))!=="UNKNOWN"&&e.ka.add(r)),i.candidate.protocol==="tcp"?h.d("{93c7910}","{6f19d1e}"):(h.d("{93c7910}","{ac052fa}",i.candidate.port,i.candidate.protocol),Qv(e,e.ra,{sdpMLineIndex:i.candidate.sdpMLineIndex,sdpMid:i.candidate.sdpMid,candidate:i.candidate.candidate}),e.Qa=!0)):h.d("{93c7910}","{a759d16}")}function Qv(e,i,r){const o=JSON.stringify(r);r={peer_msg:{from:e.id,to:i,msg:o},ackid:e.ya.g++},h.d("{93c7910}","{7ecb902}",i,o.length,eo(Vu(JSON.stringify(r)))),e.O?e.O.send(r):(e=yt).g&&e.g.postMessage({send:r})}function Jv(e,i){let r=0;e.j.h&&(r|=2),e.j.v&&(r|=1),e.j.j&&(r|=16);const o={windowState:{streamIndex:0,frameNumber:i,windowStateFlags:r}};h.i("{93c7910}","{ca317d5}",r.toString(16),i),Mn(e,o)}function Yv(e,i){let r=0;e.j.s&&(r|=4),e.j.C&&(r|=1);const o={systemState:{streamIndex:0,frameNumber:i,systemStateFlags:r}};h.i("{93c7910}","{455ccc0}",r.toString(16),i),Mn(e,o)}function Gu(e){0<e.$.length&&nr(e.S)!=="connecting"&&nr(e.T)!=="connecting"&&nr(e.Ja)!=="connecting"&&(!e.Aa||nr(e.Aa)!=="connecting")&&Wv(e)===15859712&&ds(e)}function Xv(e,i){return h.d("{93c7910}","{2dd62a2}"),(e=e.session.mediaConnectionInfo.find(r=>r.usage===2||r.usage===17))?((i=i.split(" "))[4]=e.ip,i[5]=""+e.port,i=i.join(" "),h.d("{93c7910}","{1fbcd88}",i),i):(h.d("{93c7910}","{aee7283}"),i)}function Ys(e){return!(!e.h||e.h.m==0)}function Zv(e){var i;(i=e.h)===null||i===void 0||i.m!=0&&(i.reset(),Pu(i,!1))}function eg(e){var i;(i=e.h)===null||i===void 0||i.m!=0||Sv(i)}function Xs(e){return e.h?e.h.l:0}function Zs(e){var i;let r=(i=e.h)===null||i===void 0?void 0:i.N;return r!==void 0&&r!=="UNKNOWN"||(r=e.W),r}var tg=class{constructor(e,i,r,o,c,d,u,p,m,E,T,x,g,D,C,S,U,H,B){var W,_;let z;this.signalingUrlQueryParameters=B,this.name="",this.id=0,this.v={video:[],xd:0,Jc:{Rd:0,lf:0}},this.ra=-1,this.H=this.Z=!1,this.F=this.N=this.l=0,this.pa=!1,this.C=this.xa=0,this.na=this.Qa=this.Sa=!1,this.Na=!0,this.stutterIndicator=this.perfIndicator=!1,this.sa=0,this.$=[],this.o=[],this.M="",this.ta=0,this.ya=new class{constructor(){this.g=1}},this.cb=this.ua=this.va=this.wa=0,this.Bb=Date.now(),this.$a=this.lb=this.bb=0,this.oa=!1,this.keyboardLayout="",this.videoStreamProgress=this.maxReceivedAckId=0,this.ea=[],this.qa="",this.P=this.tc.bind(this),this.fa=this.sc.bind(this),this.Pa=this.rc.bind(this),this.Ta=0,this.ca=new Av,this.Ua=this.qc.bind(this),this.ka=new Set,this.W="UNKNOWN",this.u=m,this.K=i,this.Ea=r,this.Da=o,this.I=e,h.d("{93c7910}","{e1ca54d}",JSON.stringify(E)),E.finalizedStreamingFeatures||h.w("{93c7910}","{6f17ef5}"),this.session=E,zs?(z=zs,h.d("{93c7910}","{55e5b30}",z)):T!=null&&T.maxBitrateKbps&&(z=T==null?void 0:T.maxBitrateKbps,h.d("{93c7910}","{965049f}",z)),U===void 0&&(T==null?void 0:T.drc)!==void 0&&(U=T.drc?3:0);for(const $ of E.streamInfo){if(z!=null)var V=z;else r=Kl($.width,$.height,$.fps)[0],h.d("{93c7910}","{aff4184}",r),V=r;o=(r=this.v.video).push,B=void 0;var N=V;V=E.finalizedStreamingFeatures,N=Math.max(4e3,N);const ne=Math.max(4e3,Math.round(N/4));N={Qb:$.width,Pb:$.height,hc:$.fps,dynamicStreamingMode:U,Dc:N,Hd:ne,nf:ne,Cc:!0,gd:4e3,Xc:Cy((B=$.sdrHdrMode)!==null&&B!==void 0?B:0),bitDepth:oy(V)},o.call(r,N)}if(this.pc=ev((W=this.session.streamInfo[0])!==null&&W!==void 0?W:{width:0,height:0,fps:0},this.u),async function(){let $=2;var ne="minptime=10;useinbandfec=1;channel_mapping=0,4,1,2,3,5;num_streams=4;coupled_streams=2";const ge=Up(6,`v=0
o=- 0 3 IN IP4 127.0.0.1
s=-
t=0 0
a=fingerprint:sha-256 A7:24:72:CA:6E:02:55:39:BA:66:DF:6E:CC:4C:D8:B0:1A:BF:1A:56:65:7D:F4:03:AD:7E:77:43:2A:29:EC:93
m=audio 9 UDP/TLS/RTP/SAVPF 100 101
c=IN IP4 0.0.0.0
a=rtcp-mux
a=sendonly
a=mid:audio
a=setup:actpass
a=ice-ufrag:ETEn
a=ice-pwd:OtSK0WpNtpUjkY4+86js7Z/l\r
a=rtpmap:100 multiopus/48000/6\r
a=fmtp:100 `+ne+`\r
a=rtpmap:101 opus/48000/2
a=fmtp:101 minptime=10;useinbandfec=1
`,ne);ne=Up(8,`v=0
o=- 0 3 IN IP4 127.0.0.1
s=-
t=0 0
a=fingerprint:sha-256 A7:24:72:CA:6E:02:55:39:BA:66:DF:6E:CC:4C:D8:B0:1A:BF:1A:56:65:7D:F4:03:AD:7E:77:43:2A:29:EC:93
m=audio 9 UDP/TLS/RTP/SAVPF 100 101
c=IN IP4 0.0.0.0
a=rtcp-mux
a=sendonly
a=mid:audio
a=setup:actpass
a=ice-ufrag:ETEn
a=ice-pwd:OtSK0WpNtpUjkY4+86js7Z/l\r
a=rtpmap:100 multiopus/48000/8\r
a=fmtp:100 `+(ne="minptime=10;useinbandfec=1;channel_mapping=0,6,1,2,3,4,5,7;num_streams=5;coupled_streams=3")+`\r
a=rtpmap:101 opus/48000/2
a=fmtp:101 minptime=10;useinbandfec=1
`,ne),await Promise.all([ge,ne]).then(ve=>{$=Math.max(Number(ve[0]),Number(ve[1]))}),h.i("{d988e7f}","{dc7ee29}",$)}(),this.G=p,p=E.appId,(U=et.disableUnadjustedMovementForAppIds)&&U.indexOf(p)!==-1?(h.i("{d988e7f}","{265cfdc}",p),p=!1):p=Ko,this.Nb={unadjustedMovement:p,...c},this.Ba=e,this.nc=d,this.s=u,this.R=x,this.textInputElement=g,this.appLaunchMode=E.appLaunchMode,this.clientAppVersion=D,this.isResume=C,this.Ud=S,H){for(const $ of H)if($.track instanceof MediaStreamTrack&&$.track.kind==="video"){this.sendVideoTrack=$.track;break}}this.sendVideoTrack=(_=this.sendVideoTrack)!==null&&_!==void 0?_:T==null?void 0:T.sendVideoTrack,e=(e=this.session.signalConnectionInfo.protocol).replace("http","ws"),this.L=e+"://"+this.session.signalConnectionInfo.ip+":"+this.session.signalConnectionInfo.port,(e=this.session.signalConnectionInfo.resourcePath)&&(this.L+=(e.charAt(0)==="/"?"":"/")+e,this.L.charAt(this.L.length-1)==="/"&&(this.L=this.L.slice(0,-1))),yt.initialize(this.session.sessionId,this.G,this.ya),this.ga=new Ly(this,i,this.u,this.G),this.j=new _y(m),(i=document.createElement("div")).style.position="absolute",i.style.zIndex="300",i.style.left="0",i.style.top="0",i.style.width="100%",i.style.display="none",i.style.fontSize="3em",i.style.color="white",i.style.backgroundColor="gray",i.style.textAlign="center",this.K.insertAdjacentElement("afterend",i),this.da=i,this.ab={$b:32768,ic:256,jc:255,mb:this.ja.bind(this)},this.Va={$b:16384,ic:512,jc:65280,mb:this.Cb.bind(this)},this.Oa={$b:16384,ic:512,jc:255,mb:this.Qc.bind(this)},this.Za={$b:8192,ic:256,jc:255,mb:this.toggleOnScreenStats.bind(this)},this.V={vd:0,Ue:0,Sc:0,ld:0,nd:0,md:0,Wd:0,hd:0,Rc:0,jd:0},this.Ka=this.oc.bind(this)}start(){(function(e){Gv(e);let i=1e4;et.signInTimeout&&et.signInTimeout!==0&&(i=et.signInTimeout,h.i("{93c7910}","{4f2f101}",i)),e.C=window.setTimeout(()=>e.signInTimeout(),i),e.cb=Date.now(),Hv(e)})(this),yt.j=performance.now(),Bv(),Wt&&(this.s.v.push(this.ab),this.s.v.push(this.Va),this.s.v.push(this.Oa),this.s.v.push(this.Za))}stop(e){var i,r,o,c;wt(this.G,"StreamTimersAndReconnects",ee(e),0,this.bb,this.lb,this.$a);const d=u=>{h.i("{93c7910}","{a848987}",u),wt(this.G,"PeerAPIDurationsAndMic",ee(e),this.ua,this.wa,this.va,u)};Au().then(u=>{d(u)}),ds(this,{code:e,description:"Session stopped before stream connected"}),this.N&&(clearTimeout(this.N),this.N=0),this.da.remove(),this.Z=!0;try{Fu(this,{exitMessage:{code:bd(e)}})}catch(u){h.e("{93c7910}","{d337883}",u)}Vv(this),this.Ja&&this.Ja.close(),(i=this.Aa)===null||i===void 0||i.close(),zv(this),(r=this.g)===null||r===void 0||r.removeEventListener("icecandidate",this.Ua),this.g&&this.g.close(),function(u){var p;if(!((p=u.aa)===null||p===void 0)){for(const E of p.streams){var m=new Date().toISOString();m=`ragnarok-${E.Pd}-${m}.${E.lg}`,zd([new DataView(E.data.buffer,0,E.size)],m,"text/plain")&&h.i("{d7392d2}","{4b3378a}",m)}p.streams=[]}u.aa=void 0}(this),this.F!==0&&(window.clearTimeout(this.F),this.F=0),this.C!==0&&(window.clearTimeout(this.C),this.C=0),Ip(),(o=this.O)===null||o===void 0||o.uninitialize(),yt.stopWebSocket(),Bv(),function(){var u,p=yt;p.v||(u=p.G)===null||u===void 0||Kt(u,"Worker Thread Creation Failed"),p.G=void 0,p.s=void 0}(),this.qa&&this.Na&&(h.e("{93c7910}","{283a180}"),Kt(this.G,"Audio track muted")),0<this.xa&&wt(this.G,"WebSocketClose","",0,this.xa,0,0),(c=this.R)===null||c===void 0||c.uninitialize(),this.ga.uninitialize(),Ei(this.j,0,this.P),Ei(this.j,1,this.P),Ei(this.j,2,this.P),Ei(this.j,4,this.fa),Ei(this.j,3,this.fa),Du()&&Ei(this.j,5,this.Pa),this.j.uninitialize(),Ol(this.s,this.ab),Ol(this.s,this.Va),Ol(this.s,this.Oa),Ol(this.s,this.Za),this.K.srcObject=null,this.Ea&&(this.Ea.srcObject=null)}signInTimeout(){this.C=0,h.i("{93c7910}","{6d6b337}"),ds(this,{code:3237093907})}vc(e){h.i("{8ba4138}","{0b0c6f9}",e)}uc(e){this.G.za(void 0,e,"{8ba4138}.ts",0,0,!0),h.e("{8ba4138}","{0b0c6f9}",e)}setUpstreamMedia(){return Promise.resolve(!1)}unsetUpstreamMedia(){return Promise.resolve(!1)}stopUpstreamMedia(){return Promise.resolve(!1)}qc(e){h.d("{93c7910}","{4742d5e}"),e.candidate&&this.Ta++,!window.chrome&&this.g&&this.g.canTrickleIceCandidates&&this.g.onicecandidate&&qv(this,e,!0)}oc(){var e,i;(e=this.h)===null||e===void 0||function(r){var o=yt;if(o.h){if(o.perf.RAFTS!=0){var c={perf:o.perf};o.g&&o.g.postMessage(c),kp(o)}o.perf.RAFTS=Dn(o)}if(!Rd){if(o=window.performance.now(),(c=r.va).getVideoPlaybackQuality){var d=c.getVideoPlaybackQuality();c={Ad:d.totalVideoFrames,bf:d.droppedVideoFrames}}else c=c.webkitDecodedFrameCount!==void 0?{Ad:c.webkitDecodedFrameCount,bf:(d=c.webkitDroppedFrameCount)!==null&&d!==void 0?d:0}:void 0;var u=c;if(u){const p=u.bf;d=p-r.v.droppedVideoFrames,c=u.Ad-r.v.totalVideoFrames,r.v.droppedVideoFrames=p,r.v.totalVideoFrames=u.Ad,d==1?r.V.Wd++:1<d&&(r.V.hd+=d),(u=yt).h&&(u.perf.FrameInfo=Math.min(c,15)<<4|Math.min(d,15))}r.v.Ag=o}}(e),window.setTimeout(()=>{var r,o;if(this.Z||window.requestAnimationFrame(this.Ka),!((r=this.m)===null||r===void 0)){var c=r.h;c.I===0&&Mt(c.l),Vs&&Cl&&r.l.ra()}(o=this.h)===null||o===void 0||Rd||((r=window.performance.now())>o.V.vd+1e4?(o.V.vd!==0&&h.i("{5cea617}","{5fa9066}",o.V.Sc,o.V.ld,o.V.nd,o.V.md,o.v.totalVideoFrames-o.V.Ue,o.V.Wd,o.V.hd,o.V.Rc,o.V.jd),o.V.vd=r,o.V.Ue=o.v.totalVideoFrames,o.V.Sc=1,o.V.ld=0,o.V.nd=0,o.V.md=0,o.V.Wd=0,o.V.hd=0,o.V.Rc=0,o.V.jd=0):o.V.Sc+=1)}),(i=this.m)===null||i===void 0||function(r){if(r.h.Vc){r.h.Vc=!1;var o=r.g.sb,c=r.g.tb;if(r.cursorType===0)if(r.Z&&r.g.rb){var d=ym(r.h.wb/r.g.cursor.scale);r.h.bd&&(r.h.bd=!1,wm(r,d));const u=r.g.cursor,p=r.h.wb;d/=p,o=(o*r.J.ma-u.Ha*d)*p,c=(c*r.J.ma-u.Ia*d)*p,r.ca||(o=Math.round(o),c=Math.round(c)),r.j.style.transform="translate("+o/p+"px, "+c/p+"px)",r.h.od||(r.h.od=!0,r.j.style.visibility="visible")}else bm(r)}}(i.h)}toggleOnScreenStats(e=!1,i){Wt&&(Ys(this)?this.h.toggleOnScreenStats(e,i):Bi(this,"Stats is OFF. Please enable by ctrl+alt+F5/F6"))}ja(){var e;if(!((e=this.h)===null||e===void 0)){var i=yt;if(i.h){const r={qosMarker:Dn(i)};i.g&&i.g.postMessage(r)}e.g.S++,(i=e.g).M.innerText=iv(i,e.M===2)}Bi(this,"User marker added")}toggleUserInput(e,i){this.m?this.m.toggleUserInput(e,i):h.e("{93c7910}","{5a0e299}",e)}getVirtualGamepadHandler(){var e;return(e=this.m)===null||e===void 0?void 0:e.getVirtualGamepadHandler()}toggleStutterIndicator(e){this.stutterIndicator=e??!this.stutterIndicator,Mn(this,{stutterIndicator:{on:this.stutterIndicator}})}Cb(){this.sa^=1,Mn(this,{riDeviceOverlay:{bitmap:this.sa}})}Qc(){var e;(e=this.m)===null||e===void 0||e.Mc()}sendTextInput(e){var i;(i=this.m)===null||i===void 0||i.sendTextInput(e)}setVirtualKeyboardState(e){var i;(i=this.m)===null||i===void 0||i.setVirtualKeyboardState(e)}setVideoTransforms(e,i,r){var o;if(!((o=this.m)===null||o===void 0)){const c=window.visualViewport;c&&(o.J.Pc=c.height),cs(o,e,i,r)}}sendCustomMessage(e){Mn(this,e={customMessage:JSON.stringify(e)})}setStreamingMaxBitrate(e,i,r){r||(Mn(this,{setMaxBitrate:{streamIndex:e,maxBitrate:i}}),h.d("{93c7910}","{6bbc1a2}",i))}setDrcDfcState(e,i,r){r||(Mn(this,{setDrcState:{streamIndex:e,state:!!(1&i)}}),Mn(this,{setDfcState:{streamIndex:e,state:!!(2&i)}}),h.d("{93c7910}","{0ed76f3}",i))}sendKeyEvent(e){var i;(i=this.m)===null||i===void 0||i.sendKeyEvent(e)}setKeyboardLayout(e){this.keyboardLayout=e,this.m?(this.sendCustomMessage({messageType:"kbLayout",messageRecipient:"KBLayoutChange",data:e}),this.m.setKeyboardLayout(e)):this.oa=!0}tc(){Ys(this)?Jv(this,this.h.l):h.w("{93c7910}","{76bcede}")}sc(){Ys(this)?Yv(this,this.h.l):h.w("{93c7910}","{20ab5a1}")}rc(){if(Ys(this)){var e=this.h.l;const i=function(o){switch(o.o){case"nominal":return 20;case"fair":return 70;case"serious":return 85;case"critical":return 100}}(this.j),r={cpuUsage:{streamIndex:0,frameNumber:e,procCpuUsage:0,totalCpuUsage:i}};h.i("{93c7910}","{9bb3298}",i.toString(),e),Mn(this,r)}else h.w("{93c7910}","{7b1f129}")}};function nr(e){var i;return(i=e==null?void 0:e.readyState)!==null&&i!==void 0?i:"connecting"}function eo(e){return e.replace(/((ice-pwd|ufrag)(:|\s))((?!(\\|\s)).)*/g,"$1***")}function Vu(e){const i=RegExp('(candidate:[^"\\r\\n\\\\]+)(\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\b)',"g");let r="";for(;r!==e;)r=e,e=e.replace(i,"$1***");return e}function to(e){h.i("{0f7a7d0}","{206f492}"),e.m&&(window.clearInterval(e.m),e.m=0)}function ng(e){to(e),e.g=new Date().getTime(),e.j=0,e.l=0,e.h=0,e.sleepTime=0,h.i("{0f7a7d0}","{d5ff5ba}"),e.m=window.setInterval(()=>{try{let i=new Date().getTime();1e4<i-e.g-1e4&&(e.h=i,e.sleepTime=e.h-e.g-1e4),1e4<i-e.g-1e4&&e.j!=0?ec(e,0<e.g-e.l?"epsp":"esp"):36e5<i-e.g&&to(e),e.g=i}catch{}},1e4)}function ec(e,i){if(e.o!==e.subSessionId){var r=e.G,o=ee(e.j);i=new Jr({eventSequence:i,sleepTime:e.sleepTime,error:o,timeToSleep:e.g-e.l,moduleName:"RAGNAROK",cmsId:String(r.cmsId),sessionId:e.sessionId,subSessionId:e.subSessionId}),r.h(i),e.o=e.subSessionId}to(e)}function zu(e,i){if(i===15868704||i===15859712)return to(e),!1;let r=new Date().getTime();return e.j=i,e.l=r,h.i("{0f7a7d0}","{425293a}",String(r-e.g),e.h),1e4<r-e.g-1e4?(e.h=r,e.sleepTime=e.h-e.g-1e4,ec(e,"pse")):e.h!==0&&2e4>r-e.h?ec(e,"pspe"):i!==15867909&&i!==15867908||(e.h=r,ec(e,"other")),e.h!==0}var ig=class{constructor(e){this.subSessionId=this.sessionId="",this.g=0,this.o="",this.sleepTime=this.h=this.m=this.l=this.j=0,this.G=e}};function rg(e){let i=document.createElement("div");return i.id=e.Ed,i.className="genericdiv",i.style.display="grid",i.style.gridTemplateColumns="1fr 1fr",i.style.gridTemplateRows="1fr 1fr",e.visible=!0,(e=document.createElement("p")).id="instruction",e.style.color="white",e.style.position="fixed",e.innerHTML="Connect GamePads",e.style.top="0",i.appendChild(e),i}var sg=class{constructor(){this.Ed="gamepadTester",this.visible=!1,this.xb=[],this.Xd=[],this.Zb=new Map,ea&&(document.body.appendChild(rg(this)),this.start())}Eb(e){for(let i=0;4>i;i++){const r=this.Zb.get(i);r!==void 0&&!(e&1<<i)&&(this.xb[r]=null,this.Zb.delete(i))}}Of(e){for(let i=0;i<this.xb.length;i++){let r=this.xb[i];r&&r.dc&&r.ha==e&&(this.xb[i]=null)}}$c(e,i,r,o,c,d,u,p,m){this.Zb.set(r,i),this.xb[i]={index:i,ha:r,buttons:o,qd:c,axes:d,name:m,dc:!1}}Wc(e,i,r,o,c,d,u,p){this.xb[e]={index:e,ha:i,buttons:r,qd:o,axes:c,name:p,dc:!0}}Uc(e){4>e.index&&(this.Xd[e.index]={index:e.index,ha:e.index,buttons:-1,qd:-1,axes:[-1],name:e.id,dc:!1})}Mc(e){let i=document.getElementById(this.Ed);i?(i.remove(),this.xb=[],this.visible=!1):(e.insertAdjacentElement("afterend",rg(this)),this.start())}start(){let e,i=document.getElementById(this.Ed);if(i==null)h.e("{e13a879}","{0c955af}");else{var r=.49*window.innerWidth,o=.4*window.innerHeight,c=.3*r,d=.7*r,u=.8*o,p=.8*o,m=.07*r,E=C=>{C.style.position="absolute",C.style.width="2%",C.style.height="3.5%",C.style.backgroundColor="red",C.style.borderRadius="50%",C.style.transform="translate(-50%, -50%)"},T=C=>{let S=(H=>H?{left:{X:H.axes[0],Y:H.axes[1]},right:{X:H.axes[2],Y:H.axes[3]}}:null)(C);if(i.querySelector(`.gamepad${C.index}`).querySelector(".leftStick")===null){var U=document.createElement("div");U.className="gamepadJoystickPointer leftStick",E(U),U.style.left=`${c+S.left.X*m}px`,U.style.top=`${u+S.left.Y*m}px`,i.querySelector(`.gamepad${C.index}`).querySelector(".gamepadContainer").appendChild(U)}else(U=i.querySelector(`.gamepad${C.index}`).querySelector(".leftStick")).style.opacity="1",U.style.left=`${c+m*S.left.X}px`,U.style.top=`${u+S.left.Y*m}px`;i.querySelector(`.gamepad${C.index}`).querySelector(".rightStick")===null?((U=document.createElement("div")).className="gamepadJoystickPointer rightStick",E(U),U.style.left=`${d+S.right.X*m}px`,U.style.top=`${p+S.right.Y*m}px`,i.querySelector(`.gamepad${C.index}`).querySelector(".gamepadContainer").appendChild(U)):((C=i.querySelector(`.gamepad${C.index}`).querySelector(".rightStick")).style.opacity="1",C.style.left=(d+S.right.X*m).toString()+"px",C.style.top=(p+S.right.Y*m).toString()+"px")},x=(C,S,U,H)=>{var B=C.getContext("2d");if(B){B.beginPath();var W=U===!0?1:U===!1?0:U;switch(B.fillStyle=U?H?"#006FCD":"#0e7a0d":"grey",U=_=>{if(B){var z=.12*W;B.rect(C.width*_,C.height*(.12-z+.07),.02*C.width,C.height*z),B.closePath(),B.fill(),B.beginPath(),B.fillStyle="grey",B.rect(C.width*_,.07*C.height,.02*C.width,C.height*(.12-z))}},S){case 0:B.moveTo(.14*C.width,.48*C.height),B.lineTo(.19*C.width,.48*C.height),B.lineTo(.165*C.width,.54*C.height),B.lineTo(.14*C.width,.48*C.height);break;case 1:B.moveTo(.14*C.width,.66*C.height),B.lineTo(.19*C.width,.66*C.height),B.lineTo(.165*C.width,.61*C.height),B.lineTo(.14*C.width,.66*C.height);break;case 2:B.moveTo(.09*C.width,.55*C.height),B.lineTo(.09*C.width,.61*C.height),B.lineTo(.135*C.width,.57*C.height),B.lineTo(.09*C.width,.55*C.height);break;case 3:B.moveTo(.24*C.width,.55*C.height),B.lineTo(.24*C.width,.61*C.height),B.lineTo(.195*C.width,.57*C.height),B.lineTo(.24*C.width,.55*C.height);break;case 4:B.arc(.7*C.width,.4*C.height,.02*C.width,0,2*Math.PI);break;case 5:B.arc(.3*C.width,.4*C.height,.02*C.width,0,2*Math.PI);break;case 6:B.arc(.3*C.width,.8*C.height,.07*C.width,0,2*Math.PI);break;case 7:B.arc(.7*C.width,.8*C.height,.07*C.width,0,2*Math.PI);break;case 8:B.rect(.13*C.width,.23*C.height,.07*C.width,.05*C.height);break;case 9:B.rect(.815*C.width,.23*C.height,.07*C.width,.05*C.height);break;case 12:B.arc(.85*C.width,.65*C.height,.02*C.width,0,2*Math.PI);break;case 13:B.arc(.9*C.width,.55*C.height,.02*C.width,0,2*Math.PI);break;case 14:B.arc(.8*C.width,.55*C.height,.02*C.width,0,2*Math.PI);break;case 15:B.arc(.85*C.width,.45*C.height,.02*C.width,0,2*Math.PI);break;case-1:U(.155);break;case-2:U(.84);break;case 16:if(!H)break;B.arc(.5*C.width,.5*C.height,.02*C.width,0,2*Math.PI);break;case 17:H&&(B.roundRect?B.roundRect(.395*C.width,.085*C.height,.21*C.width,.18*C.height,.02*C.width):B.arc(.5*C.width,.175*C.height,.02*C.width,0,2*Math.PI))}B.closePath(),B.fill()}},g=C=>{if(i.querySelector(`.gamepad${C.index}`)===null){var S=document.createElement("div");S.className=`gamepad gamepad${C.index}`,S.style.display="flex",S.style.flexDirection="column",S.style.justifyContent="space-between",S.style.height="98%";var U=document.createElement("p");U.className="active",U.style.margin="0px";var H=document.createElement("span");H.className="gamepadPlayerNumber",H.style.color="white",H.style.background=C.dc?"#006FCD":"#0e7a0d",H.style.position="relative",H.style.marginRight="0.5vw",H.innerHTML=C.dc?"S":"X",H.style.fontSize="1.5vw",U.appendChild(H),(H=document.createElement("span")).className="gamepadPlayerNumber",H.style.color="white",H.style.position="relative",H.innerHTML=`P${C.index+1}|${C.name}`,H.style.fontSize="1.5vw",U.appendChild(H),S.appendChild(U),(C=document.createElement("div")).className="gamepadContainer",C.style.position="relative",C.style.width=`${r+2}px`,C.style.height=`${o}px`,(U=document.createElement("canvas")).className="canvas",U.width=r,U.height=o,U.style.width=`${r}px`,U.style.height=`${o}px`,U.style.border="1px solid white",C.appendChild(U),S.appendChild(C),i.appendChild(S),(S=i.querySelector("#instruction"))&&(S.style.display="none")}},D=()=>{if(this.visible){for(let U=0;U<this.xb.length;U++){var C=this.xb[U];if(C){var S=C.dc;i.querySelector(`.gamepad${C.index}`)||g(C),T(C);let H=i.querySelector(`.gamepad${C.index}`).querySelector("canvas"),B=S?2:0;for(let W=0;16>W;W++)x(H,W,!!(C.buttons&1<<W),S);1<=B&&x(H,16,65536&C.buttons,S),2<=B&&x(H,17,131072&C.buttons,S),x(H,-1,(255&C.qd)/255,S),x(H,-2,(C.qd>>8&255)/255,S)}else this.Xd[U]?!i.querySelector(`.gamepad${U}`)&&(g(this.Xd[U]),S=(C=i.querySelector(`.gamepad${U}`).querySelector("canvas")).getContext("2d"))&&(S.font="20px Arial",S.fillStyle="white",S.textAlign="center",S.fillText("Unsupported Gamepad",C.width/2,C.height/2)):((C=i.querySelector(`.gamepad${U}`))&&i.removeChild(C),1>=i.childNodes.length&&(C=i.querySelector("#instruction"))&&(C.style.display="block"))}e=window.requestAnimationFrame(D)}else window.cancelAnimationFrame(e)};D()}}Yc(){}Yb(){}};function og(e){if(h.i("{4c846ba}","{b11cb24}"),e.l){try{e.h=new MediaRecorder(e.l)}catch(i){return void h.e("{4c846ba}","{0d1420e}",i)}e.h&&(e.h.onstart=()=>{},e.h.onstop=()=>{h.i("{4c846ba}","{7a944b4}")},e.h.ondataavailable=i=>{i.data&&0<i.data.size&&(e.s.push(i.data),e.v.push(e.s),++e.m,e.s=[])},h.i("{4c846ba}","{ffb713f}",e.h)),e.o=!1}else h.e("{4c846ba}","{74475ae}")}function Hu(e){var i;(i=e.h)===null||i===void 0||i.stop(),e.h=void 0,e.j!==0&&(window.clearTimeout(e.j),e.j=0)}function ag(e){let i;if(e.g==1)i=18e5;else{if(e.g!=2)return;i=3e3}e.h&&!e.o&&(e.h.start(),e.o=!0,e.j=window.setTimeout(()=>{h.i("{4c846ba}","{2282d21}"),Hu(e)},i),h.i("{4c846ba}","{4f438e3}"))}var lg=class{constructor(){this.o=!1,this.s=[],this.v=[],this.g=this.m=this.j=0}initialize(e){this.l=e}uninitialize(){Hu(this),this.downloadAudio(),this.l=void 0,this.g=0}downloadAudio(){if(this.g!=0){for(let e=0;e<this.m;++e)zd(this.v[e],"audioCapture_"+e+".wmv","audio/webm")&&h.i("{4c846ba}","{c24ed3b}");this.m=0,this.v=[]}}};function cg(e,i){e.h=!1,e.j=!1,e.g=i,e.g.onversionchange=()=>{h.w("{10dc2cc}","{65276d8}"),e.close(),e.g=void 0},e.g.onclose=()=>{h.w("{10dc2cc}","{342f7f8}"),e.h=!0,e.j=!0}}function tc(e){return e.l?e.g?e.h?xt(2,"Db is closing, unexpectedly: "+e.j+", visibility state hidden: "+(document.visibilityState==="hidden")):void 0:xt(1,"Db not yet open"):xt(17,"Indexdb object not found")}function dg(e,i){const r=tc(e);return r?Promise.reject(r):new Promise((o,c)=>{try{const d=e.g.transaction(i,"readwrite"),u=d.objectStore(i);d.oncomplete=()=>{h.i("{10dc2cc}","{30f23d1}")};const p=u.clear();p.onsuccess=()=>{o()},p.onerror=()=>{c(xt(80,"clear method failed)",d.error))}}catch(d){c(xt(81,"Unexpected Exception happened in clear",d))}})}function Wu(e,i){const r=tc(e);return r?Promise.reject(r):new Promise((o,c)=>{try{const d=e.g.transaction(i,"readonly"),u=d.objectStore(i);d.oncomplete=()=>{h.i("{10dc2cc}","{59d1f78}")};const p=u.getAll();p.onsuccess=()=>{o(p.result)},p.onerror=()=>{c(xt(96,"getAll method failed",d.error))}}catch(d){c(xt(97,"Unexpected Exception in getAll",d))}})}function Ku(e,i){if(e.g.commonData){var r=i.gdprLevel;let o=!1;e.g.commonData&&(r!=="functional"||e.g.commonData.deviceGdprFuncOptIn!=="Full"&&e.g.commonData.deviceGdprFuncOptIn!=="Temp"?(r==="technical"&&e.g.commonData.gdprTechOptIn==="Full"||r==="behavioral"&&e.g.commonData.gdprBehOptIn==="Full")&&(o=!0):o=!0),o&&(window.navigator.onLine?function(c){var d,u,p,m;(d=c.config)!==null&&d!==void 0&&d.server&&(u=c.config)!==null&&u!==void 0&&u.version&&(d={method:"POST",headers:{"Content-Type":"application/json","X-Event-Protocol":(m=(p=c.commonData)===null||p===void 0?void 0:p.eventProtocol)!==null&&m!==void 0?m:"1.5"},body:JSON.stringify(c.commonData),retryCount:3,timeout:2e3},h.i("{f7c1592}","{056661f}",d.body),Et(mg(c.config),d).then(()=>{}).catch(()=>{}))}(qu(e,i)):function(c,d){!c.j&&Ag(d)&&c.m.then(()=>c.l.set("telemetry-events",d)).then(()=>{h.i("{f7c1592}","{f03d70b}")}).catch(u=>{const p=!c.F;c.F=!0,us(c,u,"cacheTelemetryEventInDb",p)})}(e,{userId:e.g.commonData.userId,sessionId:e.g.commonData.sessionId,name:i.name,eventPayload:i}))}else e.C.push(i)}function ug(e){var i,r,o;return(o=(r=(i=e.g)===null||i===void 0?void 0:i.telemetryEventIds)===null||r===void 0?void 0:r.streamingProfileGuid)!==null&&o!==void 0?o:""}function hg(e){var i,r,o;return(o=(r=(i=e.g)===null||i===void 0?void 0:i.telemetryEventIds)===null||r===void 0?void 0:r.systemInfoGuid)!==null&&o!==void 0?o:""}function fg(e,i){var r,o,c,d;let u=(r=i.exitErrorCode)!==null&&r!==void 0?r:"";return i.sleep?u="SleepExit":(o=i.connectivity)!==null&&o!==void 0&&o.startsWith("online")&&(u=(c=i.connectivity)!==null&&c!==void 0?c:""),{name:(r=new Hm({zoneAddress:i.zoneAddress,networkSessionId:(d=i.networkTestSessionId)!==null&&d!==void 0?d:"",sessionId:i.sessionId,subSessionId:i.subSessionId,resumeType:Rl(i.isResume),overrideConfigType:xn.type,overrideConfigVersion:xn.version,exitReason:u,result:i.exitErrorCode,frameCount:i.frameCount,codec:Il(i.codec),ipVersion:"UNKNOWN",streamDuration:Math.round(i.streamDuration),networkType:jt(Ui.getCurrentNetworkType()),streamingProfileGuid:ug(e),systemInfoGuid:hg(e),cmsId:String(e.I)})).name,gdprLevel:r.gdprLevel,parameters:r.parameters,ts:r.ts,clientConfig:Hl}}function $u(e){h.d("{f7c1592}","{badefed}",!0),function(i){i.j||i.m.then(()=>dg(i.l,"exit-events")).then(()=>{h.i("{f7c1592}","{1b8f127}")}).catch(r=>{us(i,r,"clearExitEventStoreInDb",!i.s),i.s||(i.s=!0)})}(e),e.h.eventPayload=void 0}function us(e,i,r,o){var c,d,u,p;h.e("{f7c1592}","{146ec91}",r,ee(i.code),i.description),o&&(o=(u=(d=(c=i.error)===null||c===void 0?void 0:c.message)!==null&&d!==void 0?d:i.description)!==null&&u!==void 0?u:`Exception in ${r}`,e.H?e.H(i.error,o,"telemetryeventprocessor.ts",i.code,0,!0,(p=i.error)===null||p===void 0?void 0:p.name):h.w("{f7c1592}","{12e0846}"))}function qu(e,i){let r={};if(!e.g.commonData)return r;const o={name:i.name,ts:i.ts,parameters:i.parameters};return pg(r,e.g),(e=r.commonData).clientId=i.clientConfig.clientId,e.eventSchemaVer=i.clientConfig.eventSchemaVer,e.sentTs=new Date().toISOString(),e.events=[o],r}function pg(e,i){e.commonData=i.commonData?Object.assign({},i.commonData):void 0,e.experiments=[],e.config=i.config,e.telemetryEventIds=i.telemetryEventIds}function mg(e){return e.server+"/"+e.version+"/events/json"}function vg(e,i){var r,o,c;e.h.userId=(o=(r=e.g.commonData)===null||r===void 0?void 0:r.userId)!==null&&o!==void 0?o:"",e.h.sessionId=(c=i.parameters.sessionId)!==null&&c!==void 0?c:"",e.h.name=i.name,e.h.eventPayload=i}function gg(e){var i,r;(i=e.config)!==null&&i!==void 0&&i.server&&(r=e.config)!==null&&r!==void 0&&r.version&&e.experiments&&(e.commonData&&(e.commonData.sentTs=new Date().toISOString()),i=JSON.stringify(e.commonData),e=navigator.sendBeacon(mg(e.config),new Blob([i],{type:"text/plain"})),h.i("{f7c1592}","{b9367c5}",e,i))}function Ag(e){return!!e.userId&&!!e.sessionId&&!!e.name}function Sg(e){return e.j||!Ag(e.h)?Promise.resolve():e.m.then(()=>e.l.set("exit-events",e.h)).then(()=>{h.i("{f7c1592}","{5d026f8}")}).catch(i=>{us(e,i,"cacheExitEventInDb",!e.o),e.o||(e.o=!0)})}function yg(e){e.j||window.navigator.onLine&&e.m.then(()=>Wu(e.l,"telemetry-events")).then(i=>{if(h.i("{f7c1592}","{d4e574c}",i.length),0<i.length){(function(r){r.j||r.m.then(()=>dg(r.l,"telemetry-events")).then(()=>{h.i("{f7c1592}","{8f62936}")}).catch(o=>{us(r,o,"clearEventStoreInDb",!r.v),r.v||(r.v=!0)})})(e);for(const r of i)r.eventPayload&&Ku(e,r.eventPayload)}}).catch(i=>{h.e("{f7c1592}","{aaaa3de}",i.code,i.description)})}function Qu(e){if(e.g){const r=e.g.getSessionId(),o=e.g.getSubSessionId();h.d("{9d1820c}","{2fd42df}",r,o);var i=e.G;i.subSessionId=o,i.v.clear(),i.C=0,e.F.subSessionId=o,(i=e.G).sessionId=r,i.H=0,e.F.sessionId=r,(e=e.m).o=!1,e.s=!1,e.F=!1,e.v=!1}}function wg(e,i){var r,o,c,d,u,p,m,E,T,x;e.M&&(e.M=!1,e.framesDecoded=(o=(r=e.D)===null||r===void 0?void 0:Xs(r))!==null&&o!==void 0?o:0,r={sessionId:(d=(c=e.g)===null||c===void 0?void 0:c.getSessionId())!==null&&d!==void 0?d:"",subSessionId:(p=(u=e.g)===null||u===void 0?void 0:u.getSubSessionId())!==null&&p!==void 0?p:"",zoneName:(E=(m=e.g)===null||m===void 0?void 0:m.getZoneName())!==null&&E!==void 0?E:"",zoneAddress:((T=e.g)===null||T===void 0?void 0:T.getZoneAddress())||e.h.serverAddress,error:{code:i}},c=nc(e,r,performance.now()-e.startTime),zl(e.j),(!e.D||!((x=e.D)===null||x===void 0)&&x.H)&&Yu(e,c),Zu(e,i),e.cancelSessionSetup())}function Ju(e){e.I!==0&&(window.clearTimeout(e.I),e.I=0)}function Yu(e,i){Ju(e);var r=e.G;let o;o=fg(r.j,i),$m(r,o),$u(r.j),i=i.streamDuration,document.visibilityState==="hidden"&&(e.o+=performance.now()-e.L),r=0,i&&(r=Math.max(0,100*(i-e.o)/i)),wt(e.G,"sessionVisibilityMetrics","",r,Math.round(i),Math.round(e.o),0),e.o=0,e.L=0}function nc(e,i,r,o,c){var d,u,p,m;return{exitErrorCode:i.error?ee(i.error.code):ee(15859712),sessionId:i.sessionId,subSessionId:i.subSessionId,zoneAddress:i.zoneAddress,streamDuration:r,frameCount:e.framesDecoded,codec:(u=(d=e.D)===null||d===void 0?void 0:Zs(d))!==null&&u!==void 0?u:"UNKNOWN",isResume:e.isResume,connectivity:o??"undefined",sleep:c!=null&&c,networkTestSessionId:(m=(p=e.v)===null||p===void 0?void 0:p.la.networkSessionId)!==null&&m!==void 0?m:""}}function ic(e){var i;Cg(e,ee((i=e.S)!==null&&i!==void 0?i:15867911));const r=e.I;Sg(e.m).then(()=>{r===e.I&&function(o){Ju(o),o.I=window.setTimeout(()=>ic(o),12e4)}(e)}).catch(()=>{h.e("{9d1820c}","{204a7ac}")})}function rc(e){return{code:3237093380,description:e+" called before initialize"}}function bg(e,i){var r,o,c,d,u,p,m,E,T,x,g;let D={sessionId:(o=(r=e.g)===null||r===void 0?void 0:r.getSessionId())!==null&&o!==void 0?o:"",subSessionId:(d=(c=e.g)===null||c===void 0?void 0:c.getSubSessionId())!==null&&d!==void 0?d:"",error:{code:3237089284,description:"Quitting due to exception"},streamInfo:(u=e.H)===null||u===void 0?void 0:u.streamInfo,zoneName:(m=(p=e.g)===null||p===void 0?void 0:p.getZoneName())!==null&&m!==void 0?m:"",zoneAddress:(T=(E=e.g)===null||E===void 0?void 0:E.getZoneAddress())!==null&&T!==void 0?T:"",gpuType:(g=(x=e.g)===null||x===void 0?void 0:x.getGpuType())!==null&&g!==void 0?g:"",isResume:e.isResume};e.Gc(D,!0),h.e("{9d1820c}","{90f98fb}",i),e.G.za(i,"Exception happened in session call","{9d1820c}.ts",0,0,!0)}function Uy(e,i){var r=It();e.Gc({sessionId:"",subSessionId:r,error:i,zoneName:"",zoneAddress:"",gpuType:"",isResume:e.isResume},!0)}function Eg(e,i,r,o){if(e.H=void 0,e.aa=!1,e.g){Qd(e.C,r.la.additionalInputDevices),r.la.remoteControllersBitmap=dm(e.C);try{(function(d,u){d.j.I=u})(e.G,r.la.appId,r.la.shortName),e.startTime=performance.now(),ng(e.F),h.d("{9d1820c}","{892168d}",ii(JSON.stringify(r.la)));const c=e.g;c.putOrPostSession(r.la,i,o).then(d=>(Qu(e),h.d("{9d1820c}","{92a2573}",d==null?void 0:d.sessionId,d==null?void 0:d.subSessionId),(d==null?void 0:d.state)==="ready_for_connection"?(h.d("{9d1820c}","{2042e0a}"),e.H=d,new Promise(u=>{u(d)})):c.getSession(d.sessionId,!0))).then(d=>{e.H=d,h.d("{9d1820c}","{315afdc}",d==null?void 0:d.sessionId),e.startStreaming(r)}).catch(d=>{var u,p,m,E,T,x;if(Qu(e),d.code){d.code!=15867905&&d.code!=15867906||!c.getSessionId()||e.aa||e.sendDeleteRequest(c.getSessionId(),c),h.e("{9d1820c}","{09efe49}",ee(d.code));let g={sessionId:(u=c.getSessionId())!==null&&u!==void 0?u:"",subSessionId:(p=c.getSubSessionId())!==null&&p!==void 0?p:"",error:d,sessionList:d.sessionList,streamInfo:(m=e.H)===null||m===void 0?void 0:m.streamInfo,zoneName:(E=c.getZoneName())!==null&&E!==void 0?E:"",zoneAddress:(T=c.getZoneAddress())!==null&&T!==void 0?T:"",gpuType:(x=c.getGpuType())!==null&&x!==void 0?x:"",isResume:e.isResume};e.Gc(g,!0)}else bg(e,d)})}catch(c){bg(e,c)}}else e.emit("SessionStartResult",{sessionId:"",subSessionId:"",zoneName:"",zoneAddress:"",gpuType:"",isResume:e.isResume,error:rc(e.isResume?"Resume":"Start")})}function Cg(e,i){var r,o,c,d,u,p,m,E,T,x=e.m,g=(o=(r=e.g)===null||r===void 0?void 0:r.getSessionId())!==null&&o!==void 0?o:"";r=(d=(c=e.g)===null||c===void 0?void 0:c.getSubSessionId())!==null&&d!==void 0?d:"",c=((u=e.g)===null||u===void 0?void 0:u.getZoneAddress())||e.h.serverAddress,u=(m=(p=e.D)===null||p===void 0?void 0:Xs(p))!==null&&m!==void 0?m:0,p=(T=(E=e.D)===null||E===void 0?void 0:Zs(E))!==null&&T!==void 0?T:"UNKNOWN",vg(x,e=fg(x,{exitErrorCode:i,sessionId:g,subSessionId:r,zoneAddress:c,streamDuration:performance.now()-e.startTime,frameCount:u,codec:p,isResume:e.isResume,connectivity:"",sleep:!1,networkTestSessionId:""}))}function Tg(e){e.T&&(window.clearTimeout(e.T),e.T=0)}function Xu(e){window.removeEventListener("pagehide",e.ja),window.removeEventListener("online",e.ea),document.removeEventListener("visibilitychange",e.ka),navigator.mediaDevices&&navigator.mediaDevices.removeEventListener("devicechange",e.W),Ae(e.u)&&(document.removeEventListener("SystemIdle",e.ga),Tg(e))}function kg(e,i){e.S=void 0,yg(e.m),e.M=!0,window.addEventListener("pagehide",e.ja),window.addEventListener("online",e.ea),document.addEventListener("visibilitychange",e.ka),navigator.mediaDevices&&navigator.mediaDevices.addEventListener("devicechange",e.W),e.isResume=i,e.P&&Kt(e.G,"SessionSetupInProgressError",e.isResume?"resume":"start"),e.P=!0}function Ig(e,i){var r,o,c;if((i={la:Object.assign({},i),ce:[]}).la.streamParams)for(const p of i.la.streamParams){const m=document.getElementById(p.videoTagId);if(m==null||!(m instanceof HTMLVideoElement))return void Uy(e,{code:3237094400,description:"Didn't find video element for videoTagId: "+p.videoTagId});i.ce.push({K:m})}if(i.la.keyboardLayout=(r=i.la.keyboardLayout)!==null&&r!==void 0?r:Ce(e.u)?"m-us":"en_US",i.la.appLaunchMode!==void 0&&i.la.appLaunchMode!==0||(i.la.appLaunchMode=lt()||vt(e.u)||e.u.os==="Xbox"?1:0),X)if(i.la.metaData)for(const p in X)i.la.metaData[p]=X[p];else i.la.metaData=X;Zr!==void 0&&(i.la.appLaunchMode=Zr,h.d("{9d1820c}","{c4969b1}",Zr));const d=!!Sr&&!!yr,u=!!Zi;return(d||u)&&((o=i.la.streamParams)===null||o===void 0||o.forEach(p=>{d&&(p.width=Sr,p.height=yr),u&&(p.fps=Zi)}),(c=i.la.monitorSettings)===null||c===void 0||c.forEach(p=>{d&&(p.widthInPixels=Sr,p.heightInPixels=yr),u&&(p.framesPerSecond=Zi)}),d&&h.i("{9d1820c}","{92a6b38}",Sr,yr),u&&h.d("{9d1820c}","{6618bcd}",Zi)),e.v=i,e.v}function Zu(e,i){e.D&&(e.D.stop(i),e.D=void 0)}function sc(e,i,r){var o,c;i={sessionId:i,subSessionId:(c=(o=e.g)===null||o===void 0?void 0:o.getSubSessionId())!==null&&c!==void 0?c:"",framesDecoded:e.framesDecoded,error:r},eh(e),F(e.u)&&e.l&&(h.d("{9d1820c}","{b9b1288}"),e.setMicRecordingEnabled(!1)),e.emit("SessionStopResult",i)}function eh(e){Fi&&(window.ios15AudioContext&&(window.ios15AudioContext.close(),window.ios15AudioContext=void 0,h.i("{9d1820c}","{0ac2a42}")),window.ios15AudioStream=void 0,navigator.mediaDevices&&e.O&&navigator.mediaDevices.removeEventListener("devicechange",e.O))}function Rg(e,i){e.P=!1,i.error&&(e.M=!1,Xu(e)),e.emit("SessionStartResult",i)}function Pg(e,i,r,o){var c,d,u,p;eh(e),o&&((c=o.connectivity)!==null&&c!==void 0&&c.startsWith("offline")||(d=o.connectivity)!==null&&d!==void 0&&d.startsWith("timeout")?(Ju(e),Cg(e,ee((p=(u=i.error)===null||u===void 0?void 0:u.code)!==null&&p!==void 0?p:15867911)),Sg(e.m).catch(()=>{h.e("{9d1820c}","{0c2de99}")})):Yu(e,o)),Zu(e,i.error?i.error.code:15859712),r?Rg(e,i):(i.error&&(r=Mp(i.error.code,e.u),i.isResumable=r,h.i("{9d1820c}","{723f7be}",r)),e.M=!1,e.P=!1,Xu(e),e.emit("StreamStopped",i))}function xg(e,i){let r={errorCode:i??15859712,connectivity:"online"};if(i&&(!((3237093888^i)>>8)||i===3237089282)){let o=1500;et.connectivityCheckTimeout&&et.connectivityCheckTimeout!==0&&(o=et.connectivityCheckTimeout,h.i("{9d1820c}","{f9909d8}",o)),e=(window.location.protocol==="http:"?"http://":"https://")+e.h.serverAddress,h.i("{9d1820c}","{df38106}",e);const c=performance.now();return Bn(e,o).then(d=>(r.connectivity=200<=d.status&&300>d.status||d.status==403?"online("+String(25*Math.ceil((performance.now()-c)/25))+")":"offline_wrong_status("+String(d.status)+")",r)).catch(d=>(d.name==="AbortError"?r.connectivity="timeout":(r.connectivity="offline("+d.name+":"+d.message+")",r.errorCode=Op(i)),r))}return Promise.resolve(r)}performance.mark("GfnRBegin");var jy=j.LogImpl;function no(e,i,r){var o;if(e.streamingState!==4&&e.streamingState!==0){var c=e.streamingState;e.streamingState=4,to(e.l),wt($t,"HotPlug","",0,e.o,0,0),F(e.u)&&e.m&&(h.d("{0a9be04}","{b9b1288}"),e.captureMic(!1)),zl(e.g),(o=e.D)===null||o===void 0||o.stop(i),zu(e.l,i)&&(i=Bd(i,e.u)),function(d,u){let p={errorCode:u??15859712,connectivity:"online"};if(u&&(!((3237093888^u)>>8)||u===3237089282)){let m=1500;et.connectivityCheckTimeout&&et.connectivityCheckTimeout!==0&&(m=et.connectivityCheckTimeout,h.i("{0a9be04}","{f9909d8}",m)),d=(window.location.protocol==="http:"?"http://":"https://")+d.zoneAddress,h.i("{0a9be04}","{df38106}",d);const E=performance.now();return Bn(d,m).then(T=>(p.connectivity=200<=T.status&&300>T.status||T.status==403?"online("+String(25*Math.ceil((performance.now()-E)/25))+")":"offline_wrong_status("+String(T.status)+")",p)).catch(T=>(T.name==="AbortError"?p.connectivity="timeout":(p.connectivity="offline("+T.name+":"+T.message+")",p.errorCode=Op(u)),p))}return Promise.resolve(p)}(e,i).then(d=>{if(i=d.errorCode,c!==1){var u,p,m,E,T={code:i,isResumable:Mp(i,e.u),reason:3},x=new Set([3237093892,15867907,3237093896,3237093897,3237093898,3237093899,3237093900,3237093895,3237093901,3237093906,3237093929,15867908,15868418,3237094151,3237094158]);r?T.reason=0:x.has(i)?T.reason=2:(268435200&i)==15868672&&(T.reason=1),e.h.onStreamStopped(T),x=d.connectivity,T=d=ee(i||15859712),x!=null&&x.startsWith("online")&&(T=x??""),x=performance.now()-e.startTime;const W=(p=(u=e.D)===null||u===void 0?void 0:Zs(u))!==null&&p!==void 0?p:"UNKNOWN";var g,D,C;u=(E=(m=e.D)===null||m===void 0?void 0:Xs(m))!==null&&E!==void 0?E:0,E=new Hm({zoneAddress:(m=$t).zoneAddress,sessionId:m.sessionId,subSessionId:m.subSessionId,resumeType:Rl(m.isResume),cmsId:m.cmsId,overrideConfigType:xn.type,overrideConfigVersion:xn.version,exitReason:T,result:d,frameCount:u,codec:Il(W),ipVersion:"UNKNOWN",streamDuration:Math.round(x),networkType:jt(Ui.getCurrentNetworkType()),streamingProfileGuid:(g=m.telemetryEventIds.streamingProfileGuid)!==null&&g!==void 0?g:"",systemInfoGuid:(D=m.telemetryEventIds.systemInfoGuid)!==null&&D!==void 0?D:"",networkSessionId:(C=m.telemetryEventIds.networkTestId)!==null&&C!==void 0?C:""}),m.h(E,!0)}var S,U,H,B;Ng(e),th(e),e.D=void 0,e.startTime=0,e.isResume=!1,e.P=void 0,e.C=0,e.o=0,e.sessionId="",e.subSessionId="",e.zoneAddress="",e.zoneName="",e.K=void 0,e.Ea=void 0,e.m=!1,e.appId=0,e.setSupportedHidTypes(0),e.setGamepadRsdmm(!1),e.l.sessionId="",e.l.subSessionId="",g=(U=(S=(D=window.zoneless)==null?void 0:D.windowRemoveEventListener)===null||S===void 0?void 0:S.bind(window))!==null&&U!==void 0?U:window.removeEventListener.bind(window),S=(B=(H=D==null?void 0:D.documentRemoveEventListener)===null||H===void 0?void 0:H.bind(document))!==null&&B!==void 0?B:document.removeEventListener.bind(document),g("pagehide",e.M),g("error",e.L),S("visibilitychange",e.N),navigator.mediaDevices&&navigator.mediaDevices.removeEventListener("devicechange",e.F),Ae(e.u)&&(S("SystemIdle",e.I),th(e))})}}function Ng(e){Fi&&(window.ios15AudioContext&&(window.ios15AudioContext.close(),window.ios15AudioContext=void 0,h.i("{0a9be04}","{0ac2a42}")),window.ios15AudioStream=void 0,navigator.mediaDevices&&e.s&&navigator.mediaDevices.removeEventListener("devicechange",e.s))}function th(e){e.v&&(window.clearTimeout(e.v),e.v=0)}performance.mark("GfnNskBegin"),window.Ragnarok=window.Ragnarok||{},window.Ragnarok.GridApp=class extends Kr{constructor(e){super(),this.u=e,this.l=this.Z=!1,this.da=new sg,this.P=!1,this.O=this.W=void 0,this.fa=!1,this.R=this.L=this.T=this.I=0,this.aa=this.M=!1,this.o=0,h.isCallbackRegistered()||h.setLogCallback(this.$.bind(this)),this.h={clientIdentification:"GFN-PC",clientVersion:"29.0",deviceHashId:"",serverAddress:""},this.startTime=performance.now(),this.ja=this.ra.bind(this),this.ea=this.xa.bind(this),this.ka=this.Da.bind(this),this.ya=this.qa.bind(this),this.framesDecoded=0,this.m=new class{constructor(){this.h={userId:"",sessionId:"",eventPayload:void 0,name:""},this.g={},this.v=this.F=this.s=this.o=!1,this.I="",this.C=[],this.j=!1,this.l=new class{constructor(){this.l=window.indexedDB,this.version=2,this.j=this.h=!1,this.name="ragnarok",this.m=[{Yf:"exit-events",pd:{keyPath:["userId","sessionId","name"]},Xf:"exit-event-index"},{Yf:"telemetry-events",pd:{keyPath:["userId","sessionId","name","eventPayload.ts"]},Xf:"telemetry-event-index"}]}open(){return new Promise((i,r)=>{try{if(this.l){let o=this.l.open(this.name,this.version);o.onerror=()=>{r(xt(18,`${this.name} db opening failed`,o.error))},o.onsuccess=()=>{cg(this,o.result),i()},o.onupgradeneeded=c=>{h.i("{10dc2cc}","{1f70767}",c.oldVersion,c.newVersion),cg(this,o.result);const d=u=>{var p;const m=(p=this.g)===null||p===void 0?void 0:p.createObjectStore(u.Yf,u.pd);u.pd.keyPath&&(m==null||m.createIndex(u.Xf,u.pd.keyPath,{unique:!0}))};switch(c.oldVersion){case 0:d(this.m[0]);case 1:d(this.m[1])}},o.onblocked=()=>{r(xt(19,`${this.name} db blocked during opening`,o.error))}}else r(xt(17,"Indexdb object not found"))}catch(o){r(xt(20,"Unexpected Exception in open",o))}})}get(i,r){const o=tc(this);return o?Promise.reject(o):new Promise((c,d)=>{try{const u=this.g.transaction(i,"readonly"),p=u.objectStore(i);u.oncomplete=()=>{h.i("{10dc2cc}","{82638ba}")};const m=p.get(r);m.onsuccess=()=>{c(m.result)},m.onerror=()=>{d(xt(32,"get method failed",u.error))}}catch(u){d(xt(33,"Unexpected Exception happened in get",u))}})}set(i,r){const o=tc(this);return o?Promise.reject(o):new Promise((c,d)=>{try{const u=this.g.transaction(i,"readwrite"),p=u.objectStore(i);u.oncomplete=()=>{h.i("{10dc2cc}","{f993875}")};const m=p.put(r);m.onsuccess=()=>{c()},m.onerror=()=>{d(xt(48,"put method failed",u.error))}}catch(u){d(xt(49,"Unexpected Exception happened in set",u))}})}close(){var i;this.h=!0,(i=this.g)===null||i===void 0||i.close()}},this.m=this.l.open().catch(i=>{this.j=!0,us(this,i,"TelemetryEventProcessorConstruction",!0)})}updateEventDataElements(i){var r;if(pg(this.g,i),this.g.commonData){h.d("{f7c1592}","{66f209c}");for(let o of this.C)Ku(this,o);this.C=[]}this.h.userId=(r=this.g.commonData)===null||r===void 0?void 0:r.userId}},this.G=new wy(this,this.m),this.F=new ig(this.G),this.isResume=!1,this.N=Gs,this.ca=new lg,window.addEventListener("error",this.ya),e=window.zoneless,this.j=new Vm(this.u,this.G),this.O=this.j.j.bind(this.j),this.W=this.na.bind(this),this.C=new um(this.u,e),ea&&(this.C.l.push(this.da),iu(this.C)),this.ga=this.oa.bind(this),Yi(this.G),function(i){var r,o,c;if(et.sendNonEssentialMetricEvents){var d=performance.getEntriesByName("GfnJsInitStart")[0];const u=performance.getEntriesByName("platformBegin")[0],p=performance.getEntriesByName("GfnRBegin")[0],m=performance.getEntriesByType("navigation");d=Math.round((r=d==null?void 0:d.startTime)!==null&&r!==void 0?r:-1),r=Math.round((o=u==null?void 0:u.startTime)!==null&&o!==void 0?o:-1),wt(i.G,"PerformanceTiming","application timings",d,r,Math.round((c=p==null?void 0:p.startTime)!==null&&c!==void 0?c:-1),r-d),m.length?(o=m[m.length-1],wt(i.G,"PerformanceTiming","load timings",Math.round(o.loadEventStart),Math.round(o.loadEventEnd),Math.round(o.domContentLoadedEventStart),Math.round(o.domContentLoadedEventEnd))):wt(i.G,"PerformanceTiming","navigation timings unsupported",0,0,0,0)}}(this),function(i){if(navigator.mediaCapabilities){var r=performance.now();tr("h264").then(async o=>{if(o){o=tr("h264; profile-level-id=640033",2560,1440,60);var c=tr("h264; profile-level-id=64e033",2560,1440,60);o=Cr(await o),c=Cr(await c);const p=performance.now()-r;var d=bu(),u=tr("h264",1920,1080,120);d=Cr(await d),u=Cr(await u);const m=await da(Js),E=await Zm();h.d("{9d1820c}","{1efbc27}",m,E),wt(i.G,"DisplayCaps","Is120FpsSupported: "+E,m,0,0,0),wt(i.G,"MediaCapabilities","codec 5.1: "+o+" 5.1 constrained: "+c+" AV1: "+d,p,u,o|c,Math.round(window.screen.height))}else wt(i.G,"MediaCapabilities","webrtc unsupported",performance.now()-r,-1,-1,-1)})}else wt(i.G,"MediaCapabilities","API unsupported",-1,-1,-1,-1)}(this),et.sendNonEssentialMetricEvents&&wt(this.G,"PlatformDetailsExecutionTime","",this.u.totalTime,0,0,0),Ui.registerCallback(i=>{var r;(r=this.g)===null||r===void 0||r.setNetworkType(i)}),this.u.deviceModel==="VISIONPRO"&&(Sp=!0,Cp())}qa(e){var i;return h.e("{9d1820c}","{8516485}",e.filename,e.lineno,e.colno),this.G.za(e.error,e.error&&e.error.message?e.error.message:e.message,e.filename,e.lineno,e.colno,!1),((i=et.terminateUnhandledException)===null||i===void 0||i)&&wg(this,3237093392),!1}ra(){var e,i;this.fa||(this.fa=!0,wg(this,((e=this.S)!==null&&e!==void 0?e:(i=this.D)!==null&&i!==void 0&&i.H)?15867912:15867905))}xa(){h.i("{9d1820c}","{a9a135f}"),yg(this.m)}Da(){var e;if(h.i("{9d1820c}","{478a408}",document.visibilityState,!!this.D),this.D){var i=this.v.ce[0].K,r=Ke(this.u,!1,15,4)&&_d,o=Ke(this.u,!1,15,4)&&this.l&&Ld;document.visibilityState==="hidden"?(this.L=performance.now(),r&&(h.i("{9d1820c}","{cbd3b6e}"),i.muted=!0),ic(this)):document.visibilityState==="visible"&&(this.o+=performance.now()-this.L,r&&(h.i("{9d1820c}","{05deefa}"),i.muted=!1),o?(i=(e=et.userTerminatedMicRecorderThreshold)!==null&&e!==void 0?e:2e3,this.L-this.j.O<i?(h.i("{9d1820c}","{862bd20}"),this.j.I=!0,this.setMicRecordingEnabled(!0)):this.l=!1):Ke(this.u,!1,15,4)&&!this.j.o&&yu(this.j)&&this.j.F&&Gl(this.j,"visibilityChange"))}}wa(e){h.d("{9d1820c}","{972bb72}",JSON.stringify(e)),wu(this.G,e)}ta(e){this.emit("ActiveSessionsResult",e)}ua(e){this.emit("ProgressUpdate",e)}va(e){this.emit("SessionUpdate",e)}initialize(e,i=Gs){var r,o,c,d,u,p,m,E,T,x,g,D,C,S;if(h.i("{9d1820c}","{2569364}","0.66.9"),h.d("{9d1820c}","{e85ad66}",navigator.userAgent),!e)return h.e("{9d1820c}","{a98b177}"),!1;Object.assign(this.h,e),(r=this.g)===null||r===void 0||r.uninitialize(),!this.h.serverAddress||Q(this.h.serverAddress)?(h.d("{9d1820c}","{e2d9a04}"),this.g=new vl):this.g=new zo(this.u,!0),e=this.g,h.d("{9d1820c}","{3c652b7}"),Qu(this),e.addListener("TelemetryEvent",this.wa.bind(this)),e.addListener("Log",this.$.bind(this)),e.addListener("ActiveSessionsResult",this.ta.bind(this)),e.addListener("ProgressUpdate",this.ua.bind(this)),e.addListener("SessionUpdate",this.va.bind(this)),this.h.clientHeaders=(E=this.h.clientHeaders)!==null&&E!==void 0?E:new Map,(r=(E=qo||this.h.clientType||"BROWSER")!=="NATIVE")&&this.h.clientHeaders.set("nv-browser-version",this.u.browserFullVer);var U=this.h.clientHeaders;for(var[H]of U){const B=H;es&&B.toLowerCase()==="nv-device-os"&&U.set(B,es),ts&&B.toLowerCase()==="nv-device-type"&&U.set(B,ts),jd.deviceModel&&B.toLowerCase()==="nv-device-model"&&U.set(B,jd.deviceModel),ns&&B.toLowerCase()==="nv-client-streamer"&&U.set(B,ns),is&&B.toLowerCase()==="nv-client-id"&&U.set(B,is)}return H={deviceOs:(T=es)!==null&&T!==void 0?T:this.u.deviceOS,deviceOsVer:this.u.osVer,deviceType:(x=ts)!==null&&x!==void 0?x:this.u.deviceType,deviceModel:(g=jd.deviceModel)!==null&&g!==void 0?g:this.u.deviceModel,clientIdentification:(D=this.h.clientIdentification)!==null&&D!==void 0?D:"GFN-PC",clientVersion:(C=this.h.clientVersion)!==null&&C!==void 0?C:"29.0",clientAppVersion:this.h.clientAppVersion,clientStreamer:(S=ns)!==null&&S!==void 0?S:"WEBRTC",clientId:is||this.h.clientId,browserType:r?this.u.browser.toUpperCase():void 0,clientPlatformName:Qo||"browser",clientType:E,deviceHashId:this.h.deviceHashId,serverAddress:this.h.serverAddress,authTokenCallback:this.h.authTokenCallback,clientHeaders:this.h.clientHeaders},e.initialize(H),e.setNetworkType(Ui.getCurrentNetworkType()),this.N={...i},(o=(u=this.N).windowedStreaming)!==null&&o!==void 0||(u.windowedStreaming=this.h.windowedStreaming),(c=(p=this.N).windowedStreaming)!==null&&c!==void 0||(p.windowedStreaming=i.cursorType===2),(d=(m=this.N).cursorType)!==null&&d!==void 0||(m.cursorType=this.h.cursorType),this.G.clientShutDownCallback=this.h.clientShutDownCallback,!0}downloadAudio(){this.ca.downloadAudio()}updateEventDataElements(e){var i;h.i("{9d1820c}","{4008dc4}",JSON.stringify(e)),this.m.updateEventDataElements(e),e.telemetryEventIds&&((i=this.g)===null||i===void 0||i.updateTelemetryEventIds(e.telemetryEventIds)),this.D&&!this.P&&ic(this)}getActiveSessions(){this.g?this.g.getAllActiveSessions():this.emit("ActiveSessionsResult",{sessionList:[],error:rc("ActiveSessions")})}startSession(e){kg(this,!1),(e=Ig(this,e))&&Eg(this,0,e)}updateAdState(e){var i;return this.g?(i=this.g)===null||i===void 0?void 0:i.updateAdState(e):3237093380}getSession(e){this.g?this.g.getSession(e,!1).then(i=>{var r,o;let c={sessionId:(r=i==null?void 0:i.sessionId)!==null&&r!==void 0?r:"",appId:i==null?void 0:i.appId,subSessionId:(o=i==null?void 0:i.subSessionId)!==null&&o!==void 0?o:"",state:i==null?void 0:i.state,status:i==null?void 0:i.state};this.emit("GetSessionResult",c)}).catch(i=>{var r,o;let c={sessionId:e,subSessionId:(o=(r=this.g)===null||r===void 0?void 0:r.getSubSessionId())!==null&&o!==void 0?o:"",error:i};this.emit("GetSessionResult",c)}):this.emit("GetSessionResult",{sessionId:"",subSessionId:"",error:rc("GetSession")})}resume(){this.resumeSession(this.v.la,this.g.getSessionId())}resumeSession(e,i){kg(this,!0),(e=Ig(this,e))&&Eg(this,2,e,i)}stopSession(e,i){var r,o,c,d,u,p,m;this.g?(i!==void 0&&h.i("{9d1820c}","{ae7f61b}",ee(i)),e===this.g.getSessionId()||e===void 0?(i===15867910?this.aa=!0:this.Z=!1,zl(this.j),this.framesDecoded=(o=(r=this.D)===null||r===void 0?void 0:Xs(r))!==null&&o!==void 0?o:0,to(this.F),r=nc(this,{sessionId:(c=this.g.getSessionId())!==null&&c!==void 0?c:"",subSessionId:(d=this.g.getSubSessionId())!==null&&d!==void 0?d:"",error:i?{code:i}:void 0,zoneName:(u=this.g.getZoneName())!==null&&u!==void 0?u:"",zoneAddress:this.g.getZoneAddress()||this.h.serverAddress,gpuType:(p=this.g.getGpuType())!==null&&p!==void 0?p:"",isResume:this.isResume},performance.now()-this.startTime),e=(m=this.g.getSessionId())!==null&&m!==void 0?m:"",this.D?(this.M=!1,Xu(this),this.D.H&&Yu(this,r),Zu(this,i??(this.D.H?15859712:15867905)),i===15867910?(h.d("{9d1820c}","{12bc45e}",e),sc(this,e)):this.sendDeleteRequest(e,this.g)):this.H?sc(this,e):this.cancelSessionSetup()):e&&this.sendDeleteRequest(e,this.g)):this.emit("SessionStopResult",{sessionId:"",subSessionId:"",error:rc("StopSession")})}pauseSession(e){this.stopSession(e,15867910)}startStreaming(e){var i,r,o,c;const d={sessionId:(r=(i=this.g)===null||i===void 0?void 0:i.getSessionId())!==null&&r!==void 0?r:"",subSessionId:(c=(o=this.g)===null||o===void 0?void 0:o.getSubSessionId())!==null&&c!==void 0?c:"",progressState:"StartingStreamer",queuePosition:0,eta:0,ads:[]};this.emit("SessionUpdate",d),this.emit("ProgressUpdate",{...d,state:d.progressState}),i=Q(this.h.serverAddress)?"":this.h.serverAddress.split(".")[0];const{K:u}=e.ce[0];if(Ke(this.u,!1,15)){u.ragnarokOldPlay||(u.ragnarokOldPlay=u.play);const p=ta&&Ke(this.u,!0,15,1);u.play=()=>{if(Fi&&(h.i("{9d1820c}","{4a5b360}"),eh(this),function(m){if(Fi)if(window.ios15AudioContext)h.i("{9d1820c}","{e2aba64}");else{var E=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"interactive",sampleRate:48e3});E.onstatechange=()=>{E.state==="suspended"&&(E.resume(),m.j.j(),h.i("{9d1820c}","{faee684}"))},window.ios15AudioContext=E,window.ios15AudioStream=E.createMediaStreamDestination(),navigator.mediaDevices&&m.O&&navigator.mediaDevices.addEventListener("devicechange",m.O),h.i("{9d1820c}","{b5f7b9b}")}}(this),this.j.j()),p){h.i("{9d1820c}","{8f5cd77}");const m=u.srcObject;u.srcObject=null,u.srcObject=m}return u.ragnarokOldPlay.apply(u)}}na&&(Ke(this.u,!0,15,0)||Ke(this.u,!0,15,1))&&(u.hasAttribute("data-shouldautoplay")?u.setAttribute("autoplay",""):(u.setAttribute("data-shouldautoplay",""),u.removeAttribute("autoplay"))),this.D=new tg(this,u,void 0,this.j,this.N,this.da,this.C,this.G,this.u,this.H,e.la.streamParams[0],this.ca,this.h.textInputElement,this.h.clientAppVersion,this.isResume,i,void 0,void 0,e.la.signalingUrlQueryParameters),this.D.start(),e.la.keyboardLayout&&this.D.setKeyboardLayout(e.la.keyboardLayout),function(p){return p.clientShutDownCallback?(h.d("{9838627}","{c7dcc4e}"),function(m){return m.j?Promise.resolve([]):m.m.then(()=>Wu(m.l,"exit-events")).then(E=>{h.i("{f7c1592}","{d938300}",E.length);let T=[];if(0<E.length)for(const x of E)x.eventPayload&&T.push(x.eventPayload);return T}).catch(E=>(us(m,E,"getCachedExitEvents",!0),Promise.reject()))}(p.j).then(m=>{for(const E of m)$m(p,E);$u(p.j)}).catch(()=>{h.d("{9838627}","{41cf828}")})):(h.d("{9838627}","{77df598}"),function(m){return m.j?Promise.resolve():m.m.then(()=>Wu(m.l,"exit-events")).then(E=>{if(h.i("{f7c1592}","{ca568ff}",E.length),0<E.length){for(const T of E)T.eventPayload&&gg(qu(m,T.eventPayload));$u(m)}}).catch(E=>{us(m,E,"sendCachedExitEvent",!0)})}(p.j))}(this.G).then(()=>{ic(this)}).catch(()=>{h.e("{9d1820c}","{c761bfd}")})}Gc(e,i){var r,o,c,d,u,p,m;if(e.error){const E=zu(this.F,e.error.code);E&&(e.error.code=Bd(e.error.code,this.u)),xg(this,(r=e.error)===null||r===void 0?void 0:r.code).then(T=>{var x,g,D;this.framesDecoded=(g=(x=this.D)===null||x===void 0?void 0:Xs(x))!==null&&g!==void 0?g:0,e.zoneAddress||(e.zoneAddress=this.h.serverAddress),e.error&&(e.error.code=T.errorCode),x=void 0,i||(x=nc(this,e,0,T.connectivity,E),this.S=(D=e.error)===null||D===void 0?void 0:D.code),Pg(this,e,!0,x)})}else(function(E,T,x,g,D,C,S,U,H,B){wu(E,{name:(T=new zm({zoneAddress:D,networkSessionId:B,sessionId:T,subSessionId:x,resumeType:Rl(g),overrideConfigType:xn.type,overrideConfigVersion:xn.version,result:S,codec:Il(U),ipVersion:"UNKNOWN",launchDuration:Math.round(C),networkType:jt(Ui.getCurrentNetworkType()),streamingProfileGuid:ug(E.j),systemInfoGuid:hg(E.j),cmsId:H})).name,gdprLevel:T.gdprLevel,parameters:T.parameters,ts:T.ts,clientConfig:Hl})})(this.G,e.sessionId,e.subSessionId,this.isResume,e.zoneAddress||this.h.serverAddress,Math.round(performance.now()-this.startTime),ee(15859712),(c=(o=this.D)===null||o===void 0?void 0:Zs(o))!==null&&c!==void 0?c:"UNKNOWN",this.v?String((d=this.v)===null||d===void 0?void 0:d.la.appId):"",(p=(u=this.v)===null||u===void 0?void 0:u.la.networkSessionId)!==null&&p!==void 0?p:""),this.startTime=performance.now(),document.visibilityState==="hidden"&&(this.L=this.startTime),this.o=0,this.isResume&&this.l&&this.setMicRecordingEnabled(!0),Rg(this,e),this.Z&&((m=this.D)===null||m===void 0||m.toggleUserInput(!0,this.pa)),Ae(this.u)&&document.addEventListener("SystemIdle",this.ga)}Cf(e){var i,r,o;zl(this.j),h.d("{9d1820c}","{a94b484}");let c=zu(this.F,e.error.code);c&&(e.error.code=Bd(e.error.code,this.u)),this.framesDecoded=(r=(i=this.D)===null||i===void 0?void 0:Xs(i))!==null&&r!==void 0?r:0,e.zoneAddress||(e.zoneAddress=this.h.serverAddress),xg(this,(o=e.error)===null||o===void 0?void 0:o.code).then(d=>{var u;e.error.code=d.errorCode,d=nc(this,e,performance.now()-this.startTime,d.connectivity,c),this.S=(u=e.error)===null||u===void 0?void 0:u.code,wt(this.G,"HotPlug","",0,this.R,0,0),this.R=0,Pg(this,e,!1,d)})}Df(){Tg(this)}sendDeleteRequest(e,i){i.sendDeleteRequest(e).then(()=>{h.d("{9d1820c}","{fee1eea}",e),sc(this,e)},r=>{h.e("{9d1820c}","{50e2a6e}",e),sc(this,e,r)})}isMicSupported(){return ca}setMicRecordingEnabled(e){h.i("{9d1820c}","{f5b2f30}",e),e?(this.l=!0,Vl(this.j)):(this.l=!1,Su(this.j))}getMicState(){var e;e=this.j,_i!==!1&&(e.v||e.h==3||e.h==2||e.h==6||e.h==7?nn(e,e.h):Au().then(i=>{i!==0&&nn(e,i)}))}shouldDefaultEnableMic(){return Qm(this.u)}sendCustomMessage(e){var i;(i=this.D)===null||i===void 0||i.sendCustomMessage(e)}toggleUserInput(e,i){var r;(r=this.D)===null||r===void 0||r.toggleUserInput(e,i),this.Z=e,this.pa=i}toggleRsdmm(e){eu(this.C,e)}getVirtualGamepadHandler(){var e;return(e=this.D)===null||e===void 0?void 0:e.getVirtualGamepadHandler()}setAuthInfo(e){var i;(i=this.g)===null||i===void 0||i.setAuthInfo(e)}sendTextInput(e){var i;(i=this.D)===null||i===void 0||i.sendTextInput(e)}setVirtualKeyboardState(e){var i;(i=this.D)===null||i===void 0||i.setVirtualKeyboardState(e)}setVideoTransforms(e,i,r){var o;(o=this.D)===null||o===void 0||o.setVideoTransforms(e,i,r)}toggleOnScreenStats(){var e;Wt&&((e=this.D)===null||e===void 0||e.toggleOnScreenStats())}toggleStutterIndicator(){var e;(e=this.D)===null||e===void 0||e.toggleStutterIndicator()}setKeyboardLayout(e){var i;h.i("{9d1820c}","{10717a6}",e),(i=this.D)===null||i===void 0||i.setKeyboardLayout(e)}sendKeyEvent(e){var i;(i=this.D)===null||i===void 0||i.sendKeyEvent(e)}setStreamingMaxBitrate(e,i=0){var r;(r=this.D)===null||r===void 0||r.setStreamingMaxBitrate(i,e)}setDrcDfcState(e,i=0){var r;(r=this.D)===null||r===void 0||r.setDrcDfcState(i,e?3:0)}oa(e){var i;e.detail.idle&&((i=this.D)===null||i===void 0||Bu(i,2,60),this.T=window.setTimeout(()=>{var r;(r=this.D)===null||r===void 0||Xt(r,15867913)},6e4))}na(){Gm(this.j,this.R),this.R++}cancelSessionSetup(){!this.D&&this.g&&this.g.cancelSessionSetup()}},window.Ragnarok.ChooseStreamingSettings=function(e=0,i,r){return Pp(e,i,xp(r))},window.Ragnarok.ChooseStreamingResolution=function(e=0,i){return Pp(e,i=i==null?void 0:i.map(r=>({resolution:r,frameRate:60})),xp()).resolution},window.Ragnarok.InitializeUtils=function(){for(const e of Pl)e()},window.Ragnarok.GetSupportedAudioChannelCount=Rp,window.Ragnarok.GetDeviceCapabilities=Ym,window.Ragnarok.getSupportedCodecs=ev,window.Ragnarok.VirtualButton={A:4096,B:8192,X:16384,Y:32768,LB:256,RB:512,LT:255,RT:65280,BACK:32,START:16,STICK_LEFT:64,STICK_RIGHT:128,DPAD_UP:1,DPAD_DOWN:2,DPAD_LEFT:4,DPAD_RIGHT:8},window.Ragnarok.VirtualGamepadHandler=$p,window.Ragnarok.ConfigureRagnarokSettings=Ep,window.Ragnarok.CHANGELIST="rel-66-17789033",window.Ragnarok.AuthType={NONE:-1,JARVIS:0,JWT_GFN:1,JWT_PARTNER:2},window.Ragnarok.performHttpRequest=Et,window.Ragnarok.AddPlatformTelemetry=function(e){Yi(e)},window.Ragnarok.IsFeatureSupported=qm,window.Ragnarok.CalculateMaxBitrateKbps=function(e,i,r){return Kl(e,i,r)[0]},window.Ragnarok.CalculateDataUsage=function(e,i){return Jm(e,i)},window.Ragnarok.LogImpl=jy,window.Ragnarok.EVENTS={SESSION_START_RESULT:"SessionStartResult",SESSION_STOP_RESULT:"SessionStopResult",ACTIVE_SESSIONS_RESULT:"ActiveSessionsResult",PROGRESS_UPDATE:"ProgressUpdate",SESSION_UPDATE:"SessionUpdate",STREAM_STOPPED:"StreamStopped",STREAMING_EVENT:"StreamingEvent",GETSESSIONRESULT:"GetSessionResult",GET_SESSION_RESULT:"GetSessionResult",LOG_EVENT:"Log",STREAMING_QUALITY:"StreamingQuality",MIC_CAPTURE:"MicCapture",CUSTOM_MESSAGE:"CustomMessage",TEXT_COMPOSITION:"TextComposition",STREAM_STATS_UPDATE:"StreamStatsUpdate",TELEMETRY_EVENT:"TelemetryEvent"},window.Ragnarok.HotkeyModifier={None:0,Ctrl:1,Alt:2,Meta:4,Shift:8,Default:128},window.Ragnarok.defaultInputConfigFlags=Gs,window.Ragnarok.StreamingProfilePreset={BALANCED:0,DATASAVER:1,COMPETITIVE:2},window.Ragnarok.TrackType=gl,window.Ragnarok.STREAMING_STATE={RECONNECTING:"reconnecting",RECONNECTED:"reconnected"},window.Ragnarok.RNotificationCode=Al,window.Ragnarok.ScErrorCode=fl,window.Ragnarok.configureSessionControlSettings=Ve,window.Ragnarok.DeviceType={DESKTOP:"DESKTOP",LAPTOP:"LAPTOP",TV:"TV",PHONE:"PHONE",TABLET:"TABLET",CONSOLE:"CONSOLE"},window.Ragnarok.DeviceOS={WINDOWS:"WINDOWS",MACOS:"MACOS",SHIELD:"SHIELD",ANDROID:"ANDROID",IOS:"IOS",IPADOS:"IPADOS",CHROMEOS:"CHROMEOS",LINUX:"LINUX",TIZEN:"TIZEN",WEBOS:"WEBOS",TVOS:"TVOS",XBOX:"XBOX",STEAMOS:"STEAMOS",CCOS:"CCOS"},window.Ragnarok.NetworkType={OTHER:"OTHER",ETHERNET:"ETHERNET",UNKNOWN:"UNKNOWN",WIFI:"WIFI",WIFI_2_4:"WIFI_2_4",WIFI_5_0:"WIFI_5_0",MOBILE:"MOBILE",MOBILE_2G:"MOBILE_2G",MOBILE_3G:"MOBILE_3G",MOBILE_4G:"MOBILE_4G",MOBILE_5G:"MOBILE_5G",WIMAX:"WIMAX",BLUETOOTH:"BLUETOOTH"},window.Ragnarok.registerLogCallback=function(e){h.setLogCallback(e)},window.Ragnarok.LogLevel=wd,window.Ragnarok.createSessionControl=function(e){const i=new hl;if(sl(i,e))return i},window.Ragnarok.SdrHdrMode={SDR:0,HDR:1,EDR:2},window.Ragnarok.Usage={UNKNOWN:0,CONTROL:1,VIDEO:2,AUDIO:3,INPUT:4,CUSTOM:5,USB:6,RTSP:7,GAMESTREAM_CONTROL:8,GAMESTREAM_SECURE_CONTROL:9,SESSION_CONTROL:10,NETWORK_TEST_CONTROL:11,RTSPRU:12,AUDIO_INPUT:13,SIGNALING:14,MEDIA:15,RTSPS:16,BUNDLE:17},window.Ragnarok.Protocol={UNKNOWN:0,TCP:1,UDP:2},window.Ragnarok.AppLevelProtocol={UNKNOWN:0,RTSP:1,HTTP:2,RTSPRU:3,SOCKET:4,HTTPS:5,RTSPS:6},window.Ragnarok.AdState={UNKNOWN:0,NOT_STARTED:1,STARTED:2,PAUSED:3,RESUMED:4,FINISHED:5,CANCELED:6},window.Ragnarok.AdAction={UNKNOWN:0,START:1,PAUSE:2,RESUME:3,FINISH:4,CANCEL:5},window.Ragnarok.BitDepth={BIT_DEPTH_8:0,BIT_DEPTH_10:1},window.Ragnarok.ClientType={BROWSER:"BROWSER",GFNSDK:"GFNSDK",NATIVE:"NATIVE"},window.Ragnarok.SessionState={INITIALIZING:"initializing",READY_FOR_CONNECTION:"ready_for_connection",STREAMING:"streaming",PAUSED:"paused",RESUMING:"resuming",FINISHED:"finished",UNKNOWN:"unknown"},window.Ragnarok.SessionProgressState={CONNECTING:"Connecting",IN_QUEUE:"InQueue",CONFIGURING:"Configuring",PREVIOUS_SESSION_CLEANUP:"PreviousSessionCleanup",STARTING_STREAMER:"StartingStreamer"},window.Ragnarok.AppLaunchMode={Default:0,GamepadFriendly:1,TouchFriendly:2},window.Ragnarok.updateSessionParameters=function(e,i){var r;i=JSON.parse(i),e.monitorSettings=(r=i.clientRequestMonitorSettings)!==null&&r!==void 0?r:[],e.streamingFeatures=i.requestedStreamingFeatures},window.Ragnarok.isCancelCode=dn,window.Ragnarok.isResumableSessionState=Us,window.Ragnarok.getResumableSession=function(e,i){for(const r of e)if(r.appId===i&&Us(r.state))return r},window.Ragnarok.SessionControlTelemetry=At,window.Ragnarok.GsErrorCode=fl,window.Ragnarok.GridServerSettings=ye,window.Ragnarok.ConfigureGridServerSettings=function(e){Ve(e)},window.Ragnarok.BrowserName={UNKNOWN:"Unknown",CHROME:"Chrome",SAFARI:"Safari",YANDEX:"Yandex",EDGE:"Edge",EDGE_LEGACY:"Edge_Legacy",FIREFOX:"Firefox",SAMSUNG:"Samsung",CHROMIUM:"Chromium",OPERA:"Opera",BRAVE:"Brave",SILK:"Silk",REACT:"ReactNative"},window.Ragnarok.PlatformName={UNKNOWN:"Unknown",CHROME_OS:"ChromeOS",WINDOWS:"Windows",MAC:"macOS",LINUX:"Linux",IOS:"iOS",IPADOS:"iPadOS",WEBOS:"WebOS",TIZEN:"Tizen",ANDROID:"Android",FIRETV:"FireTV",XBOX:"Xbox",FREEBSD:"FreeBSD",STEAMOS:"SteamOS",CCOS:"ccOS"},window.Ragnarok.getPlatformDetails=Ns,window.Ragnarok.DeviceModel={STEAMDECK:"STEAMDECK",XBOX_ONE:"XBOXONE",XBOX_SERIES:"XBOXSERIES",VISION_PRO:"VISIONPRO"},window.Ragnarok.DeviceVendor={APPLE:"APPLE",LG:"LG",SAMSUNG:"SAMSUNG",TIZEN_LICENSED:"TIZENLICENSED",MICROSOFT:"MICROSOFT",AMAZON:"AMAZON",HKMC:"HKMC",SONY:"SONY",PHILIPS:"PHILIPS",GOOGLE:"GOOGLE",NVIDIA:"NVIDIA",XIAOMI:"XIAOMI",TVISION:"TVISION",UNKNOWN:""},window.Ragnarok.CLIENT_VERSION="29.0",window.Ragnarok.CLIENT_IDENTIFICATION="GFN-PC",window.Ragnarok.SESSIONMODIFY_ACTION={UNKNOWN:0,PAUSE:1,RESUME:2,Pg:3,Ng:4,Mg:5,Lg:6,Qg:7},window.Ragnarok.AudioFormat={UNKNOWN:0,STEREO:1,UP_TO_5_1_SURROUND_PCM:2,UP_TO_7_1_SURROUND_PCM:3},window.Ragnarok.ClientStreamer={CLASSIC:"NVIDIA-CLASSIC",WEBRTC:"WEBRTC"},window.Ragnarok.GS_EVENTS={ACTIVE_SESSIONS_RESULT:"ActiveSessionsResult",PROGRESS_UPDATE:"ProgressUpdate",SESSION_UPDATE:"SessionUpdate",TELEMETRY_EVENT:"TelemetryEvent",LOG_EVENT:"Log"},window.Ragnarok.GridServer=zo,window.Ragnarok.PassThruServer=vl,window.Ragnarok.VsyncType={OFF:0,ON:1,ADAPTIVE:2},window.Ragnarok.getDeviceCapabilities=Ym,window.Ragnarok.serializeDeviceCapabilities=function(e){return JSON.stringify(e)},window.Ragnarok.PayloadOSType={WINDOWS:"Windows",MACOS:"MacOS",SHIELD:"Shield",ANDROID:"Android",IOS:"iOS",IPADOS:"iPadOS",CHROMEOS:"ChromeOS",LINUX:"Linux",TIZEN:"Tizen",WEBOS:"WebOS",TVOS:"tvOS",XBOX:"Xbox",STEAMOS:"SteamOS",UNDEFINED:"undefined"},window.Ragnarok.PayloadBrowserType={CHROME:"Chrome",SAFARI:"Safari",YANDEX:"Yandex",EDGE:"Edge",EDGE_LEGACY:"Edge_legacy",FIREFOX:"Firefox",SAMSUNG:"Samsung",CHROMIUM:"Chromium",OPERA:"Opera",BRAVE:"Brave",SILK:"Silk",UNDEFINED:"undefined"},window.Ragnarok.PayloadDeviceType={DESKTOP:"Desktop",LAPTOP:"Laptop",TV:"TV",PHONE:"Phone",TABLET:"Tablet",SERVER:"Server",CONSOLE:"Console",UNDEFINED:"undefined"},window.Ragnarok.ClientHeaderOSType={WINDOWS:"WINDOWS",MACOS:"MACOS",SHIELD:"SHIELD",ANDROID:"ANDROID",IOS:"IOS",IPADOS:"IPADOS",CHROMEOS:"CHROMEOS",LINUX:"LINUX",TIZEN:"TIZEN",WEBOS:"WEBOS",XBOX:"XBOX",STEAMOS:"STEAMOS",UNKNOWN:"UNKNOWN"},window.Ragnarok.ClientHeaderBrowserType={CHROME:"CHROME",SAFARI:"SAFARI",YANDEX:"YANDEX",EDGE:"EDGE",EDGE_LEGACY:"EDGE_LEGACY",FIREFOX:"FIREFOX",SAMSUNG:"SAMSUNG",CHROMIUM:"CHROMIUM",OPERA:"OPERA",BRAVE:"BRAVE",SILK:"SILK",UNKNOWN:"UNKNOWN"},window.Ragnarok.ClientHeaderDeviceType={DESKTOP:"DESKTOP",LAPTOP:"LAPTOP",TV:"TV",PHONE:"PHONE",TABLET:"TABLET",CONSOLE:"CONSOLE",UNKNOWN:"UNKNOWN"},window.Ragnarok.translatePlatformDetailsForPayload=function(e){return(ai==null?void 0:ai.h)!=e&&(ai=new qr(e)),ai.m},window.Ragnarok.translatePlatformDetailsForClientHeader=function(e){return(ai==null?void 0:ai.h)!=e&&(ai=new qr(e)),ai.o},window.Ragnarok.getStreamerType=function(){return"WEBRTC"},window.Ragnarok.BrowserFeature={Streaming:0,MicCapture:1},window.Ragnarok.isFeatureSupported=qm,window.Ragnarok.shouldDefaultEnableMic=Qm,window.Ragnarok.getRecommendedBitrate=Kl,window.Ragnarok.getStreamStartParameters=function(e){const i={downstreamParams:[],signalConnectionInfo:{address:"",port:0},enableTouchInput:(e=JSON.parse(e)).appLaunchMode===2,sessionId:e.sessionId,subSessionId:e.subSessionId,audioTagId:"",zoneAddress:e.zoneAddress,statTelemetryInfo:{appId:e.appId,zoneName:e.zoneName,gpuType:e.gpuType},streamingFeatures:e.finalizedStreamingFeatures};for(const r of e.monitorSettings)i.downstreamParams.push({width:r.widthInPixels,height:r.heightInPixels,fps:r.framesPerSecond,videoTagId:"",sdrHdrMode:r.sdrHdrMode});for(const r of e.connectionInfo)switch(r.usage){case 14:i.signalConnectionInfo.address=r.ip,i.signalConnectionInfo.port=r.port,i.signalConnectionInfo.secure=r.appLevelProtocol===5;break;case 2:case 17:i.mediaConnectionInfo={address:r.ip,port:r.port}}return i},window.Ragnarok.estimateDataUsage=Jm,window.Ragnarok.NskTelemetry=$t,window.Ragnarok.createNskStreamClient=function(e,i,r){return new class{constructor(o,c,d){this.u=o,this.h=c,this.R=d,this.H=new sg,this.O=new lg,this.startTime=this.streamingState=0,this.isResume=!1,this.o=this.C=this.v=0,this.zoneName=this.zoneAddress=this.subSessionId=this.sessionId="",this.m=!1,this.appId=0,this.L=u=>{var p;return h.e("{0a9be04}","{8516485}",u.filename,u.lineno,u.colno),$t.za(u.error,u.error&&u.error.message?u.error.message:u.message,u.filename,u.lineno,u.colno,!1),((p=et.terminateUnhandledException)===null||p===void 0||p)&&no(this,3237093392),!1},this.N=()=>{var u;if(h.i("{0a9be04}","{478a408}",document.visibilityState,!!this.D),this.D){var p=this.K,m=this.Ea,E=p&&m&&Ke(this.u,!1,15,4)&&_d,T=Ke(this.u,!1,15,4)&&this.m&&Ld;document.visibilityState==="hidden"?(this.C=performance.now(),E&&(h.i("{0a9be04}","{cbd3b6e}"),p.muted=!0,m.muted=!0)):document.visibilityState==="visible"&&(E&&(h.i("{0a9be04}","{05deefa}"),p.muted=!1,m.muted=!1),T?(p=(u=et.userTerminatedMicRecorderThreshold)!==null&&u!==void 0?u:2e3,this.C-this.g.O<p?(h.i("{0a9be04}","{862bd20}"),this.g.I=!0,this.captureMic(!0)):this.m=!1):Ke(this.u,!1,15,4)&&!this.g.o&&yu(this.g)&&this.g.F&&Gl(this.g,"visibilityChange"))}},this.M=()=>{var u,p;no(this,((u=this.P)!==null&&u!==void 0?u:(p=this.D)!==null&&p!==void 0&&p.H)?15867912:15867905)},this.F=()=>{Gm(this.g,this.o),this.o++},this.I=u=>{var p;u.detail.idle&&((p=this.D)===null||p===void 0||Bu(p,2,60),this.v=window.setTimeout(()=>{var m;(m=this.D)===null||m===void 0||Xt(m,15867913)},6e4))},this.s=()=>{this.g.j()},this.j=new um(this.u,window.zoneless),this.g=new Vm(this.u,$t),this.l=new ig($t),ea&&(this.j.l.push(this.H),iu(this.j)),Yi($t),function(){var u,p,m;if(et.sendNonEssentialMetricEvents){var E=performance.getEntriesByName("GfnJsInitStart")[0];const T=performance.getEntriesByName("platformBegin")[0],x=performance.getEntriesByName("GfnNskBegin")[0],g=performance.getEntriesByType("navigation");E=Math.round((u=E==null?void 0:E.startTime)!==null&&u!==void 0?u:-1),u=Math.round((p=T==null?void 0:T.startTime)!==null&&p!==void 0?p:-1),wt($t,"PerformanceTiming","application timings",E,u,Math.round((m=x==null?void 0:x.startTime)!==null&&m!==void 0?m:-1),u-E),g.length?(p=g[g.length-1],wt($t,"PerformanceTiming","load timings",Math.round(p.loadEventStart),Math.round(p.loadEventEnd),Math.round(p.domContentLoadedEventStart),Math.round(p.domContentLoadedEventEnd))):wt($t,"PerformanceTiming","navigation timings unsupported",0,0,0,0)}}(),function(){if(navigator.mediaCapabilities){var u=performance.now();tr("h264").then(async p=>{if(p){p=tr("h264; profile-level-id=640033",2560,1440,60);var m=tr("h264; profile-level-id=64e033",2560,1440,60);p=Cr(await p),m=Cr(await m);const x=performance.now()-u;var E=bu(),T=tr("h264",1920,1080,120);E=Cr(await E),T=Cr(await T);const g=await da(Js),D=await Zm();h.d("{0a9be04}","{1efbc27}",g,D),wt($t,"DisplayCaps","Is120FpsSupported: "+D,g,0,0,0),wt($t,"MediaCapabilities","codec 5.1: "+p+" 5.1 constrained: "+m+" AV1: "+E,x,T,p|m,Math.round(window.screen.height))}else wt($t,"MediaCapabilities","webrtc unsupported",performance.now()-u,-1,-1,-1)})}else wt($t,"MediaCapabilities","API unsupported",-1,-1,-1,-1)}(),et.sendNonEssentialMetricEvents&&wt($t,"PlatformDetailsExecutionTime","",this.u.totalTime,0,0,0),h.i("{0a9be04}","{2569364}","0.66.9"),h.d("{0a9be04}","{e85ad66}",navigator.userAgent)}startStreaming(o){var c,d,u,p,m,E,T,x,g,D,C,S,U,H,B;if(this.streamingState!==4&&this.streamingState!==0)return h.w("{0a9be04}","{60a7ff5}"),Kt($t,"SessionSetupInProgressError",o.resume?"resume":"start"),3237085186;const W=function(_){var z;const V={errorCode:void 0,streamParams:Object.assign({},_),Ea:void 0,de:[]};if(0<V.streamParams.downstreamParams.length||!_.audioTagId){for(var N of V.streamParams.downstreamParams)(_=document.getElementById(N.videoTagId))&&_ instanceof HTMLVideoElement&&V.de.push(_);if(!V.de.length)return{errorCode:3237094400}}else{if(!((N=document.getElementById(_.audioTagId))&&N instanceof HTMLAudioElement))return{errorCode:3237094401};V.Ea=N}const $=!!Sr&&!!yr,ne=!!Zi;return($||ne)&&((z=V.streamParams.downstreamParams)===null||z===void 0||z.forEach(ge=>{$&&(ge.width=Sr,ge.height=yr),ne&&(ge.fps=Zi)}),$&&h.i("{0a9be04}","{92a6b38}",Sr,yr),ne&&h.d("{0a9be04}","{6618bcd}",Zi)),V}(o);if(W.errorCode)return W.errorCode;if(o=W.streamParams,this.K=W.de[0],this.Ea=W.Ea,this.isResume=(c=o.resume)!==null&&c!==void 0&&c,this.sessionId=o.sessionId,this.subSessionId=(d=o.subSessionId)!==null&&d!==void 0?d:"",this.zoneAddress=(u=o.zoneAddress)!==null&&u!==void 0?u:"",this.zoneName=(m=(p=o.statTelemetryInfo)===null||p===void 0?void 0:p.zoneName)!==null&&m!==void 0?m:"",this.appId=(T=(E=o.statTelemetryInfo)===null||E===void 0?void 0:E.appId)!==null&&T!==void 0?T:0,function(_,z,V,N,$){var ne=$t;ne.subSessionId=_,ne.sessionId=z,ne.cmsId=V,ne.isResume=N,ne.zoneAddress=$}(this.subSessionId,this.sessionId,this.appId.toString(),this.isResume,this.zoneAddress),this.l.sessionId=this.sessionId,this.l.subSessionId=this.subSessionId,Ke(this.u,!1,15)){const _=this.K;_.ragnarokOldPlay||(_.ragnarokOldPlay=this.K.play);const z=ta&&Ke(this.u,!0,15,1);this.K.play=()=>{var V,N,$;if(Fi&&(h.i("{0a9be04}","{4a5b360}"),Ng(this),function(ne){if(Fi)if(window.ios15AudioContext)h.i("{0a9be04}","{e2aba64}");else{var ge=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"interactive",sampleRate:48e3});ge.onstatechange=()=>{ge.state==="suspended"&&(ge.resume(),ne.g.j(),h.i("{0a9be04}","{faee684}"))},window.ios15AudioContext=ge,window.ios15AudioStream=ge.createMediaStreamDestination(),navigator.mediaDevices&&ne.s&&navigator.mediaDevices.addEventListener("devicechange",ne.s),h.i("{0a9be04}","{b5f7b9b}")}}(this),this.g.j()),z){h.i("{0a9be04}","{8f5cd77}");const ne=(N=(V=this.K)===null||V===void 0?void 0:V.srcObject)!==null&&N!==void 0?N:null;($=this.K)!==null&&$!==void 0&&$.srcObject&&(this.K.srcObject=null,this.K.srcObject=ne)}return _.ragnarokOldPlay.apply(this.K)}}return na&&(Ke(this.u,!0,15,0)||Ke(this.u,!0,15,1))&&(this.K.hasAttribute("data-shouldautoplay")?this.K.setAttribute("autoplay",""):(this.K.setAttribute("data-shouldautoplay",""),this.K.removeAttribute("autoplay"))),u={ip:"",port:0,appLevelProtocol:0,usage:0,protocol:0},o.mediaConnectionInfo&&(u.ip=o.mediaConnectionInfo.address,u.port=o.mediaConnectionInfo.port,u.usage=2),p={ip:o.signalConnectionInfo.address,port:o.signalConnectionInfo.port,protocol:o.signalConnectionInfo.secure?"wss":"ws"},m={width:(c=o.downstreamParams[0]).width,height:c.height,fps:c.fps,sdrHdrMode:c.sdrHdrMode},d={appId:this.appId,appLaunchMode:o.enableTouchInput?2:0,clientLocale:(g=(x=o.statTelemetryInfo)===null||x===void 0?void 0:x.clientLocale)!==null&&g!==void 0?g:"",gpuType:(C=(D=o.statTelemetryInfo)===null||D===void 0?void 0:D.gpuType)!==null&&C!==void 0?C:"",mediaConnectionInfo:[u],sessionId:this.sessionId,signalConnectionInfo:p,state:"ready_for_connection",streamInfo:[m],subSessionId:this.subSessionId,zoneAddress:this.zoneAddress,zoneName:this.zoneName,finalizedStreamingFeatures:o.streamingFeatures},x={width:c.width,height:c.height,fps:c.fps,maxBitrateKbps:c.maxBitrateKbps,videoTagId:c.videoTagId,audioTagId:o.audioTagId},(S=(g={...Gs}).windowedStreaming)!==null&&S!==void 0||(g.windowedStreaming=o.windowedStreaming),(U=g.cursorType)!==null&&U!==void 0||(g.cursorType=o.cursorType),this.D=new tg(this,this.K,this.Ea,this.g,g,this.H,this.j,$t,this.u,d,x,this.O,this.R.textInputElement,(H=o.statTelemetryInfo)===null||H===void 0?void 0:H.clientAppVersion,this.isResume,(B=o.statTelemetryInfo)===null||B===void 0?void 0:B.region,c.dynamicStreamingMode,o.upstreamParams),function(_){var z,V,N,$;const ne=window.zoneless,ge=(V=(z=ne==null?void 0:ne.windowAddEventListener)===null||z===void 0?void 0:z.bind(window))!==null&&V!==void 0?V:window.addEventListener.bind(window);z=($=(N=ne==null?void 0:ne.documentAddEventListener)===null||N===void 0?void 0:N.bind(document))!==null&&$!==void 0?$:document.addEventListener.bind(document),ge("pagehide",_.M),ge("error",_.L),z("visibilitychange",_.N),navigator.mediaDevices&&navigator.mediaDevices.addEventListener("devicechange",_.F),Ae(_.u)&&z("SystemIdle",_.I)}(this),this.streamingState=1,ng(this.l),this.startTime=performance.now(),this.D.start(),o.keyboardLayout&&this.D.setKeyboardLayout(o.keyboardLayout),15859712}stopStreaming(o){!this.D||this.streamingState!==1&&this.streamingState!==2||(o=o??15859712,h.i("{0a9be04}","{ae7f61b}",ee(o)),this.streamingState=3,no(this,o,!0))}getStreamingState(){return this.streamingState}sendCustomMessage(o){var c;return(c=this.D)===null||c===void 0||c.sendCustomMessage(o),!!this.D}setStreamingMaxBitrate(o,c,d){var u;return(u=this.D)===null||u===void 0||u.setStreamingMaxBitrate(c??0,o,d),!!this.D}setDynamicStreamingMode(o,c,d){var u;return(u=this.D)===null||u===void 0||u.setDrcDfcState(c??0,o,d),!!this.D}setKeyboardLayout(o){var c;return(c=this.D)===null||c===void 0||c.setKeyboardLayout(o),!!this.D}setSupportedHidTypes(o){Qd(this.j,o)}setGamepadRsdmm(o){return!!this.D&&(eu(this.j,o),!0)}getVirtualInputController(){return this}getGamepadBitmap(){return dm(this.j)}captureUserInput(o,c){var d;return(d=this.D)===null||d===void 0||d.toggleUserInput(o,c),!!this.D}sendTextInput(o){var c;return(c=this.D)===null||c===void 0||c.sendTextInput(o),!!this.D}getMicState(){return Au()}captureMic(o){return!!this.D&&((this.m=o)?Vl(this.g):Su(this.g),!0)}setVideoTransforms(o,c,d){var u;return(u=this.D)===null||u===void 0||u.setVideoTransforms(o,c,d),!!this.D}setUpstreamMedia(o,c){var d;return this.D?(d=this.D)===null||d===void 0?void 0:d.setUpstreamMedia(o,c):Promise.resolve(!1)}unsetUpstreamMedia(o){var c;return this.D?(c=this.D)===null||c===void 0?void 0:c.unsetUpstreamMedia(o):Promise.resolve(!1)}stopUpstreamMedia(o){var c;return this.D?(c=this.D)===null||c===void 0?void 0:c.stopUpstreamMedia(o):Promise.resolve(!1)}Gc(o){var c,d,u,p,m,E,T,x;let g=15859712;if(o.error)g=o.error.code,this.h.onStreamStartFailed(g),no(this,g);else if((c=o.streamInfo)!==null&&c!==void 0&&c.length&&(d=o.streams)!==null&&d!==void 0&&d.length){this.streamingState=2,c={streams:[],separateAudioStream:!!o.streams.find(D=>{const C=D.tracks.find(S=>S.kind==="video");return D=D.tracks.find(S=>S.kind==="audio"),!C&&D})};for(const D of o.streamInfo)d={width:D.width,height:D.height,fps:D.fps,sdrHdrMode:D.sdrHdrMode,bitDepth:(u=o.bitDepth)!==null&&u!==void 0?u:8,codec:(p=this.D)===null||p===void 0?void 0:Zs(p),videoTagId:(E=(m=this.K)===null||m===void 0?void 0:m.tagName)!==null&&E!==void 0?E:""},c.streams.push(d);this.h.onStreamStarted(c),this.isResume&&this.m&&this.captureMic(!0)}else g=3237093905,h.e("{0a9be04}","{0cfb100}"),this.h.onStreamStartFailed(g),no(this,g);(function(D,C,S){var U,H,B,W=$t;const _=new zm({zoneAddress:W.zoneAddress,networkSessionId:(U=W.telemetryEventIds.networkTestId)!==null&&U!==void 0?U:"",sessionId:W.sessionId,subSessionId:W.subSessionId,resumeType:Rl(W.isResume),overrideConfigType:xn.type,overrideConfigVersion:xn.version,result:C,codec:Il(S),ipVersion:"UNKNOWN",launchDuration:Math.round(D),networkType:jt(Ui.getCurrentNetworkType()),streamingProfileGuid:(H=W.telemetryEventIds.streamingProfileGuid)!==null&&H!==void 0?H:"",systemInfoGuid:(B=W.telemetryEventIds.systemInfoGuid)!==null&&B!==void 0?B:"",cmsId:W.cmsId});W.h(_)})(Math.round(performance.now()-this.startTime),ee(g),(x=(T=this.D)===null||T===void 0?void 0:Zs(T))!==null&&x!==void 0?x:"UNKNOWN"),this.startTime=performance.now()}Cf(o){no(this,o.error.code)}Df(){th(this)}emit(o,...c){if(c.length)switch(o){case"StreamingEvent":this.h.onStreamWarning(c[0]);break;case"StreamingQuality":this.h.onStreamQuality(c[0]);break;case"MicCapture":this.h.onMicStateUpdate&&c[0].state!==void 0&&this.h.onMicStateUpdate(c[0].state);break;case"TextComposition":this.h.onTextComposition(c[0]);break;case"CustomMessage":this.h.onCustomMessage&&this.h.onCustomMessage(c[0]);break;case"StreamStatsUpdate":this.h.onStreamStatistics(c[0])}}addListener(){}removeListener(){}removeAllListeners(){}removeAllListenersOfEvent(){}hasListener(){return!0}setClientSupportsVirtualGamepad(){this.j.getVirtualGamepadHandler().enable()}handleVirtualGamepadState(o,c,d){this.j.getVirtualGamepadHandler().updateInput(o,c,d)}setVirtualKeyboardState(o){var c;return(c=this.D)===null||c===void 0||c.setVirtualKeyboardState(o),!!this.D}handleVirtualKeyInput(o){var c;return(c=this.D)===null||c===void 0||c.sendKeyEvent(o),!!this.D}}(e,i,r)},window.Ragnarok.configureRagnarokSettings=Ep,window.Ragnarok.getNetworkTypeDetector=function(){return Ui},window.Ragnarok.RErrorCode={Success:15859712,AuthProviderError:3237085185,InvalidOperation:3237085186,NoNetwork:3237089281,NetworkError:3237089282,GetActiveSessionServerError:3237089283,ExceptionHappened:3237089284,AuthTokenNotUpdated:3237093377,SessionFinishedState:3237093378,ResponseParseFailure:3237093379,GridAppNotInitialized:3237093380,InvalidServerResponse:3237093381,PutOrPostInProgress:3237093382,GridServerNotInitialized:3237093383,DOMExceptionInGridServer:3237093384,InvalidAdStateTransition:3237093386,SessionServerErrorBegin:3237093632,RequestForbidden:3237093634,ServerInternalTimeout:3237093635,ServerInternalError:3237093636,ServerInvalidRequest:3237093637,ServerInvalidRequestVersion:3237093638,SessionListLimitExceeded:3237093639,InvalidRequestDataMalformed:3237093640,InvalidRequestDataMissing:3237093641,RequestLimitExceeded:3237093642,SessionLimitExceeded:3237093643,InvalidRequestVersionOutOfDate:3237093644,SessionEntitledTimeExceeded:3237093645,AuthFailure:3237093646,InvalidAuthenticationMalformed:3237093647,InvalidAuthenticationExpired:3237093648,InvalidAuthenticationNotFound:3237093649,EntitlementFailure:3237093650,InvalidAppIdNotAvailable:3237093651,InvalidAppIdNotFound:3237093652,InvalidSessionIdMalformed:3237093653,InvalidSessionIdNotFound:3237093654,EulaUnAccepted:3237093655,MaintenanceStatus:3237093656,ServiceUnAvailable:3237093657,SteamGuardRequired:3237093658,SteamLoginRequired:3237093659,SteamGuardInvalid:3237093660,SteamProfilePrivate:3237093661,InvalidCountryCode:3237093662,InvalidLanguageCode:3237093663,MissingCountryCode:3237093664,MissingLanguageCode:3237093665,SessionNotPaused:3237093666,EmailNotVerified:3237093667,InvalidAuthenticationUnsupportedProtocol:3237093668,InvalidAuthenticationUnknownToken:3237093669,InvalidAuthenticationCredentials:3237093670,SessionNotPlaying:3237093671,InvalidServiceResponse:3237093672,AppPatching:3237093673,GameNotFound:3237093674,NotEnoughCredits:3237093675,InvitationOnlyRegistration:3237093676,RegionNotSupportedForRegistration:3237093677,SessionTerminatedByAnotherClient:3237093678,DeviceIdAlreadyUsed:3237093679,ServiceNotExist:3237093680,SessionExpired:3237093681,SessionLimitPerDeviceReached:3237093682,ForwardingZoneOutOfCapacity:3237093683,RegionNotSupportedIndefinitely:3237093684,RegionBanned:3237093685,RegionOnHoldForFree:3237093686,RegionOnHoldForPaid:3237093687,AppMaintenanceStatus:3237093688,ResourcePoolNotConfigured:3237093689,InsufficientVmCapacity:3237093690,InsufficientRouteCapacity:3237093691,InsufficientScratchSpaceCapacity:3237093692,RequiredSeatInstanceTypeNotSupported:3237093693,ServerSessionQueueLengthExceeded:3237093694,RegionNotSupportedForStreaming:3237093695,SessionForwardRequestAllocationTimeExpired:3237093696,SessionForwardGameBinariesNotAvailable:3237093697,GameBinariesNotAvailableInRegion:3237093698,UekRetrievalFailed:3237093699,EntitlementFailureForResource:3237093700,SessionInQueueAbandoned:3237093701,MemberTerminated:3237093702,SessionRemovedFromQueueMaintenance:3237093703,ZoneMaintenanceStatus:3237093704,GuestModeCampaignDisabled:3237093705,RegionNotSupportedAnonymousAccess:3237093706,InstanceTypeNotSupportedInSingleRegion:3237093707,InvalidZoneForQueuedSession:3237093710,SessionWaitingAdsTimeExpired:3237093711,UserCancelledWatchingAds:3237093712,SessionServerErrorEnd:3237093887,StreamerErrorCategory:3237093888,StreamErrorGeneric:3237093889,StreamerSignInFailure:3237093890,StreamerHangingGetFailure:3237093891,StreamerNetworkError:3237093892,StreamerVideoPlayError:3237093893,StreamerIceConnectionFailed:3237093894,StreamerGetRemotePeerTimedOut:3237093895,StreamInputChannelError:3237093896,StreamCursorChannelError:3237093897,StreamControlChannelError:3237093898,StreamerReConnectionFailed:3237093899,StreamerNoVideoPacketsReceivedEver:3237093900,StreamerNoVideoFramesLossyNetwork:3237093901,StreamerSetSDPFailure:3237093902,StreamerNoLocalCandidates:3237093903,StreamerNoRemoteCandidates:3237093904,StreamerNoVideoTrack:3237093905,StreamerIceReConnectionFailed:3237093906,StreamerSignInTimeout:3237093907,StreamerSignInWorkerFailure:3237093908,StreamerNoTracksReceivedInSdp:3237093909,StreamerNvstSdpFailure:3237093910,StreamerNvstSdpParseFailure:3237093911,StreamerNoPeerInfo:3237093912,StreamerNoOffer:3237093913,StreamerNoAudioTrack:3237093914,StreamerInvalidRemoteConfigOverride:3237093915,StreamerInvalidServerOverride:3237093916,StreamerInvalidClientOverride:3237093917,StreamerConfigUpdateFailure:3237093918,StreamerInputChannelNotOpen:3237093919,StreamerCursorChannelNotOpen:3237093920,StreamerControlChannelNotOpen:3237093921,StreamerVideoAdapterInitTimeOut:3237093922,StreamerVideoFrameProviderInitTimeOut:3237093923,StreamerVideoEncoderInitTimeOut:3237093924,StreamerVideoSetupTimeOut:3237093925,StreamerNoStunResponsesReceived:3237093926,StreamerNoNominatedCandidatePairs:3237093927,StreamerNoSucceededCandidatePairs:3237093928,StreamGamepadChannelError:3237093929,StreamerGamepadChannelNotOpen:3237093936,StreamerNeedAudioElement:3237093937,SessionSetupCancelled:15867905,SessionSetupCancelledDuringQueuing:15867906,StreamerDataChannelClosing:15867907,SystemSleepDuringStreaming:15867908,SystemSleepDuringSessionSetup:15867909,PauseSession:15867910,DelayedSessionError:15867911,WebPageClosed:15867912,ClientDisconnectedUserIdle:15867913,UnhandledException:3237093392,NoInternetDuringSessionSetup:15868417,NoInternetDuringStreaming:15868418,StreamDisconnectedFromServer:15868672,ServerDisconnectedNoResponse:3237094145,ServerDisconnectedRemoteInputError:3237094146,ServerDisconnectedFrameGrabFailed:3237094147,ServerDisconnectedConfigUnAvailable:3237094148,ServerDisconnectedInvalidCommand:3237094149,ServerDisconnectedInvalidMouseState:3237094150,ServerDisconnectedNetworkError:3237094151,ServerDisconnectedGameLaunchFailed:3237094152,ServerDisconnectedVideoFirstFrameSendFailed:3237094153,ServerDisconnectedVideoNextFrameSendFailed:3237094154,ServerDisconnectedFrameGrabTimedOut:3237094155,ServerDisconnectedFrameEncodeTimedOut:3237094156,ServerDisconnectedFrameSendTimedOut:3237094157,ServerDisconnectedNetworkTimedOut:3237094158,ServerDisconnectedPeerRemovedByServer:3237094159,ServerDisconnectedUnknownError:3237094160,ServerDisconnectedPeerRemovedBeforeStream:3237094161,ServerDisconnectedIntended:15868704,ServerDisconnectedHotKey:15868705,ServerDisconnectedUserLoggedInDifferentAccount:15868706,ServerDisconnectedWindowedMode:15868707,ServerDisconnectedUserIdle:15868708,ServerDisconnectedUnAuthorizedProcessDetected:15868709,ServerDisconnectedMaliciousProcessDetected:15868710,ServerDisconnectedUnKnownProcessDetected:15868711,ServerDisconnectedMinerProcessDetected:15868712,ServerDisconnectedStreamingUnsupported:15868713,ServerDisconnectedAnotherClient:15868714,ServerDisconnectedCodeIntegrityViolation:15868715,ServerDisconnectedUnauthorizedActivityDetected:15868716,ServerDisconnectedGameNotOwnedByUser:15868717,ServerDisconnectedProtectedContent:15868718,ServerDisconnectedDisplayTopologyChanged:15868719,ServerDisconnectedAbruptly:15868688,ServerDisconnectedUnknownFromPm:15868736,ServerDisconnectedUserEntitledMinutesExceeded:15868737,ServerDisconnectedClientReconnectTimeLimitExceeded:15868738,ServerDisconnectedOperatorCommandedTermination:15868739,ServerDisconnectedConcurrentSessionLimitExceeded:15868740,ServerDisconnectedMaxSessionTimeLimitExceeded:15868741,ServerDisconnectedBifrostInitiatedSessionPause:15868742,ServerDisconnectedSystemCommandTermination:15868743,ServerDisconnectedMultipleLogin:15868744,ServerDisconnectedMaintenanceMode:15868745,ServerDisconnectedMultipleTab:15868752,InvalidVideoElement:3237094400,InvalidAudioElement:3237094401},window.Ragnarok.HidType={NONE:0,DS4:1,DS5:2},window.Ragnarok.InputType={None:0,Mouse:1,Keyboard:2,Gamepad:4,Touch:8,All:15},window.Ragnarok.VideoCodecType={H264:"H264",H265:"H265",AV1:"AV1",UNKNOWN:"UNKNOWN"},window.Ragnarok.MicState={UNINITIALIZED:0,PERMISSION_PENDING:1,PERMISSION_DENIED:2,STARTED:3,NO_SUITABLE_DEVICE:4,STOPPED:5,UNSUPPORTED:6,ERROR:7},window.Ragnarok.DynamicStreamingMode={NONE:0,DRC:1,DFC:2,ALL:3},window.Ragnarok.MediaTrackKind=gl,window.Ragnarok.StreamStopReason={CLIENT_DISCONNECTED:0,SERVER_DISCONNECTED:1,NETWORK_ERROR:2,ERROR:3},window.Ragnarok.StreamWarningType=Al,window.Ragnarok.CursorType={SOFTWARE:0,HARDWARE:1,FREE:2},window.Ragnarok.StreamingState={NONE:0,STARTING_STREAM:1,STREAMING:2,STOPPING_STREAM:3,STOPPED:4}},134:(M,v,y)=>{var R=y(985);function I(se,pe,we,Be,Se){var Je=R.writeRtpDescription(se.kind,pe);if(Je+=R.writeIceParameters(se.iceGatherer.getLocalParameters()),Je+=R.writeDtlsParameters(se.dtlsTransport.getLocalParameters(),we==="offer"?"actpass":Se||"active"),Je+="a=mid:"+se.mid+`\r
`,se.rtpSender&&se.rtpReceiver?Je+=`a=sendrecv\r
`:se.rtpSender?Je+=`a=sendonly\r
`:se.rtpReceiver?Je+=`a=recvonly\r
`:Je+=`a=inactive\r
`,se.rtpSender){var F=se.rtpSender._initialTrackId||se.rtpSender.track.id;se.rtpSender._initialTrackId=F;var Q="msid:"+(Be?Be.id:"-")+" "+F+`\r
`;Je+="a="+Q,Je+="a=ssrc:"+se.sendEncodingParameters[0].ssrc+" "+Q,se.sendEncodingParameters[0].rtx&&(Je+="a=ssrc:"+se.sendEncodingParameters[0].rtx.ssrc+" "+Q,Je+="a=ssrc-group:FID "+se.sendEncodingParameters[0].ssrc+" "+se.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return Je+="a=ssrc:"+se.sendEncodingParameters[0].ssrc+" cname:"+R.localCName+`\r
`,se.rtpSender&&se.sendEncodingParameters[0].rtx&&(Je+="a=ssrc:"+se.sendEncodingParameters[0].rtx.ssrc+" cname:"+R.localCName+`\r
`),Je}function P(se,pe){var we={codecs:[],headerExtensions:[],fecMechanisms:[]},Be=function(Je,F){Je=parseInt(Je,10);for(var Q=0;Q<F.length;Q++)if(F[Q].payloadType===Je||F[Q].preferredPayloadType===Je)return F[Q]},Se=function(Je,F,Q,ee){var ae=Be(Je.parameters.apt,Q),Ae=Be(F.parameters.apt,ee);return ae&&Ae&&ae.name.toLowerCase()===Ae.name.toLowerCase()};return se.codecs.forEach(function(Je){for(var F=0;F<pe.codecs.length;F++){var Q=pe.codecs[F];if(Je.name.toLowerCase()===Q.name.toLowerCase()&&Je.clockRate===Q.clockRate){if(Je.name.toLowerCase()==="rtx"&&Je.parameters&&Q.parameters.apt&&!Se(Je,Q,se.codecs,pe.codecs))continue;(Q=JSON.parse(JSON.stringify(Q))).numChannels=Math.min(Je.numChannels,Q.numChannels),we.codecs.push(Q),Q.rtcpFeedback=Q.rtcpFeedback.filter(function(ee){for(var ae=0;ae<Je.rtcpFeedback.length;ae++)if(Je.rtcpFeedback[ae].type===ee.type&&Je.rtcpFeedback[ae].parameter===ee.parameter)return!0;return!1});break}}}),se.headerExtensions.forEach(function(Je){for(var F=0;F<pe.headerExtensions.length;F++){var Q=pe.headerExtensions[F];if(Je.uri===Q.uri){we.headerExtensions.push(Q);break}}}),we}function j(se,pe,we){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[pe][se].indexOf(we)!==-1}function ce(se,pe){var we=se.getRemoteCandidates().find(function(Be){return pe.foundation===Be.foundation&&pe.ip===Be.ip&&pe.port===Be.port&&pe.priority===Be.priority&&pe.protocol===Be.protocol&&pe.type===Be.type});return we||se.addRemoteCandidate(pe),!we}function h(se,pe){var we=new Error(pe);return we.name=se,we.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[se],we}M.exports=function(se,pe){function we(F,Q){Q.addTrack(F),Q.dispatchEvent(new se.MediaStreamTrackEvent("addtrack",{track:F}))}function Be(F,Q,ee,ae){var Ae=new Event("track");Ae.track=Q,Ae.receiver=ee,Ae.transceiver={receiver:ee},Ae.streams=ae,se.setTimeout(function(){F._dispatchEvent("track",Ae)})}var Se=function(F){var Q=this,ee=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(Ae){Q[Ae]=ee[Ae].bind(ee)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",F=JSON.parse(JSON.stringify(F||{})),this.usingBundle=F.bundlePolicy==="max-bundle",F.rtcpMuxPolicy==="negotiate")throw h("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(F.rtcpMuxPolicy||(F.rtcpMuxPolicy="require"),F.iceTransportPolicy){case"all":case"relay":break;default:F.iceTransportPolicy="all"}switch(F.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:F.bundlePolicy="balanced"}if(F.iceServers=function(Ae,He){var oe=!1;return(Ae=JSON.parse(JSON.stringify(Ae))).filter(function(Ce){if(Ce&&(Ce.urls||Ce.url)){var De=Ce.urls||Ce.url;Ce.url&&!Ce.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var Fe=typeof De=="string";return Fe&&(De=[De]),De=De.filter(function(_e){return _e.indexOf("turn:")!==0||_e.indexOf("transport=udp")===-1||_e.indexOf("turn:[")!==-1||oe?_e.indexOf("stun:")===0&&He>=14393&&_e.indexOf("?transport=udp")===-1:(oe=!0,!0)}),delete Ce.url,Ce.urls=Fe?De[0]:De,!!De.length}})}(F.iceServers||[],pe),this._iceGatherers=[],F.iceCandidatePoolSize)for(var ae=F.iceCandidatePoolSize;ae>0;ae--)this._iceGatherers.push(new se.RTCIceGatherer({iceServers:F.iceServers,gatherPolicy:F.iceTransportPolicy}));else F.iceCandidatePoolSize=0;this._config=F,this.transceivers=[],this._sdpSessionId=R.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(Se.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(Se.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),Se.prototype.onicecandidate=null,Se.prototype.onaddstream=null,Se.prototype.ontrack=null,Se.prototype.onremovestream=null,Se.prototype.onsignalingstatechange=null,Se.prototype.oniceconnectionstatechange=null,Se.prototype.onconnectionstatechange=null,Se.prototype.onicegatheringstatechange=null,Se.prototype.onnegotiationneeded=null,Se.prototype.ondatachannel=null,Se.prototype._dispatchEvent=function(F,Q){this._isClosed||(this.dispatchEvent(Q),typeof this["on"+F]=="function"&&this["on"+F](Q))},Se.prototype._emitGatheringStateChange=function(){var F=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",F)},Se.prototype.getConfiguration=function(){return this._config},Se.prototype.getLocalStreams=function(){return this.localStreams},Se.prototype.getRemoteStreams=function(){return this.remoteStreams},Se.prototype._createTransceiver=function(F,Q){var ee=this.transceivers.length>0,ae={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:F,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&ee)ae.iceTransport=this.transceivers[0].iceTransport,ae.dtlsTransport=this.transceivers[0].dtlsTransport;else{var Ae=this._createIceAndDtlsTransports();ae.iceTransport=Ae.iceTransport,ae.dtlsTransport=Ae.dtlsTransport}return Q||this.transceivers.push(ae),ae},Se.prototype.addTrack=function(F,Q){if(this._isClosed)throw h("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var ee;if(this.transceivers.find(function(Ae){return Ae.track===F}))throw h("InvalidAccessError","Track already exists.");for(var ae=0;ae<this.transceivers.length;ae++)this.transceivers[ae].track||this.transceivers[ae].kind!==F.kind||(ee=this.transceivers[ae]);return ee||(ee=this._createTransceiver(F.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(Q)===-1&&this.localStreams.push(Q),ee.track=F,ee.stream=Q,ee.rtpSender=new se.RTCRtpSender(F,ee.dtlsTransport),ee.rtpSender},Se.prototype.addStream=function(F){var Q=this;if(pe>=15025)F.getTracks().forEach(function(ae){Q.addTrack(ae,F)});else{var ee=F.clone();F.getTracks().forEach(function(ae,Ae){var He=ee.getTracks()[Ae];ae.addEventListener("enabled",function(oe){He.enabled=oe.enabled})}),ee.getTracks().forEach(function(ae){Q.addTrack(ae,ee)})}},Se.prototype.removeTrack=function(F){if(this._isClosed)throw h("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(F instanceof se.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var Q=this.transceivers.find(function(ae){return ae.rtpSender===F});if(!Q)throw h("InvalidAccessError","Sender was not created by this connection.");var ee=Q.stream;Q.rtpSender.stop(),Q.rtpSender=null,Q.track=null,Q.stream=null,this.transceivers.map(function(ae){return ae.stream}).indexOf(ee)===-1&&this.localStreams.indexOf(ee)>-1&&this.localStreams.splice(this.localStreams.indexOf(ee),1),this._maybeFireNegotiationNeeded()},Se.prototype.removeStream=function(F){var Q=this;F.getTracks().forEach(function(ee){var ae=Q.getSenders().find(function(Ae){return Ae.track===ee});ae&&Q.removeTrack(ae)})},Se.prototype.getSenders=function(){return this.transceivers.filter(function(F){return!!F.rtpSender}).map(function(F){return F.rtpSender})},Se.prototype.getReceivers=function(){return this.transceivers.filter(function(F){return!!F.rtpReceiver}).map(function(F){return F.rtpReceiver})},Se.prototype._createIceGatherer=function(F,Q){var ee=this;if(Q&&F>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var ae=new se.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(ae,"state",{value:"new",writable:!0}),this.transceivers[F].bufferedCandidateEvents=[],this.transceivers[F].bufferCandidates=function(Ae){var He=!Ae.candidate||Object.keys(Ae.candidate).length===0;ae.state=He?"completed":"gathering",ee.transceivers[F].bufferedCandidateEvents!==null&&ee.transceivers[F].bufferedCandidateEvents.push(Ae)},ae.addEventListener("localcandidate",this.transceivers[F].bufferCandidates),ae},Se.prototype._gather=function(F,Q){var ee=this,ae=this.transceivers[Q].iceGatherer;if(!ae.onlocalcandidate){var Ae=this.transceivers[Q].bufferedCandidateEvents;this.transceivers[Q].bufferedCandidateEvents=null,ae.removeEventListener("localcandidate",this.transceivers[Q].bufferCandidates),ae.onlocalcandidate=function(He){if(!(ee.usingBundle&&Q>0)){var oe=new Event("icecandidate");oe.candidate={sdpMid:F,sdpMLineIndex:Q};var Ce=He.candidate,De=!Ce||Object.keys(Ce).length===0;if(De)ae.state!=="new"&&ae.state!=="gathering"||(ae.state="completed");else{ae.state==="new"&&(ae.state="gathering"),Ce.component=1,Ce.ufrag=ae.getLocalParameters().usernameFragment;var Fe=R.writeCandidate(Ce);oe.candidate=Object.assign(oe.candidate,R.parseCandidate(Fe)),oe.candidate.candidate=Fe,oe.candidate.toJSON=function(){return{candidate:oe.candidate.candidate,sdpMid:oe.candidate.sdpMid,sdpMLineIndex:oe.candidate.sdpMLineIndex,usernameFragment:oe.candidate.usernameFragment}}}var _e=R.getMediaSections(ee._localDescription.sdp);_e[oe.candidate.sdpMLineIndex]+=De?`a=end-of-candidates\r
`:"a="+oe.candidate.candidate+`\r
`,ee._localDescription.sdp=R.getDescription(ee._localDescription.sdp)+_e.join("");var Et=ee.transceivers.every(function(lt){return lt.iceGatherer&&lt.iceGatherer.state==="completed"});ee.iceGatheringState!=="gathering"&&(ee.iceGatheringState="gathering",ee._emitGatheringStateChange()),De||ee._dispatchEvent("icecandidate",oe),Et&&(ee._dispatchEvent("icecandidate",new Event("icecandidate")),ee.iceGatheringState="complete",ee._emitGatheringStateChange())}},se.setTimeout(function(){Ae.forEach(function(He){ae.onlocalcandidate(He)})},0)}},Se.prototype._createIceAndDtlsTransports=function(){var F=this,Q=new se.RTCIceTransport(null);Q.onicestatechange=function(){F._updateIceConnectionState(),F._updateConnectionState()};var ee=new se.RTCDtlsTransport(Q);return ee.ondtlsstatechange=function(){F._updateConnectionState()},ee.onerror=function(){Object.defineProperty(ee,"state",{value:"failed",writable:!0}),F._updateConnectionState()},{iceTransport:Q,dtlsTransport:ee}},Se.prototype._disposeIceAndDtlsTransports=function(F){var Q=this.transceivers[F].iceGatherer;Q&&(delete Q.onlocalcandidate,delete this.transceivers[F].iceGatherer);var ee=this.transceivers[F].iceTransport;ee&&(delete ee.onicestatechange,delete this.transceivers[F].iceTransport);var ae=this.transceivers[F].dtlsTransport;ae&&(delete ae.ondtlsstatechange,delete ae.onerror,delete this.transceivers[F].dtlsTransport)},Se.prototype._transceive=function(F,Q,ee){var ae=P(F.localCapabilities,F.remoteCapabilities);Q&&F.rtpSender&&(ae.encodings=F.sendEncodingParameters,ae.rtcp={cname:R.localCName,compound:F.rtcpParameters.compound},F.recvEncodingParameters.length&&(ae.rtcp.ssrc=F.recvEncodingParameters[0].ssrc),F.rtpSender.send(ae)),ee&&F.rtpReceiver&&ae.codecs.length>0&&(F.kind==="video"&&F.recvEncodingParameters&&pe<15019&&F.recvEncodingParameters.forEach(function(Ae){delete Ae.rtx}),F.recvEncodingParameters.length?ae.encodings=F.recvEncodingParameters:ae.encodings=[{}],ae.rtcp={compound:F.rtcpParameters.compound},F.rtcpParameters.cname&&(ae.rtcp.cname=F.rtcpParameters.cname),F.sendEncodingParameters.length&&(ae.rtcp.ssrc=F.sendEncodingParameters[0].ssrc),F.rtpReceiver.receive(ae))},Se.prototype.setLocalDescription=function(F){var Q,ee,ae=this;if(["offer","answer"].indexOf(F.type)===-1)return Promise.reject(h("TypeError",'Unsupported type "'+F.type+'"'));if(!j("setLocalDescription",F.type,ae.signalingState)||ae._isClosed)return Promise.reject(h("InvalidStateError","Can not set local "+F.type+" in state "+ae.signalingState));if(F.type==="offer")Q=R.splitSections(F.sdp),ee=Q.shift(),Q.forEach(function(He,oe){var Ce=R.parseRtpParameters(He);ae.transceivers[oe].localCapabilities=Ce}),ae.transceivers.forEach(function(He,oe){ae._gather(He.mid,oe)});else if(F.type==="answer"){Q=R.splitSections(ae._remoteDescription.sdp),ee=Q.shift();var Ae=R.matchPrefix(ee,"a=ice-lite").length>0;Q.forEach(function(He,oe){var Ce=ae.transceivers[oe],De=Ce.iceGatherer,Fe=Ce.iceTransport,_e=Ce.dtlsTransport,Et=Ce.localCapabilities,lt=Ce.remoteCapabilities;if(!(R.isRejected(He)&&R.matchPrefix(He,"a=bundle-only").length===0||Ce.rejected)){var ft=R.getIceParameters(He,ee),vt=R.getDtlsParameters(He,ee);Ae&&(vt.role="server"),ae.usingBundle&&oe!==0||(ae._gather(Ce.mid,oe),Fe.state==="new"&&Fe.start(De,ft,Ae?"controlling":"controlled"),_e.state==="new"&&_e.start(vt));var It=P(Et,lt);ae._transceive(Ce,It.codecs.length>0,!1)}})}return ae._localDescription={type:F.type,sdp:F.sdp},F.type==="offer"?ae._updateSignalingState("have-local-offer"):ae._updateSignalingState("stable"),Promise.resolve()},Se.prototype.setRemoteDescription=function(F){var Q=this;if(["offer","answer"].indexOf(F.type)===-1)return Promise.reject(h("TypeError",'Unsupported type "'+F.type+'"'));if(!j("setRemoteDescription",F.type,Q.signalingState)||Q._isClosed)return Promise.reject(h("InvalidStateError","Can not set remote "+F.type+" in state "+Q.signalingState));var ee={};Q.remoteStreams.forEach(function(Fe){ee[Fe.id]=Fe});var ae=[],Ae=R.splitSections(F.sdp),He=Ae.shift(),oe=R.matchPrefix(He,"a=ice-lite").length>0,Ce=R.matchPrefix(He,"a=group:BUNDLE ").length>0;Q.usingBundle=Ce;var De=R.matchPrefix(He,"a=ice-options:")[0];return Q.canTrickleIceCandidates=!!De&&De.substr(14).split(" ").indexOf("trickle")>=0,Ae.forEach(function(Fe,_e){var Et=R.splitLines(Fe),lt=R.getKind(Fe),ft=R.isRejected(Fe)&&R.matchPrefix(Fe,"a=bundle-only").length===0,vt=Et[0].substr(2).split(" ")[2],It=R.getDirection(Fe,He),Ut=R.parseMsid(Fe),ln=R.getMid(Fe)||R.generateIdentifier();if(ft||lt==="application"&&(vt==="DTLS/SCTP"||vt==="UDP/DTLS/SCTP"))Q.transceivers[_e]={mid:ln,kind:lt,protocol:vt,rejected:!0};else{var Ke,mi,Bn,xt,jt,ii,Cn,Tn,Jt;!ft&&Q.transceivers[_e]&&Q.transceivers[_e].rejected&&(Q.transceivers[_e]=Q._createTransceiver(lt,!0));var Di,kn,ri=R.parseRtpParameters(Fe);ft||(Di=R.getIceParameters(Fe,He),(kn=R.getDtlsParameters(Fe,He)).role="client"),Cn=R.parseRtpEncodingParameters(Fe);var Gn=R.parseRtcpParameters(Fe),vi=R.matchPrefix(Fe,"a=end-of-candidates",He).length>0,gn=R.matchPrefix(Fe,"a=candidate:").map(function(Nt){return R.parseCandidate(Nt)}).filter(function(Nt){return Nt.component===1});if((F.type==="offer"||F.type==="answer")&&!ft&&Ce&&_e>0&&Q.transceivers[_e]&&(Q._disposeIceAndDtlsTransports(_e),Q.transceivers[_e].iceGatherer=Q.transceivers[0].iceGatherer,Q.transceivers[_e].iceTransport=Q.transceivers[0].iceTransport,Q.transceivers[_e].dtlsTransport=Q.transceivers[0].dtlsTransport,Q.transceivers[_e].rtpSender&&Q.transceivers[_e].rtpSender.setTransport(Q.transceivers[0].dtlsTransport),Q.transceivers[_e].rtpReceiver&&Q.transceivers[_e].rtpReceiver.setTransport(Q.transceivers[0].dtlsTransport)),F.type!=="offer"||ft)F.type!=="answer"||ft||(mi=(Ke=Q.transceivers[_e]).iceGatherer,Bn=Ke.iceTransport,xt=Ke.dtlsTransport,jt=Ke.rtpReceiver,ii=Ke.sendEncodingParameters,Tn=Ke.localCapabilities,Q.transceivers[_e].recvEncodingParameters=Cn,Q.transceivers[_e].remoteCapabilities=ri,Q.transceivers[_e].rtcpParameters=Gn,gn.length&&Bn.state==="new"&&(!oe&&!vi||Ce&&_e!==0?gn.forEach(function(Nt){ce(Ke.iceTransport,Nt)}):Bn.setRemoteCandidates(gn)),Ce&&_e!==0||(Bn.state==="new"&&Bn.start(mi,Di,"controlling"),xt.state==="new"&&xt.start(kn)),!P(Ke.localCapabilities,Ke.remoteCapabilities).codecs.filter(function(Nt){return Nt.name.toLowerCase()==="rtx"}).length&&Ke.sendEncodingParameters[0].rtx&&delete Ke.sendEncodingParameters[0].rtx,Q._transceive(Ke,It==="sendrecv"||It==="recvonly",It==="sendrecv"||It==="sendonly"),!jt||It!=="sendrecv"&&It!=="sendonly"?delete Ke.rtpReceiver:(Jt=jt.track,Ut?(ee[Ut.stream]||(ee[Ut.stream]=new se.MediaStream),we(Jt,ee[Ut.stream]),ae.push([Jt,jt,ee[Ut.stream]])):(ee.default||(ee.default=new se.MediaStream),we(Jt,ee.default),ae.push([Jt,jt,ee.default]))));else{(Ke=Q.transceivers[_e]||Q._createTransceiver(lt)).mid=ln,Ke.iceGatherer||(Ke.iceGatherer=Q._createIceGatherer(_e,Ce)),gn.length&&Ke.iceTransport.state==="new"&&(!vi||Ce&&_e!==0?gn.forEach(function(Nt){ce(Ke.iceTransport,Nt)}):Ke.iceTransport.setRemoteCandidates(gn)),Tn=se.RTCRtpReceiver.getCapabilities(lt),pe<15019&&(Tn.codecs=Tn.codecs.filter(function(Nt){return Nt.name!=="rtx"})),ii=Ke.sendEncodingParameters||[{ssrc:1001*(2*_e+2)}];var In,Rn=!1;It==="sendrecv"||It==="sendonly"?(Rn=!Ke.rtpReceiver,jt=Ke.rtpReceiver||new se.RTCRtpReceiver(Ke.dtlsTransport,lt),Rn&&(Jt=jt.track,Ut&&Ut.stream==="-"||(Ut?(ee[Ut.stream]||(ee[Ut.stream]=new se.MediaStream,Object.defineProperty(ee[Ut.stream],"id",{get:function(){return Ut.stream}})),Object.defineProperty(Jt,"id",{get:function(){return Ut.track}}),In=ee[Ut.stream]):(ee.default||(ee.default=new se.MediaStream),In=ee.default)),In&&(we(Jt,In),Ke.associatedRemoteMediaStreams.push(In)),ae.push([Jt,jt,In]))):Ke.rtpReceiver&&Ke.rtpReceiver.track&&(Ke.associatedRemoteMediaStreams.forEach(function(Nt){var gi=Nt.getTracks().find(function(Ai){return Ai.id===Ke.rtpReceiver.track.id});gi&&function(Ai,Vn){Vn.removeTrack(Ai),Vn.dispatchEvent(new se.MediaStreamTrackEvent("removetrack",{track:Ai}))}(gi,Nt)}),Ke.associatedRemoteMediaStreams=[]),Ke.localCapabilities=Tn,Ke.remoteCapabilities=ri,Ke.rtpReceiver=jt,Ke.rtcpParameters=Gn,Ke.sendEncodingParameters=ii,Ke.recvEncodingParameters=Cn,Q._transceive(Q.transceivers[_e],!1,Rn)}}}),Q._dtlsRole===void 0&&(Q._dtlsRole=F.type==="offer"?"active":"passive"),Q._remoteDescription={type:F.type,sdp:F.sdp},F.type==="offer"?Q._updateSignalingState("have-remote-offer"):Q._updateSignalingState("stable"),Object.keys(ee).forEach(function(Fe){var _e=ee[Fe];if(_e.getTracks().length){if(Q.remoteStreams.indexOf(_e)===-1){Q.remoteStreams.push(_e);var Et=new Event("addstream");Et.stream=_e,se.setTimeout(function(){Q._dispatchEvent("addstream",Et)})}ae.forEach(function(lt){var ft=lt[0],vt=lt[1];_e.id===lt[2].id&&Be(Q,ft,vt,[_e])})}}),ae.forEach(function(Fe){Fe[2]||Be(Q,Fe[0],Fe[1],[])}),se.setTimeout(function(){Q&&Q.transceivers&&Q.transceivers.forEach(function(Fe){Fe.iceTransport&&Fe.iceTransport.state==="new"&&Fe.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Fe.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},Se.prototype.close=function(){this.transceivers.forEach(function(F){F.iceTransport&&F.iceTransport.stop(),F.dtlsTransport&&F.dtlsTransport.stop(),F.rtpSender&&F.rtpSender.stop(),F.rtpReceiver&&F.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},Se.prototype._updateSignalingState=function(F){this.signalingState=F;var Q=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",Q)},Se.prototype._maybeFireNegotiationNeeded=function(){var F=this;this.signalingState==="stable"&&this.needNegotiation!==!0&&(this.needNegotiation=!0,se.setTimeout(function(){if(F.needNegotiation){F.needNegotiation=!1;var Q=new Event("negotiationneeded");F._dispatchEvent("negotiationneeded",Q)}},0))},Se.prototype._updateIceConnectionState=function(){var F,Q={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ae){ae.iceTransport&&!ae.rejected&&Q[ae.iceTransport.state]++}),F="new",Q.failed>0?F="failed":Q.checking>0?F="checking":Q.disconnected>0?F="disconnected":Q.new>0?F="new":Q.connected>0?F="connected":Q.completed>0&&(F="completed"),F!==this.iceConnectionState){this.iceConnectionState=F;var ee=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",ee)}},Se.prototype._updateConnectionState=function(){var F,Q={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ae){ae.iceTransport&&ae.dtlsTransport&&!ae.rejected&&(Q[ae.iceTransport.state]++,Q[ae.dtlsTransport.state]++)}),Q.connected+=Q.completed,F="new",Q.failed>0?F="failed":Q.connecting>0?F="connecting":Q.disconnected>0?F="disconnected":Q.new>0?F="new":Q.connected>0&&(F="connected"),F!==this.connectionState){this.connectionState=F;var ee=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",ee)}},Se.prototype.createOffer=function(){var F=this;if(F._isClosed)return Promise.reject(h("InvalidStateError","Can not call createOffer after close"));var Q=F.transceivers.filter(function(oe){return oe.kind==="audio"}).length,ee=F.transceivers.filter(function(oe){return oe.kind==="video"}).length,ae=arguments[0];if(ae){if(ae.mandatory||ae.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");ae.offerToReceiveAudio!==void 0&&(Q=ae.offerToReceiveAudio===!0?1:ae.offerToReceiveAudio===!1?0:ae.offerToReceiveAudio),ae.offerToReceiveVideo!==void 0&&(ee=ae.offerToReceiveVideo===!0?1:ae.offerToReceiveVideo===!1?0:ae.offerToReceiveVideo)}for(F.transceivers.forEach(function(oe){oe.kind==="audio"?--Q<0&&(oe.wantReceive=!1):oe.kind==="video"&&--ee<0&&(oe.wantReceive=!1)});Q>0||ee>0;)Q>0&&(F._createTransceiver("audio"),Q--),ee>0&&(F._createTransceiver("video"),ee--);var Ae=R.writeSessionBoilerplate(F._sdpSessionId,F._sdpSessionVersion++);F.transceivers.forEach(function(oe,Ce){var De=oe.track,Fe=oe.kind,_e=oe.mid||R.generateIdentifier();oe.mid=_e,oe.iceGatherer||(oe.iceGatherer=F._createIceGatherer(Ce,F.usingBundle));var Et=se.RTCRtpSender.getCapabilities(Fe);pe<15019&&(Et.codecs=Et.codecs.filter(function(ft){return ft.name!=="rtx"})),Et.codecs.forEach(function(ft){ft.name==="H264"&&ft.parameters["level-asymmetry-allowed"]===void 0&&(ft.parameters["level-asymmetry-allowed"]="1"),oe.remoteCapabilities&&oe.remoteCapabilities.codecs&&oe.remoteCapabilities.codecs.forEach(function(vt){ft.name.toLowerCase()===vt.name.toLowerCase()&&ft.clockRate===vt.clockRate&&(ft.preferredPayloadType=vt.payloadType)})}),Et.headerExtensions.forEach(function(ft){(oe.remoteCapabilities&&oe.remoteCapabilities.headerExtensions||[]).forEach(function(vt){ft.uri===vt.uri&&(ft.id=vt.id)})});var lt=oe.sendEncodingParameters||[{ssrc:1001*(2*Ce+1)}];De&&pe>=15019&&Fe==="video"&&!lt[0].rtx&&(lt[0].rtx={ssrc:lt[0].ssrc+1}),oe.wantReceive&&(oe.rtpReceiver=new se.RTCRtpReceiver(oe.dtlsTransport,Fe)),oe.localCapabilities=Et,oe.sendEncodingParameters=lt}),F._config.bundlePolicy!=="max-compat"&&(Ae+="a=group:BUNDLE "+F.transceivers.map(function(oe){return oe.mid}).join(" ")+`\r
`),Ae+=`a=ice-options:trickle\r
`,F.transceivers.forEach(function(oe,Ce){Ae+=I(oe,oe.localCapabilities,"offer",oe.stream,F._dtlsRole),Ae+=`a=rtcp-rsize\r
`,!oe.iceGatherer||F.iceGatheringState==="new"||Ce!==0&&F.usingBundle||(oe.iceGatherer.getLocalCandidates().forEach(function(De){De.component=1,Ae+="a="+R.writeCandidate(De)+`\r
`}),oe.iceGatherer.state==="completed"&&(Ae+=`a=end-of-candidates\r
`))});var He=new se.RTCSessionDescription({type:"offer",sdp:Ae});return Promise.resolve(He)},Se.prototype.createAnswer=function(){var F=this;if(F._isClosed)return Promise.reject(h("InvalidStateError","Can not call createAnswer after close"));if(F.signalingState!=="have-remote-offer"&&F.signalingState!=="have-local-pranswer")return Promise.reject(h("InvalidStateError","Can not call createAnswer in signalingState "+F.signalingState));var Q=R.writeSessionBoilerplate(F._sdpSessionId,F._sdpSessionVersion++);F.usingBundle&&(Q+="a=group:BUNDLE "+F.transceivers.map(function(Ae){return Ae.mid}).join(" ")+`\r
`),Q+=`a=ice-options:trickle\r
`;var ee=R.getMediaSections(F._remoteDescription.sdp).length;F.transceivers.forEach(function(Ae,He){if(!(He+1>ee)){if(Ae.rejected)return Ae.kind==="application"?Ae.protocol==="DTLS/SCTP"?Q+=`m=application 0 DTLS/SCTP 5000\r
`:Q+="m=application 0 "+Ae.protocol+` webrtc-datachannel\r
`:Ae.kind==="audio"?Q+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:Ae.kind==="video"&&(Q+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),void(Q+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+Ae.mid+`\r
`);var oe;Ae.stream&&(Ae.kind==="audio"?oe=Ae.stream.getAudioTracks()[0]:Ae.kind==="video"&&(oe=Ae.stream.getVideoTracks()[0]),oe&&pe>=15019&&Ae.kind==="video"&&!Ae.sendEncodingParameters[0].rtx&&(Ae.sendEncodingParameters[0].rtx={ssrc:Ae.sendEncodingParameters[0].ssrc+1}));var Ce=P(Ae.localCapabilities,Ae.remoteCapabilities);!Ce.codecs.filter(function(De){return De.name.toLowerCase()==="rtx"}).length&&Ae.sendEncodingParameters[0].rtx&&delete Ae.sendEncodingParameters[0].rtx,Q+=I(Ae,Ce,"answer",Ae.stream,F._dtlsRole),Ae.rtcpParameters&&Ae.rtcpParameters.reducedSize&&(Q+=`a=rtcp-rsize\r
`)}});var ae=new se.RTCSessionDescription({type:"answer",sdp:Q});return Promise.resolve(ae)},Se.prototype.addIceCandidate=function(F){var Q,ee=this;return F&&F.sdpMLineIndex===void 0&&!F.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(ae,Ae){if(!ee._remoteDescription)return Ae(h("InvalidStateError","Can not add ICE candidate without a remote description"));if(F&&F.candidate!==""){var He=F.sdpMLineIndex;if(F.sdpMid){for(var oe=0;oe<ee.transceivers.length;oe++)if(ee.transceivers[oe].mid===F.sdpMid){He=oe;break}}var Ce=ee.transceivers[He];if(!Ce)return Ae(h("OperationError","Can not add ICE candidate"));if(Ce.rejected)return ae();var De=Object.keys(F.candidate).length>0?R.parseCandidate(F.candidate):{};if(De.protocol==="tcp"&&(De.port===0||De.port===9)||De.component&&De.component!==1)return ae();if((He===0||He>0&&Ce.iceTransport!==ee.transceivers[0].iceTransport)&&!ce(Ce.iceTransport,De))return Ae(h("OperationError","Can not add ICE candidate"));var Fe=F.candidate.trim();Fe.indexOf("a=")===0&&(Fe=Fe.substr(2)),(Q=R.getMediaSections(ee._remoteDescription.sdp))[He]+="a="+(De.type?Fe:"end-of-candidates")+`\r
`,ee._remoteDescription.sdp=R.getDescription(ee._remoteDescription.sdp)+Q.join("")}else for(var _e=0;_e<ee.transceivers.length&&(ee.transceivers[_e].rejected||(ee.transceivers[_e].iceTransport.addRemoteCandidate({}),(Q=R.getMediaSections(ee._remoteDescription.sdp))[_e]+=`a=end-of-candidates\r
`,ee._remoteDescription.sdp=R.getDescription(ee._remoteDescription.sdp)+Q.join(""),!ee.usingBundle));_e++);ae()})},Se.prototype.getStats=function(F){if(F&&F instanceof se.MediaStreamTrack){var Q=null;if(this.transceivers.forEach(function(ae){ae.rtpSender&&ae.rtpSender.track===F?Q=ae.rtpSender:ae.rtpReceiver&&ae.rtpReceiver.track===F&&(Q=ae.rtpReceiver)}),!Q)throw h("InvalidAccessError","Invalid selector.");return Q.getStats()}var ee=[];return this.transceivers.forEach(function(ae){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(Ae){ae[Ae]&&ee.push(ae[Ae].getStats())})}),Promise.all(ee).then(function(ae){var Ae=new Map;return ae.forEach(function(He){He.forEach(function(oe){Ae.set(oe.id,oe)})}),Ae})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(F){var Q=se[F];if(Q&&Q.prototype&&Q.prototype.getStats){var ee=Q.prototype.getStats;Q.prototype.getStats=function(){return ee.apply(this).then(function(ae){var Ae=new Map;return Object.keys(ae).forEach(function(He){var oe;ae[He].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(oe=ae[He]).type]||oe.type,Ae.set(He,ae[He])}),Ae})}}});var Je=["createOffer","createAnswer"];return Je.forEach(function(F){var Q=Se.prototype[F];Se.prototype[F]=function(){var ee=arguments;return typeof ee[0]=="function"||typeof ee[1]=="function"?Q.apply(this,[arguments[2]]).then(function(ae){typeof ee[0]=="function"&&ee[0].apply(null,[ae])},function(ae){typeof ee[1]=="function"&&ee[1].apply(null,[ae])}):Q.apply(this,arguments)}}),(Je=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(F){var Q=Se.prototype[F];Se.prototype[F]=function(){var ee=arguments;return typeof ee[1]=="function"||typeof ee[2]=="function"?Q.apply(this,arguments).then(function(){typeof ee[1]=="function"&&ee[1].apply(null)},function(ae){typeof ee[2]=="function"&&ee[2].apply(null,[ae])}):Q.apply(this,arguments)}}),["getStats"].forEach(function(F){var Q=Se.prototype[F];Se.prototype[F]=function(){var ee=arguments;return typeof ee[1]=="function"?Q.apply(this,arguments).then(function(){typeof ee[1]=="function"&&ee[1].apply(null)}):Q.apply(this,arguments)}}),Se}},985:M=>{var v={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};v.localCName=v.generateIdentifier(),v.splitLines=function(y){return y.trim().split(`
`).map(function(R){return R.trim()})},v.splitSections=function(y){return y.split(`
m=`).map(function(R,I){return(I>0?"m="+R:R).trim()+`\r
`})},v.getDescription=function(y){var R=v.splitSections(y);return R&&R[0]},v.getMediaSections=function(y){var R=v.splitSections(y);return R.shift(),R},v.matchPrefix=function(y,R){return v.splitLines(y).filter(function(I){return I.indexOf(R)===0})},v.parseCandidate=function(y){for(var R,I={foundation:(R=y.indexOf("a=candidate:")===0?y.substring(12).split(" "):y.substring(10).split(" "))[0],component:parseInt(R[1],10),protocol:R[2].toLowerCase(),priority:parseInt(R[3],10),ip:R[4],address:R[4],port:parseInt(R[5],10),type:R[7]},P=8;P<R.length;P+=2)switch(R[P]){case"raddr":I.relatedAddress=R[P+1];break;case"rport":I.relatedPort=parseInt(R[P+1],10);break;case"tcptype":I.tcpType=R[P+1];break;case"ufrag":I.ufrag=R[P+1],I.usernameFragment=R[P+1];break;default:I[R[P]]=R[P+1]}return I},v.writeCandidate=function(y){var R=[];R.push(y.foundation),R.push(y.component),R.push(y.protocol.toUpperCase()),R.push(y.priority),R.push(y.address||y.ip),R.push(y.port);var I=y.type;return R.push("typ"),R.push(I),I!=="host"&&y.relatedAddress&&y.relatedPort&&(R.push("raddr"),R.push(y.relatedAddress),R.push("rport"),R.push(y.relatedPort)),y.tcpType&&y.protocol.toLowerCase()==="tcp"&&(R.push("tcptype"),R.push(y.tcpType)),(y.usernameFragment||y.ufrag)&&(R.push("ufrag"),R.push(y.usernameFragment||y.ufrag)),"candidate:"+R.join(" ")},v.parseIceOptions=function(y){return y.substr(14).split(" ")},v.parseRtpMap=function(y){var R=y.substr(9).split(" "),I={payloadType:parseInt(R.shift(),10)};return R=R[0].split("/"),I.name=R[0],I.clockRate=parseInt(R[1],10),I.channels=R.length===3?parseInt(R[2],10):1,I.numChannels=I.channels,I},v.writeRtpMap=function(y){var R=y.payloadType;y.preferredPayloadType!==void 0&&(R=y.preferredPayloadType);var I=y.channels||y.numChannels||1;return"a=rtpmap:"+R+" "+y.name+"/"+y.clockRate+(I!==1?"/"+I:"")+`\r
`},v.parseExtmap=function(y){var R=y.substr(9).split(" ");return{id:parseInt(R[0],10),direction:R[0].indexOf("/")>0?R[0].split("/")[1]:"sendrecv",uri:R[1]}},v.writeExtmap=function(y){return"a=extmap:"+(y.id||y.preferredId)+(y.direction&&y.direction!=="sendrecv"?"/"+y.direction:"")+" "+y.uri+`\r
`},v.parseFmtp=function(y){for(var R,I={},P=y.substr(y.indexOf(" ")+1).split(";"),j=0;j<P.length;j++)I[(R=P[j].trim().split("="))[0].trim()]=R[1];return I},v.writeFmtp=function(y){var R="",I=y.payloadType;if(y.preferredPayloadType!==void 0&&(I=y.preferredPayloadType),y.parameters&&Object.keys(y.parameters).length){var P=[];Object.keys(y.parameters).forEach(function(j){y.parameters[j]?P.push(j+"="+y.parameters[j]):P.push(j)}),R+="a=fmtp:"+I+" "+P.join(";")+`\r
`}return R},v.parseRtcpFb=function(y){var R=y.substr(y.indexOf(" ")+1).split(" ");return{type:R.shift(),parameter:R.join(" ")}},v.writeRtcpFb=function(y){var R="",I=y.payloadType;return y.preferredPayloadType!==void 0&&(I=y.preferredPayloadType),y.rtcpFeedback&&y.rtcpFeedback.length&&y.rtcpFeedback.forEach(function(P){R+="a=rtcp-fb:"+I+" "+P.type+(P.parameter&&P.parameter.length?" "+P.parameter:"")+`\r
`}),R},v.parseSsrcMedia=function(y){var R=y.indexOf(" "),I={ssrc:parseInt(y.substr(7,R-7),10)},P=y.indexOf(":",R);return P>-1?(I.attribute=y.substr(R+1,P-R-1),I.value=y.substr(P+1)):I.attribute=y.substr(R+1),I},v.parseSsrcGroup=function(y){var R=y.substr(13).split(" ");return{semantics:R.shift(),ssrcs:R.map(function(I){return parseInt(I,10)})}},v.getMid=function(y){var R=v.matchPrefix(y,"a=mid:")[0];if(R)return R.substr(6)},v.parseFingerprint=function(y){var R=y.substr(14).split(" ");return{algorithm:R[0].toLowerCase(),value:R[1]}},v.getDtlsParameters=function(y,R){return{role:"auto",fingerprints:v.matchPrefix(y+R,"a=fingerprint:").map(v.parseFingerprint)}},v.writeDtlsParameters=function(y,R){var I="a=setup:"+R+`\r
`;return y.fingerprints.forEach(function(P){I+="a=fingerprint:"+P.algorithm+" "+P.value+`\r
`}),I},v.parseCryptoLine=function(y){var R=y.substr(9).split(" ");return{tag:parseInt(R[0],10),cryptoSuite:R[1],keyParams:R[2],sessionParams:R.slice(3)}},v.writeCryptoLine=function(y){return"a=crypto:"+y.tag+" "+y.cryptoSuite+" "+(typeof y.keyParams=="object"?v.writeCryptoKeyParams(y.keyParams):y.keyParams)+(y.sessionParams?" "+y.sessionParams.join(" "):"")+`\r
`},v.parseCryptoKeyParams=function(y){if(y.indexOf("inline:")!==0)return null;var R=y.substr(7).split("|");return{keyMethod:"inline",keySalt:R[0],lifeTime:R[1],mkiValue:R[2]?R[2].split(":")[0]:void 0,mkiLength:R[2]?R[2].split(":")[1]:void 0}},v.writeCryptoKeyParams=function(y){return y.keyMethod+":"+y.keySalt+(y.lifeTime?"|"+y.lifeTime:"")+(y.mkiValue&&y.mkiLength?"|"+y.mkiValue+":"+y.mkiLength:"")},v.getCryptoParameters=function(y,R){return v.matchPrefix(y+R,"a=crypto:").map(v.parseCryptoLine)},v.getIceParameters=function(y,R){var I=v.matchPrefix(y+R,"a=ice-ufrag:")[0],P=v.matchPrefix(y+R,"a=ice-pwd:")[0];return I&&P?{usernameFragment:I.substr(12),password:P.substr(10)}:null},v.writeIceParameters=function(y){return"a=ice-ufrag:"+y.usernameFragment+`\r
a=ice-pwd:`+y.password+`\r
`},v.parseRtpParameters=function(y){for(var R={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},I=v.splitLines(y)[0].split(" "),P=3;P<I.length;P++){var j=I[P],ce=v.matchPrefix(y,"a=rtpmap:"+j+" ")[0];if(ce){var h=v.parseRtpMap(ce),se=v.matchPrefix(y,"a=fmtp:"+j+" ");switch(h.parameters=se.length?v.parseFmtp(se[0]):{},h.rtcpFeedback=v.matchPrefix(y,"a=rtcp-fb:"+j+" ").map(v.parseRtcpFb),R.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":R.fecMechanisms.push(h.name.toUpperCase())}}}return v.matchPrefix(y,"a=extmap:").forEach(function(pe){R.headerExtensions.push(v.parseExtmap(pe))}),R},v.writeRtpDescription=function(y,R){var I="";I+="m="+y+" ",I+=R.codecs.length>0?"9":"0",I+=" UDP/TLS/RTP/SAVPF ",I+=R.codecs.map(function(j){return j.preferredPayloadType!==void 0?j.preferredPayloadType:j.payloadType}).join(" ")+`\r
`,I+=`c=IN IP4 0.0.0.0\r
`,I+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,R.codecs.forEach(function(j){I+=v.writeRtpMap(j),I+=v.writeFmtp(j),I+=v.writeRtcpFb(j)});var P=0;return R.codecs.forEach(function(j){j.maxptime>P&&(P=j.maxptime)}),P>0&&(I+="a=maxptime:"+P+`\r
`),I+=`a=rtcp-mux\r
`,R.headerExtensions&&R.headerExtensions.forEach(function(j){I+=v.writeExtmap(j)}),I},v.parseRtpEncodingParameters=function(y){var R,I=[],P=v.parseRtpParameters(y),j=P.fecMechanisms.indexOf("RED")!==-1,ce=P.fecMechanisms.indexOf("ULPFEC")!==-1,h=v.matchPrefix(y,"a=ssrc:").map(function(Be){return v.parseSsrcMedia(Be)}).filter(function(Be){return Be.attribute==="cname"}),se=h.length>0&&h[0].ssrc,pe=v.matchPrefix(y,"a=ssrc-group:FID").map(function(Be){return Be.substr(17).split(" ").map(function(Se){return parseInt(Se,10)})});pe.length>0&&pe[0].length>1&&pe[0][0]===se&&(R=pe[0][1]),P.codecs.forEach(function(Be){if(Be.name.toUpperCase()==="RTX"&&Be.parameters.apt){var Se={ssrc:se,codecPayloadType:parseInt(Be.parameters.apt,10)};se&&R&&(Se.rtx={ssrc:R}),I.push(Se),j&&((Se=JSON.parse(JSON.stringify(Se))).fec={ssrc:se,mechanism:ce?"red+ulpfec":"red"},I.push(Se))}}),I.length===0&&se&&I.push({ssrc:se});var we=v.matchPrefix(y,"b=");return we.length&&(we=we[0].indexOf("b=TIAS:")===0?parseInt(we[0].substr(7),10):we[0].indexOf("b=AS:")===0?1e3*parseInt(we[0].substr(5),10)*.95-16e3:void 0,I.forEach(function(Be){Be.maxBitrate=we})),I},v.parseRtcpParameters=function(y){var R={},I=v.matchPrefix(y,"a=ssrc:").map(function(ce){return v.parseSsrcMedia(ce)}).filter(function(ce){return ce.attribute==="cname"})[0];I&&(R.cname=I.value,R.ssrc=I.ssrc);var P=v.matchPrefix(y,"a=rtcp-rsize");R.reducedSize=P.length>0,R.compound=P.length===0;var j=v.matchPrefix(y,"a=rtcp-mux");return R.mux=j.length>0,R},v.parseMsid=function(y){var R,I=v.matchPrefix(y,"a=msid:");if(I.length===1)return{stream:(R=I[0].substr(7).split(" "))[0],track:R[1]};var P=v.matchPrefix(y,"a=ssrc:").map(function(j){return v.parseSsrcMedia(j)}).filter(function(j){return j.attribute==="msid"});return P.length>0?{stream:(R=P[0].value.split(" "))[0],track:R[1]}:void 0},v.parseSctpDescription=function(y){var R,I=v.parseMLine(y),P=v.matchPrefix(y,"a=max-message-size:");P.length>0&&(R=parseInt(P[0].substr(19),10)),isNaN(R)&&(R=65536);var j=v.matchPrefix(y,"a=sctp-port:");if(j.length>0)return{port:parseInt(j[0].substr(12),10),protocol:I.fmt,maxMessageSize:R};if(v.matchPrefix(y,"a=sctpmap:").length>0){var ce=v.matchPrefix(y,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(ce[0],10),protocol:ce[1],maxMessageSize:R}}},v.writeSctpDescription=function(y,R){var I=[];return I=y.protocol!=="DTLS/SCTP"?["m="+y.kind+" 9 "+y.protocol+" "+R.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+R.port+`\r
`]:["m="+y.kind+" 9 "+y.protocol+" "+R.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+R.port+" "+R.protocol+` 65535\r
`],R.maxMessageSize!==void 0&&I.push("a=max-message-size:"+R.maxMessageSize+`\r
`),I.join("")},v.generateSessionId=function(){return Math.random().toString().substr(2,21)},v.writeSessionBoilerplate=function(y,R,I){var P=R!==void 0?R:2;return`v=0\r
o=`+(I||"thisisadapterortc")+" "+(y||v.generateSessionId())+" "+P+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},v.writeMediaSection=function(y,R,I,P){var j=v.writeRtpDescription(y.kind,R);if(j+=v.writeIceParameters(y.iceGatherer.getLocalParameters()),j+=v.writeDtlsParameters(y.dtlsTransport.getLocalParameters(),I==="offer"?"actpass":"active"),j+="a=mid:"+y.mid+`\r
`,y.direction?j+="a="+y.direction+`\r
`:y.rtpSender&&y.rtpReceiver?j+=`a=sendrecv\r
`:y.rtpSender?j+=`a=sendonly\r
`:y.rtpReceiver?j+=`a=recvonly\r
`:j+=`a=inactive\r
`,y.rtpSender){var ce="msid:"+P.id+" "+y.rtpSender.track.id+`\r
`;j+="a="+ce,j+="a=ssrc:"+y.sendEncodingParameters[0].ssrc+" "+ce,y.sendEncodingParameters[0].rtx&&(j+="a=ssrc:"+y.sendEncodingParameters[0].rtx.ssrc+" "+ce,j+="a=ssrc-group:FID "+y.sendEncodingParameters[0].ssrc+" "+y.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return j+="a=ssrc:"+y.sendEncodingParameters[0].ssrc+" cname:"+v.localCName+`\r
`,y.rtpSender&&y.sendEncodingParameters[0].rtx&&(j+="a=ssrc:"+y.sendEncodingParameters[0].rtx.ssrc+" cname:"+v.localCName+`\r
`),j},v.getDirection=function(y,R){for(var I=v.splitLines(y),P=0;P<I.length;P++)switch(I[P]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return I[P].substr(2)}return R?v.getDirection(R):"sendrecv"},v.getKind=function(y){return v.splitLines(y)[0].split(" ")[0].substr(2)},v.isRejected=function(y){return y.split(" ",2)[1]==="0"},v.parseMLine=function(y){var R=v.splitLines(y)[0].substr(2).split(" ");return{kind:R[0],port:parseInt(R[1],10),protocol:R[2],fmt:R.slice(3).join(" ")}},v.parseOLine=function(y){var R=v.matchPrefix(y,"o=")[0].substr(2).split(" ");return{username:R[0],sessionId:R[1],sessionVersion:parseInt(R[2],10),netType:R[3],addressType:R[4],address:R[5]}},v.isValidSDP=function(y){if(typeof y!="string"||y.length===0)return!1;for(var R=v.splitLines(y),I=0;I<R.length;I++)if(R[I].length<2||R[I].charAt(1)!=="=")return!1;return!0},M.exports=v},778:M=>{M.exports=O(918)},754:M=>{M.exports=O(142)}},J={};function G(M){var v=J[M];if(v!==void 0)return v.exports;var y=J[M]={exports:{}};return b[M](y,y.exports,G),y.exports}G.n=M=>{var v=M&&M.__esModule?()=>M.default:()=>M;return G.d(v,{a:v}),v},G.d=(M,v)=>{for(var y in v)G.o(v,y)&&!G.o(M,y)&&Object.defineProperty(M,y,{enumerable:!0,get:v[y]})},G.o=(M,v)=>Object.prototype.hasOwnProperty.call(M,v),G.r=M=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})};var K={};(()=>{G.r(K),G.d(K,{AdAction:()=>Ze,AdState:()=>Ve,AddPlatformTelemetry:()=>Ns,AppLaunchMode:()=>it,AppLevelProtocol:()=>ye,AudioFormat:()=>cl,AuthType:()=>Ps,BitDepth:()=>$e,BrowserFeature:()=>Gs,BrowserName:()=>ol,CHANGELIST:()=>Rs,CLIENT_IDENTIFICATION:()=>al,CLIENT_VERSION:()=>js,CalculateDataUsage:()=>Ds,CalculateMaxBitrateKbps:()=>$r,ChooseStreamingResolution:()=>Qi,ChooseStreamingSettings:()=>qi,ClientHeaderBrowserType:()=>ml,ClientHeaderDeviceType:()=>zo,ClientHeaderOSType:()=>Bs,ClientStreamer:()=>dl,ClientType:()=>qe,ConfigureGridServerSettings:()=>wi,ConfigureRagnarokSettings:()=>Is,CursorType:()=>Jo,DeviceModel:()=>Li,DeviceOS:()=>_s,DeviceType:()=>Ls,DeviceVendor:()=>li,DynamicStreamingMode:()=>ns,EVENTS:()=>qr,GS_EVENTS:()=>ul,GetDeviceCapabilities:()=>Wr,GetSupportedAudioChannelCount:()=>Ji,GridApp:()=>oi,GridServer:()=>Yr,GridServerSettings:()=>sl,GsErrorCode:()=>un,HidType:()=>$o,HotkeyModifier:()=>Lo,InitializeUtils:()=>pr,InputType:()=>Zr,IsFeatureSupported:()=>Kr,LogImpl:()=>gr,LogLevel:()=>Fo,MediaTrackKind:()=>qo,MicState:()=>ts,NetworkType:()=>Jr,NskTelemetry:()=>Wt,PassThruServer:()=>hl,PayloadBrowserType:()=>pl,PayloadDeviceType:()=>Vo,PayloadOSType:()=>Go,PlatformName:()=>jo,Protocol:()=>Te,RErrorCode:()=>Ko,RNotificationCode:()=>_o,SESSIONMODIFY_ACTION:()=>ll,STREAMING_STATE:()=>Ar,ScErrorCode:()=>cn,SdrHdrMode:()=>Z,SessionControlTelemetry:()=>Uo,SessionProgressState:()=>Ye,SessionState:()=>Ge,StreamStopReason:()=>Qo,StreamWarningType:()=>is,StreamingProfilePreset:()=>Os,StreamingState:()=>Yo,TrackType:()=>ai,Usage:()=>le,VideoCodecType:()=>es,VirtualButton:()=>Yi,VirtualGamepadHandler:()=>vr,VsyncType:()=>Bo,configureRagnarokSettings:()=>Xr,configureSessionControlSettings:()=>Ms,createNskStreamClient:()=>_i,createSessionControl:()=>L,defaultInputConfigFlags:()=>Qr,estimateDataUsage:()=>Ho,getDeviceCapabilities:()=>fl,getNetworkTypeDetector:()=>Wo,getPlatformDetails:()=>Gt,getRecommendedBitrate:()=>Wn,getResumableSession:()=>Us,getStreamStartParameters:()=>Kn,getStreamerType:()=>Al,getSupportedCodecs:()=>mr,isCancelCode:()=>At,isFeatureSupported:()=>bd,isResumableSessionState:()=>dn,performHttpRequest:()=>xs,registerLogCallback:()=>Fs,serializeDeviceCapabilities:()=>wd,shouldDefaultEnableMic:()=>Sl,translatePlatformDetailsForClientHeader:()=>gl,translatePlatformDetailsForPayload:()=>vl,updateSessionParameters:()=>St});var M={};G.r(M),G.d(M,{fixNegotiationNeeded:()=>vt,shimAddTrackRemoveTrack:()=>lt,shimAddTrackRemoveTrackWithNative:()=>Et,shimGetDisplayMedia:()=>He,shimGetSendersWithDtmf:()=>De,shimGetStats:()=>Fe,shimGetUserMedia:()=>Ae,shimMediaStream:()=>oe,shimOnTrack:()=>Ce,shimPeerConnection:()=>ft,shimSenderReceiverGetStats:()=>_e});var v={};G.r(v),G.d(v,{shimGetDisplayMedia:()=>Ke,shimGetUserMedia:()=>ln,shimPeerConnection:()=>mi,shimReplaceTrack:()=>Bn});var y={};G.r(y),G.d(y,{shimAddTransceiver:()=>ri,shimCreateAnswer:()=>gn,shimCreateOffer:()=>vi,shimGetDisplayMedia:()=>jt,shimGetParameters:()=>Gn,shimGetUserMedia:()=>xt,shimOnTrack:()=>ii,shimPeerConnection:()=>Cn,shimRTCDataChannel:()=>kn,shimReceiverGetStats:()=>Jt,shimRemoveStream:()=>Di,shimSenderGetStats:()=>Tn});var R={};G.r(R),G.d(R,{shimAudioContext:()=>Si,shimCallbacksAPI:()=>Nt,shimConstraints:()=>Ai,shimCreateOfferLegacy:()=>Mi,shimGetUserMedia:()=>gi,shimLocalStreamsAPI:()=>In,shimRTCIceServerUrls:()=>Vn,shimRemoteStreamsAPI:()=>Rn,shimTrackEventTransceiver:()=>Oi});var I={};G.r(I),G.d(I,{removeAllowExtmapMixed:()=>Hn,shimConnectionState:()=>Pn,shimMaxMessageSize:()=>yi,shimRTCIceCandidate:()=>zn,shimSendThrowTypeError:()=>tn});let P=!0,j=!0;function ce(w,X,q){const te=w.match(X);return te&&te.length>=q&&parseInt(te[q],10)}function h(w,X,q){if(!w.RTCPeerConnection)return;const te=w.RTCPeerConnection.prototype,ie=te.addEventListener;te.addEventListener=function(re,be){if(re!==X)return ie.apply(this,arguments);const he=Ee=>{const Ue=q(Ee);Ue&&(be.handleEvent?be.handleEvent(Ue):be(Ue))};return this._eventMap=this._eventMap||{},this._eventMap[X]||(this._eventMap[X]=new Map),this._eventMap[X].set(be,he),ie.apply(this,[re,he])};const de=te.removeEventListener;te.removeEventListener=function(re,be){if(re!==X||!this._eventMap||!this._eventMap[X])return de.apply(this,arguments);if(!this._eventMap[X].has(be))return de.apply(this,arguments);const he=this._eventMap[X].get(be);return this._eventMap[X].delete(be),this._eventMap[X].size===0&&delete this._eventMap[X],Object.keys(this._eventMap).length===0&&delete this._eventMap,de.apply(this,[re,he])},Object.defineProperty(te,"on"+X,{get(){return this["_on"+X]},set(re){this["_on"+X]&&(this.removeEventListener(X,this["_on"+X]),delete this["_on"+X]),re&&this.addEventListener(X,this["_on"+X]=re)},enumerable:!0,configurable:!0})}function se(w){return typeof w!="boolean"?new Error("Argument type: "+typeof w+". Please use a boolean."):(P=w,w?"adapter.js logging disabled":"adapter.js logging enabled")}function pe(w){return typeof w!="boolean"?new Error("Argument type: "+typeof w+". Please use a boolean."):(j=!w,"adapter.js deprecation warnings "+(w?"disabled":"enabled"))}function we(){if(typeof window=="object"){if(P)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Be(w,X){j&&console.warn(w+" is deprecated, please use "+X+" instead.")}function Se(w){const{navigator:X}=w,q={browser:null,version:null};if(w===void 0||!w.navigator)return q.browser="Not a browser.",q;if(X.mozGetUserMedia)q.browser="firefox",q.version=ce(X.userAgent,/Firefox\/(\d+)\./,1);else if(X.webkitGetUserMedia||w.isSecureContext===!1&&w.webkitRTCPeerConnection&&!w.RTCIceGatherer)q.browser="chrome",q.version=ce(X.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(X.mediaDevices&&X.userAgent.match(/Edge\/(\d+).(\d+)$/))q.browser="edge",q.version=ce(X.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!w.RTCPeerConnection||!X.userAgent.match(/AppleWebKit\/(\d+)\./))return q.browser="Not a supported browser.",q;q.browser="safari",q.version=ce(X.userAgent,/AppleWebKit\/(\d+)\./,1),q.supportsUnifiedPlan=w.RTCRtpTransceiver&&"currentDirection"in w.RTCRtpTransceiver.prototype}return q}function Je(w){return Object.prototype.toString.call(w)==="[object Object]"}function F(w){return Je(w)?Object.keys(w).reduce(function(X,q){const te=Je(w[q]),ie=te?F(w[q]):w[q],de=te&&!Object.keys(ie).length;return ie===void 0||de?X:Object.assign(X,{[q]:ie})},{}):w}function Q(w,X,q){X&&!q.has(X.id)&&(q.set(X.id,X),Object.keys(X).forEach(te=>{te.endsWith("Id")?Q(w,w.get(X[te]),q):te.endsWith("Ids")&&X[te].forEach(ie=>{Q(w,w.get(ie),q)})}))}function ee(w,X,q){const te=q?"outbound-rtp":"inbound-rtp",ie=new Map;if(X===null)return ie;const de=[];return w.forEach(re=>{re.type==="track"&&re.trackIdentifier===X.id&&de.push(re)}),de.forEach(re=>{w.forEach(be=>{be.type===te&&be.trackId===re.id&&Q(w,be,ie)})}),ie}const ae=we;function Ae(w){const X=w&&w.navigator;if(!X.mediaDevices)return;const q=Se(w),te=function(re){if(typeof re!="object"||re.mandatory||re.optional)return re;const be={};return Object.keys(re).forEach(he=>{if(he==="require"||he==="advanced"||he==="mediaSource")return;const Ee=typeof re[he]=="object"?re[he]:{ideal:re[he]};Ee.exact!==void 0&&typeof Ee.exact=="number"&&(Ee.min=Ee.max=Ee.exact);const Ue=function(Qe,pt){return Qe?Qe+pt.charAt(0).toUpperCase()+pt.slice(1):pt==="deviceId"?"sourceId":pt};if(Ee.ideal!==void 0){be.optional=be.optional||[];let Qe={};typeof Ee.ideal=="number"?(Qe[Ue("min",he)]=Ee.ideal,be.optional.push(Qe),Qe={},Qe[Ue("max",he)]=Ee.ideal,be.optional.push(Qe)):(Qe[Ue("",he)]=Ee.ideal,be.optional.push(Qe))}Ee.exact!==void 0&&typeof Ee.exact!="number"?(be.mandatory=be.mandatory||{},be.mandatory[Ue("",he)]=Ee.exact):["min","max"].forEach(Qe=>{Ee[Qe]!==void 0&&(be.mandatory=be.mandatory||{},be.mandatory[Ue(Qe,he)]=Ee[Qe])})}),re.advanced&&(be.optional=(be.optional||[]).concat(re.advanced)),be},ie=function(re,be){if(q.version>=61)return be(re);if((re=JSON.parse(JSON.stringify(re)))&&typeof re.audio=="object"){const he=function(Ee,Ue,Qe){Ue in Ee&&!(Qe in Ee)&&(Ee[Qe]=Ee[Ue],delete Ee[Ue])};he((re=JSON.parse(JSON.stringify(re))).audio,"autoGainControl","googAutoGainControl"),he(re.audio,"noiseSuppression","googNoiseSuppression"),re.audio=te(re.audio)}if(re&&typeof re.video=="object"){let he=re.video.facingMode;he=he&&(typeof he=="object"?he:{ideal:he});const Ee=q.version<66;if(he&&(he.exact==="user"||he.exact==="environment"||he.ideal==="user"||he.ideal==="environment")&&(!X.mediaDevices.getSupportedConstraints||!X.mediaDevices.getSupportedConstraints().facingMode||Ee)){let Ue;if(delete re.video.facingMode,he.exact==="environment"||he.ideal==="environment"?Ue=["back","rear"]:he.exact!=="user"&&he.ideal!=="user"||(Ue=["front"]),Ue)return X.mediaDevices.enumerateDevices().then(Qe=>{let pt=(Qe=Qe.filter($n=>$n.kind==="videoinput")).find($n=>Ue.some(Xo=>$n.label.toLowerCase().includes(Xo)));return!pt&&Qe.length&&Ue.includes("back")&&(pt=Qe[Qe.length-1]),pt&&(re.video.deviceId=he.exact?{exact:pt.deviceId}:{ideal:pt.deviceId}),re.video=te(re.video),ae("chrome: "+JSON.stringify(re)),be(re)})}re.video=te(re.video)}return ae("chrome: "+JSON.stringify(re)),be(re)},de=function(re){return q.version>=64?re:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[re.name]||re.name,message:re.message,constraint:re.constraint||re.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(X.getUserMedia=(function(re,be,he){ie(re,Ee=>{X.webkitGetUserMedia(Ee,be,Ue=>{he&&he(de(Ue))})})}).bind(X),X.mediaDevices.getUserMedia){const re=X.mediaDevices.getUserMedia.bind(X.mediaDevices);X.mediaDevices.getUserMedia=function(be){return ie(be,he=>re(he).then(Ee=>{if(he.audio&&!Ee.getAudioTracks().length||he.video&&!Ee.getVideoTracks().length)throw Ee.getTracks().forEach(Ue=>{Ue.stop()}),new DOMException("","NotFoundError");return Ee},Ee=>Promise.reject(de(Ee))))}}}function He(w,X){w.navigator.mediaDevices&&"getDisplayMedia"in w.navigator.mediaDevices||w.navigator.mediaDevices&&(typeof X=="function"?w.navigator.mediaDevices.getDisplayMedia=function(q){return X(q).then(te=>{const ie=q.video&&q.video.width,de=q.video&&q.video.height,re=q.video&&q.video.frameRate;return q.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:te,maxFrameRate:re||3}},ie&&(q.video.mandatory.maxWidth=ie),de&&(q.video.mandatory.maxHeight=de),w.navigator.mediaDevices.getUserMedia(q)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function oe(w){w.MediaStream=w.MediaStream||w.webkitMediaStream}function Ce(w){if(typeof w=="object"&&w.RTCPeerConnection&&!("ontrack"in w.RTCPeerConnection.prototype)){Object.defineProperty(w.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(q){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=q)},enumerable:!0,configurable:!0});const X=w.RTCPeerConnection.prototype.setRemoteDescription;w.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=q=>{q.stream.addEventListener("addtrack",te=>{let ie;ie=w.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(re=>re.track&&re.track.id===te.track.id):{track:te.track};const de=new Event("track");de.track=te.track,de.receiver=ie,de.transceiver={receiver:ie},de.streams=[q.stream],this.dispatchEvent(de)}),q.stream.getTracks().forEach(te=>{let ie;ie=w.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(re=>re.track&&re.track.id===te.id):{track:te};const de=new Event("track");de.track=te,de.receiver=ie,de.transceiver={receiver:ie},de.streams=[q.stream],this.dispatchEvent(de)})},this.addEventListener("addstream",this._ontrackpoly)),X.apply(this,arguments)}}else h(w,"track",X=>(X.transceiver||Object.defineProperty(X,"transceiver",{value:{receiver:X.receiver}}),X))}function De(w){if(typeof w=="object"&&w.RTCPeerConnection&&!("getSenders"in w.RTCPeerConnection.prototype)&&"createDTMFSender"in w.RTCPeerConnection.prototype){const X=function(ie,de){return{track:de,get dtmf(){return this._dtmf===void 0&&(de.kind==="audio"?this._dtmf=ie.createDTMFSender(de):this._dtmf=null),this._dtmf},_pc:ie}};if(!w.RTCPeerConnection.prototype.getSenders){w.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const ie=w.RTCPeerConnection.prototype.addTrack;w.RTCPeerConnection.prototype.addTrack=function(re,be){let he=ie.apply(this,arguments);return he||(he=X(this,re),this._senders.push(he)),he};const de=w.RTCPeerConnection.prototype.removeTrack;w.RTCPeerConnection.prototype.removeTrack=function(re){de.apply(this,arguments);const be=this._senders.indexOf(re);be!==-1&&this._senders.splice(be,1)}}const q=w.RTCPeerConnection.prototype.addStream;w.RTCPeerConnection.prototype.addStream=function(ie){this._senders=this._senders||[],q.apply(this,[ie]),ie.getTracks().forEach(de=>{this._senders.push(X(this,de))})};const te=w.RTCPeerConnection.prototype.removeStream;w.RTCPeerConnection.prototype.removeStream=function(ie){this._senders=this._senders||[],te.apply(this,[ie]),ie.getTracks().forEach(de=>{const re=this._senders.find(be=>be.track===de);re&&this._senders.splice(this._senders.indexOf(re),1)})}}else if(typeof w=="object"&&w.RTCPeerConnection&&"getSenders"in w.RTCPeerConnection.prototype&&"createDTMFSender"in w.RTCPeerConnection.prototype&&w.RTCRtpSender&&!("dtmf"in w.RTCRtpSender.prototype)){const X=w.RTCPeerConnection.prototype.getSenders;w.RTCPeerConnection.prototype.getSenders=function(){const q=X.apply(this,[]);return q.forEach(te=>te._pc=this),q},Object.defineProperty(w.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Fe(w){if(!w.RTCPeerConnection)return;const X=w.RTCPeerConnection.prototype.getStats;w.RTCPeerConnection.prototype.getStats=function(){const[q,te,ie]=arguments;if(arguments.length>0&&typeof q=="function")return X.apply(this,arguments);if(X.length===0&&(arguments.length===0||typeof q!="function"))return X.apply(this,[]);const de=function(be){const he={};return be.result().forEach(Ee=>{const Ue={id:Ee.id,timestamp:Ee.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Ee.type]||Ee.type};Ee.names().forEach(Qe=>{Ue[Qe]=Ee.stat(Qe)}),he[Ue.id]=Ue}),he},re=function(be){return new Map(Object.keys(be).map(he=>[he,be[he]]))};if(arguments.length>=2){const be=function(he){te(re(de(he)))};return X.apply(this,[be,q])}return new Promise((be,he)=>{X.apply(this,[function(Ee){be(re(de(Ee)))},he])}).then(te,ie)}}function _e(w){if(!(typeof w=="object"&&w.RTCPeerConnection&&w.RTCRtpSender&&w.RTCRtpReceiver))return;if(!("getStats"in w.RTCRtpSender.prototype)){const q=w.RTCPeerConnection.prototype.getSenders;q&&(w.RTCPeerConnection.prototype.getSenders=function(){const ie=q.apply(this,[]);return ie.forEach(de=>de._pc=this),ie});const te=w.RTCPeerConnection.prototype.addTrack;te&&(w.RTCPeerConnection.prototype.addTrack=function(){const ie=te.apply(this,arguments);return ie._pc=this,ie}),w.RTCRtpSender.prototype.getStats=function(){const ie=this;return this._pc.getStats().then(de=>ee(de,ie.track,!0))}}if(!("getStats"in w.RTCRtpReceiver.prototype)){const q=w.RTCPeerConnection.prototype.getReceivers;q&&(w.RTCPeerConnection.prototype.getReceivers=function(){const te=q.apply(this,[]);return te.forEach(ie=>ie._pc=this),te}),h(w,"track",te=>(te.receiver._pc=te.srcElement,te)),w.RTCRtpReceiver.prototype.getStats=function(){const te=this;return this._pc.getStats().then(ie=>ee(ie,te.track,!1))}}if(!("getStats"in w.RTCRtpSender.prototype)||!("getStats"in w.RTCRtpReceiver.prototype))return;const X=w.RTCPeerConnection.prototype.getStats;w.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof w.MediaStreamTrack){const q=arguments[0];let te,ie,de;return this.getSenders().forEach(re=>{re.track===q&&(te?de=!0:te=re)}),this.getReceivers().forEach(re=>(re.track===q&&(ie?de=!0:ie=re),re.track===q)),de||te&&ie?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):te?te.getStats():ie?ie.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return X.apply(this,arguments)}}function Et(w){w.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(de=>this._shimmedLocalStreams[de][0])};const X=w.RTCPeerConnection.prototype.addTrack;w.RTCPeerConnection.prototype.addTrack=function(de,re){if(!re)return X.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const be=X.apply(this,arguments);return this._shimmedLocalStreams[re.id]?this._shimmedLocalStreams[re.id].indexOf(be)===-1&&this._shimmedLocalStreams[re.id].push(be):this._shimmedLocalStreams[re.id]=[re,be],be};const q=w.RTCPeerConnection.prototype.addStream;w.RTCPeerConnection.prototype.addStream=function(de){this._shimmedLocalStreams=this._shimmedLocalStreams||{},de.getTracks().forEach(he=>{if(this.getSenders().find(Ee=>Ee.track===he))throw new DOMException("Track already exists.","InvalidAccessError")});const re=this.getSenders();q.apply(this,arguments);const be=this.getSenders().filter(he=>re.indexOf(he)===-1);this._shimmedLocalStreams[de.id]=[de].concat(be)};const te=w.RTCPeerConnection.prototype.removeStream;w.RTCPeerConnection.prototype.removeStream=function(de){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[de.id],te.apply(this,arguments)};const ie=w.RTCPeerConnection.prototype.removeTrack;w.RTCPeerConnection.prototype.removeTrack=function(de){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},de&&Object.keys(this._shimmedLocalStreams).forEach(re=>{const be=this._shimmedLocalStreams[re].indexOf(de);be!==-1&&this._shimmedLocalStreams[re].splice(be,1),this._shimmedLocalStreams[re].length===1&&delete this._shimmedLocalStreams[re]}),ie.apply(this,arguments)}}function lt(w){if(!w.RTCPeerConnection)return;const X=Se(w);if(w.RTCPeerConnection.prototype.addTrack&&X.version>=65)return Et(w);const q=w.RTCPeerConnection.prototype.getLocalStreams;w.RTCPeerConnection.prototype.getLocalStreams=function(){const he=q.apply(this);return this._reverseStreams=this._reverseStreams||{},he.map(Ee=>this._reverseStreams[Ee.id])};const te=w.RTCPeerConnection.prototype.addStream;w.RTCPeerConnection.prototype.addStream=function(he){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},he.getTracks().forEach(Ee=>{if(this.getSenders().find(Ue=>Ue.track===Ee))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[he.id]){const Ee=new w.MediaStream(he.getTracks());this._streams[he.id]=Ee,this._reverseStreams[Ee.id]=he,he=Ee}te.apply(this,[he])};const ie=w.RTCPeerConnection.prototype.removeStream;function de(he,Ee){let Ue=Ee.sdp;return Object.keys(he._reverseStreams||[]).forEach(Qe=>{const pt=he._reverseStreams[Qe],$n=he._streams[pt.id];Ue=Ue.replace(new RegExp($n.id,"g"),pt.id)}),new RTCSessionDescription({type:Ee.type,sdp:Ue})}w.RTCPeerConnection.prototype.removeStream=function(he){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},ie.apply(this,[this._streams[he.id]||he]),delete this._reverseStreams[this._streams[he.id]?this._streams[he.id].id:he.id],delete this._streams[he.id]},w.RTCPeerConnection.prototype.addTrack=function(he,Ee){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const Ue=[].slice.call(arguments,1);if(Ue.length!==1||!Ue[0].getTracks().find(pt=>pt===he))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(pt=>pt.track===he))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const Qe=this._streams[Ee.id];if(Qe)Qe.addTrack(he),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const pt=new w.MediaStream([he]);this._streams[Ee.id]=pt,this._reverseStreams[pt.id]=Ee,this.addStream(pt)}return this.getSenders().find(pt=>pt.track===he)},["createOffer","createAnswer"].forEach(function(he){const Ee=w.RTCPeerConnection.prototype[he],Ue={[he](){const Qe=arguments;return arguments.length&&typeof arguments[0]=="function"?Ee.apply(this,[pt=>{const $n=de(this,pt);Qe[0].apply(null,[$n])},pt=>{Qe[1]&&Qe[1].apply(null,pt)},arguments[2]]):Ee.apply(this,arguments).then(pt=>de(this,pt))}};w.RTCPeerConnection.prototype[he]=Ue[he]});const re=w.RTCPeerConnection.prototype.setLocalDescription;w.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(he,Ee){let Ue=Ee.sdp;return Object.keys(he._reverseStreams||[]).forEach(Qe=>{const pt=he._reverseStreams[Qe],$n=he._streams[pt.id];Ue=Ue.replace(new RegExp(pt.id,"g"),$n.id)}),new RTCSessionDescription({type:Ee.type,sdp:Ue})}(this,arguments[0]),re.apply(this,arguments)):re.apply(this,arguments)};const be=Object.getOwnPropertyDescriptor(w.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(w.RTCPeerConnection.prototype,"localDescription",{get(){const he=be.get.apply(this);return he.type===""?he:de(this,he)}}),w.RTCPeerConnection.prototype.removeTrack=function(he){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!he._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(he._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let Ee;this._streams=this._streams||{},Object.keys(this._streams).forEach(Ue=>{this._streams[Ue].getTracks().find(Qe=>he.track===Qe)&&(Ee=this._streams[Ue])}),Ee&&(Ee.getTracks().length===1?this.removeStream(this._reverseStreams[Ee.id]):Ee.removeTrack(he.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ft(w){const X=Se(w);if(!w.RTCPeerConnection&&w.webkitRTCPeerConnection&&(w.RTCPeerConnection=w.webkitRTCPeerConnection),!w.RTCPeerConnection)return;const q=w.RTCPeerConnection.prototype.addIceCandidate.length===0;X.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(ie){const de=w.RTCPeerConnection.prototype[ie],re={[ie](){return arguments[0]=new(ie==="addIceCandidate"?w.RTCIceCandidate:w.RTCSessionDescription)(arguments[0]),de.apply(this,arguments)}};w.RTCPeerConnection.prototype[ie]=re[ie]});const te=w.RTCPeerConnection.prototype.addIceCandidate;w.RTCPeerConnection.prototype.addIceCandidate=function(){return q||arguments[0]?X.version<78&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():te.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}function vt(w){const X=Se(w);h(w,"negotiationneeded",q=>{const te=q.target;if(!(X.version<72||te.getConfiguration&&te.getConfiguration().sdpSemantics==="plan-b")||te.signalingState==="stable")return q})}var It=G(134),Ut=G.n(It);function ln(w){const X=w&&w.navigator,q=X.mediaDevices.getUserMedia.bind(X.mediaDevices);X.mediaDevices.getUserMedia=function(te){return q(te).catch(ie=>Promise.reject(function(de){return{name:{PermissionDeniedError:"NotAllowedError"}[de.name]||de.name,message:de.message,constraint:de.constraint,toString(){return this.name}}}(ie)))}}function Ke(w){"getDisplayMedia"in w.navigator&&w.navigator.mediaDevices&&(w.navigator.mediaDevices&&"getDisplayMedia"in w.navigator.mediaDevices||(w.navigator.mediaDevices.getDisplayMedia=w.navigator.getDisplayMedia.bind(w.navigator)))}function mi(w){const X=Se(w);if(w.RTCIceGatherer&&(w.RTCIceCandidate||(w.RTCIceCandidate=function(te){return te}),w.RTCSessionDescription||(w.RTCSessionDescription=function(te){return te}),X.version<15025)){const te=Object.getOwnPropertyDescriptor(w.MediaStreamTrack.prototype,"enabled");Object.defineProperty(w.MediaStreamTrack.prototype,"enabled",{set(ie){te.set.call(this,ie);const de=new Event("enabled");de.enabled=ie,this.dispatchEvent(de)}})}w.RTCRtpSender&&!("dtmf"in w.RTCRtpSender.prototype)&&Object.defineProperty(w.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new w.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),w.RTCDtmfSender&&!w.RTCDTMFSender&&(w.RTCDTMFSender=w.RTCDtmfSender);const q=Ut()(w,X.version);w.RTCPeerConnection=function(te){return te&&te.iceServers&&(te.iceServers=function(ie){let de=!1;return(ie=JSON.parse(JSON.stringify(ie))).filter(re=>{if(re&&(re.urls||re.url)){var be=re.urls||re.url;re.url&&!re.urls&&Be("RTCIceServer.url","RTCIceServer.urls");const he=typeof be=="string";return he&&(be=[be]),be=be.filter(Ee=>{if(Ee.indexOf("stun:")===0)return!1;const Ue=Ee.startsWith("turn")&&!Ee.startsWith("turn:[")&&Ee.includes("transport=udp");return Ue&&!de?(de=!0,!0):Ue&&!de}),delete re.url,re.urls=he?be[0]:be,!!be.length}})}(te.iceServers,X.version),we("ICE servers after filtering:",te.iceServers)),new q(te)},w.RTCPeerConnection.prototype=q.prototype}function Bn(w){w.RTCRtpSender&&!("replaceTrack"in w.RTCRtpSender.prototype)&&(w.RTCRtpSender.prototype.replaceTrack=w.RTCRtpSender.prototype.setTrack)}function xt(w){const X=Se(w),q=w&&w.navigator,te=w&&w.MediaStreamTrack;if(q.getUserMedia=function(ie,de,re){Be("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),q.mediaDevices.getUserMedia(ie).then(de,re)},!(X.version>55&&"autoGainControl"in q.mediaDevices.getSupportedConstraints())){const ie=function(re,be,he){be in re&&!(he in re)&&(re[he]=re[be],delete re[be])},de=q.mediaDevices.getUserMedia.bind(q.mediaDevices);if(q.mediaDevices.getUserMedia=function(re){return typeof re=="object"&&typeof re.audio=="object"&&(re=JSON.parse(JSON.stringify(re)),ie(re.audio,"autoGainControl","mozAutoGainControl"),ie(re.audio,"noiseSuppression","mozNoiseSuppression")),de(re)},te&&te.prototype.getSettings){const re=te.prototype.getSettings;te.prototype.getSettings=function(){const be=re.apply(this,arguments);return ie(be,"mozAutoGainControl","autoGainControl"),ie(be,"mozNoiseSuppression","noiseSuppression"),be}}if(te&&te.prototype.applyConstraints){const re=te.prototype.applyConstraints;te.prototype.applyConstraints=function(be){return this.kind==="audio"&&typeof be=="object"&&(be=JSON.parse(JSON.stringify(be)),ie(be,"autoGainControl","mozAutoGainControl"),ie(be,"noiseSuppression","mozNoiseSuppression")),re.apply(this,[be])}}}}function jt(w,X){w.navigator.mediaDevices&&"getDisplayMedia"in w.navigator.mediaDevices||w.navigator.mediaDevices&&(w.navigator.mediaDevices.getDisplayMedia=function(q){if(!q||!q.video){const te=new DOMException("getDisplayMedia without video constraints is undefined");return te.name="NotFoundError",te.code=8,Promise.reject(te)}return q.video===!0?q.video={mediaSource:X}:q.video.mediaSource=X,w.navigator.mediaDevices.getUserMedia(q)})}function ii(w){typeof w=="object"&&w.RTCTrackEvent&&"receiver"in w.RTCTrackEvent.prototype&&!("transceiver"in w.RTCTrackEvent.prototype)&&Object.defineProperty(w.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Cn(w){const X=Se(w);if(typeof w!="object"||!w.RTCPeerConnection&&!w.mozRTCPeerConnection)return;if(!w.RTCPeerConnection&&w.mozRTCPeerConnection&&(w.RTCPeerConnection=w.mozRTCPeerConnection),X.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(ie){const de=w.RTCPeerConnection.prototype[ie],re={[ie](){return arguments[0]=new(ie==="addIceCandidate"?w.RTCIceCandidate:w.RTCSessionDescription)(arguments[0]),de.apply(this,arguments)}};w.RTCPeerConnection.prototype[ie]=re[ie]}),X.version<68){const ie=w.RTCPeerConnection.prototype.addIceCandidate;w.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&arguments[0].candidate===""?Promise.resolve():ie.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}const q={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},te=w.RTCPeerConnection.prototype.getStats;w.RTCPeerConnection.prototype.getStats=function(){const[ie,de,re]=arguments;return te.apply(this,[ie||null]).then(be=>{if(X.version<53&&!de)try{be.forEach(he=>{he.type=q[he.type]||he.type})}catch(he){if(he.name!=="TypeError")throw he;be.forEach((Ee,Ue)=>{be.set(Ue,Object.assign({},Ee,{type:q[Ee.type]||Ee.type}))})}return be}).then(de,re)}}function Tn(w){if(typeof w!="object"||!w.RTCPeerConnection||!w.RTCRtpSender||w.RTCRtpSender&&"getStats"in w.RTCRtpSender.prototype)return;const X=w.RTCPeerConnection.prototype.getSenders;X&&(w.RTCPeerConnection.prototype.getSenders=function(){const te=X.apply(this,[]);return te.forEach(ie=>ie._pc=this),te});const q=w.RTCPeerConnection.prototype.addTrack;q&&(w.RTCPeerConnection.prototype.addTrack=function(){const te=q.apply(this,arguments);return te._pc=this,te}),w.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Jt(w){if(typeof w!="object"||!w.RTCPeerConnection||!w.RTCRtpSender||w.RTCRtpSender&&"getStats"in w.RTCRtpReceiver.prototype)return;const X=w.RTCPeerConnection.prototype.getReceivers;X&&(w.RTCPeerConnection.prototype.getReceivers=function(){const q=X.apply(this,[]);return q.forEach(te=>te._pc=this),q}),h(w,"track",q=>(q.receiver._pc=q.srcElement,q)),w.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Di(w){w.RTCPeerConnection&&!("removeStream"in w.RTCPeerConnection.prototype)&&(w.RTCPeerConnection.prototype.removeStream=function(X){Be("removeStream","removeTrack"),this.getSenders().forEach(q=>{q.track&&X.getTracks().includes(q.track)&&this.removeTrack(q)})})}function kn(w){w.DataChannel&&!w.RTCDataChannel&&(w.RTCDataChannel=w.DataChannel)}function ri(w){if(typeof w!="object"||!w.RTCPeerConnection)return;const X=w.RTCPeerConnection.prototype.addTransceiver;X&&(w.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const q=arguments[1],te=q&&"sendEncodings"in q;te&&q.sendEncodings.forEach(de=>{if("rid"in de&&!/^[a-z0-9]{0,16}$/i.test(de.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in de&&!(parseFloat(de.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in de&&!(parseFloat(de.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const ie=X.apply(this,arguments);if(te){const{sender:de}=ie,re=de.getParameters();"encodings"in re||(re.encodings=q.sendEncodings,de.sendEncodings=q.sendEncodings,this.setParametersPromises.push(de.setParameters(re).then(()=>{delete de.sendEncodings}).catch(()=>{delete de.sendEncodings})))}return ie})}function Gn(w){if(typeof w!="object"||!w.RTCRtpSender)return;const X=w.RTCRtpSender.prototype.getParameters;X&&(w.RTCRtpSender.prototype.getParameters=function(){var q=X.apply(this,arguments);return"sendEncodings"in this?Object.assign({},{encodings:this.sendEncodings},q):q})}function vi(w){if(typeof w!="object"||!w.RTCPeerConnection)return;const X=w.RTCPeerConnection.prototype.createOffer;w.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>X.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):X.apply(this,arguments)}}function gn(w){if(typeof w!="object"||!w.RTCPeerConnection)return;const X=w.RTCPeerConnection.prototype.createAnswer;w.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>X.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):X.apply(this,arguments)}}function In(w){if(typeof w=="object"&&w.RTCPeerConnection){if("getLocalStreams"in w.RTCPeerConnection.prototype||(w.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in w.RTCPeerConnection.prototype)){const X=w.RTCPeerConnection.prototype.addTrack;w.RTCPeerConnection.prototype.addStream=function(q){this._localStreams||(this._localStreams=[]),this._localStreams.includes(q)||this._localStreams.push(q),q.getAudioTracks().forEach(te=>X.call(this,te,q)),q.getVideoTracks().forEach(te=>X.call(this,te,q))},w.RTCPeerConnection.prototype.addTrack=function(q,...te){return te&&te.forEach(ie=>{this._localStreams?this._localStreams.includes(ie)||this._localStreams.push(ie):this._localStreams=[ie]}),X.apply(this,arguments)}}"removeStream"in w.RTCPeerConnection.prototype||(w.RTCPeerConnection.prototype.removeStream=function(X){this._localStreams||(this._localStreams=[]);const q=this._localStreams.indexOf(X);if(q===-1)return;this._localStreams.splice(q,1);const te=X.getTracks();this.getSenders().forEach(ie=>{te.includes(ie.track)&&this.removeTrack(ie)})})}}function Rn(w){if(typeof w=="object"&&w.RTCPeerConnection&&("getRemoteStreams"in w.RTCPeerConnection.prototype||(w.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in w.RTCPeerConnection.prototype))){Object.defineProperty(w.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(q){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=q),this.addEventListener("track",this._onaddstreampoly=te=>{te.streams.forEach(ie=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(ie))return;this._remoteStreams.push(ie);const de=new Event("addstream");de.stream=ie,this.dispatchEvent(de)})})}});const X=w.RTCPeerConnection.prototype.setRemoteDescription;w.RTCPeerConnection.prototype.setRemoteDescription=function(){const q=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(te){te.streams.forEach(ie=>{if(q._remoteStreams||(q._remoteStreams=[]),q._remoteStreams.indexOf(ie)>=0)return;q._remoteStreams.push(ie);const de=new Event("addstream");de.stream=ie,q.dispatchEvent(de)})}),X.apply(q,arguments)}}}function Nt(w){if(typeof w!="object"||!w.RTCPeerConnection)return;const X=w.RTCPeerConnection.prototype,q=X.createOffer,te=X.createAnswer,ie=X.setLocalDescription,de=X.setRemoteDescription,re=X.addIceCandidate;X.createOffer=function(he,Ee){const Ue=arguments.length>=2?arguments[2]:arguments[0],Qe=q.apply(this,[Ue]);return Ee?(Qe.then(he,Ee),Promise.resolve()):Qe},X.createAnswer=function(he,Ee){const Ue=arguments.length>=2?arguments[2]:arguments[0],Qe=te.apply(this,[Ue]);return Ee?(Qe.then(he,Ee),Promise.resolve()):Qe};let be=function(he,Ee,Ue){const Qe=ie.apply(this,[he]);return Ue?(Qe.then(Ee,Ue),Promise.resolve()):Qe};X.setLocalDescription=be,be=function(he,Ee,Ue){const Qe=de.apply(this,[he]);return Ue?(Qe.then(Ee,Ue),Promise.resolve()):Qe},X.setRemoteDescription=be,be=function(he,Ee,Ue){const Qe=re.apply(this,[he]);return Ue?(Qe.then(Ee,Ue),Promise.resolve()):Qe},X.addIceCandidate=be}function gi(w){const X=w&&w.navigator;if(X.mediaDevices&&X.mediaDevices.getUserMedia){const q=X.mediaDevices,te=q.getUserMedia.bind(q);X.mediaDevices.getUserMedia=ie=>te(Ai(ie))}!X.getUserMedia&&X.mediaDevices&&X.mediaDevices.getUserMedia&&(X.getUserMedia=(function(q,te,ie){X.mediaDevices.getUserMedia(q).then(te,ie)}).bind(X))}function Ai(w){return w&&w.video!==void 0?Object.assign({},w,{video:F(w.video)}):w}function Vn(w){if(!w.RTCPeerConnection)return;const X=w.RTCPeerConnection;w.RTCPeerConnection=function(q,te){if(q&&q.iceServers){const ie=[];for(let de=0;de<q.iceServers.length;de++){let re=q.iceServers[de];!re.hasOwnProperty("urls")&&re.hasOwnProperty("url")?(Be("RTCIceServer.url","RTCIceServer.urls"),re=JSON.parse(JSON.stringify(re)),re.urls=re.url,delete re.url,ie.push(re)):ie.push(q.iceServers[de])}q.iceServers=ie}return new X(q,te)},w.RTCPeerConnection.prototype=X.prototype,"generateCertificate"in X&&Object.defineProperty(w.RTCPeerConnection,"generateCertificate",{get:()=>X.generateCertificate})}function Oi(w){typeof w=="object"&&w.RTCTrackEvent&&"receiver"in w.RTCTrackEvent.prototype&&!("transceiver"in w.RTCTrackEvent.prototype)&&Object.defineProperty(w.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Mi(w){const X=w.RTCPeerConnection.prototype.createOffer;w.RTCPeerConnection.prototype.createOffer=function(q){if(q){q.offerToReceiveAudio!==void 0&&(q.offerToReceiveAudio=!!q.offerToReceiveAudio);const te=this.getTransceivers().find(de=>de.receiver.track.kind==="audio");q.offerToReceiveAudio===!1&&te?te.direction==="sendrecv"?te.setDirection?te.setDirection("sendonly"):te.direction="sendonly":te.direction==="recvonly"&&(te.setDirection?te.setDirection("inactive"):te.direction="inactive"):q.offerToReceiveAudio!==!0||te||this.addTransceiver("audio"),q.offerToReceiveVideo!==void 0&&(q.offerToReceiveVideo=!!q.offerToReceiveVideo);const ie=this.getTransceivers().find(de=>de.receiver.track.kind==="video");q.offerToReceiveVideo===!1&&ie?ie.direction==="sendrecv"?ie.setDirection?ie.setDirection("sendonly"):ie.direction="sendonly":ie.direction==="recvonly"&&(ie.setDirection?ie.setDirection("inactive"):ie.direction="inactive"):q.offerToReceiveVideo!==!0||ie||this.addTransceiver("video")}return X.apply(this,arguments)}}function Si(w){typeof w!="object"||w.AudioContext||(w.AudioContext=w.webkitAudioContext)}var $i=G(985),si=G.n($i);function zn(w){if(!w.RTCIceCandidate||w.RTCIceCandidate&&"foundation"in w.RTCIceCandidate.prototype)return;const X=w.RTCIceCandidate;w.RTCIceCandidate=function(q){if(typeof q=="object"&&q.candidate&&q.candidate.indexOf("a=")===0&&((q=JSON.parse(JSON.stringify(q))).candidate=q.candidate.substr(2)),q.candidate&&q.candidate.length){const te=new X(q),ie=si().parseCandidate(q.candidate),de=Object.assign(te,ie);return de.toJSON=function(){return{candidate:de.candidate,sdpMid:de.sdpMid,sdpMLineIndex:de.sdpMLineIndex,usernameFragment:de.usernameFragment}},de}return new X(q)},w.RTCIceCandidate.prototype=X.prototype,h(w,"icecandidate",q=>(q.candidate&&Object.defineProperty(q,"candidate",{value:new w.RTCIceCandidate(q.candidate),writable:"false"}),q))}function yi(w){if(!w.RTCPeerConnection)return;const X=Se(w);"sctp"in w.RTCPeerConnection.prototype||Object.defineProperty(w.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const q=w.RTCPeerConnection.prototype.setRemoteDescription;w.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,X.browser==="chrome"&&X.version>=76){const{sdpSemantics:te}=this.getConfiguration();te==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(te){if(!te||!te.sdp)return!1;const ie=si().splitSections(te.sdp);return ie.shift(),ie.some(de=>{const re=si().parseMLine(de);return re&&re.kind==="application"&&re.protocol.indexOf("SCTP")!==-1})}(arguments[0])){const te=function(he){const Ee=he.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(Ee===null||Ee.length<2)return-1;const Ue=parseInt(Ee[1],10);return Ue!=Ue?-1:Ue}(arguments[0]),ie=function(he){let Ee=65536;return X.browser==="firefox"&&(Ee=X.version<57?he===-1?16384:2147483637:X.version<60?X.version===57?65535:65536:2147483637),Ee}(te),de=function(he,Ee){let Ue=65536;X.browser==="firefox"&&X.version===57&&(Ue=65535);const Qe=si().matchPrefix(he.sdp,"a=max-message-size:");return Qe.length>0?Ue=parseInt(Qe[0].substr(19),10):X.browser==="firefox"&&Ee!==-1&&(Ue=2147483637),Ue}(arguments[0],te);let re;re=ie===0&&de===0?Number.POSITIVE_INFINITY:ie===0||de===0?Math.max(ie,de):Math.min(ie,de);const be={};Object.defineProperty(be,"maxMessageSize",{get:()=>re}),this._sctp=be}return q.apply(this,arguments)}}function tn(w){if(!w.RTCPeerConnection||!("createDataChannel"in w.RTCPeerConnection.prototype))return;function X(te,ie){const de=te.send;te.send=function(){const re=arguments[0],be=re.length||re.size||re.byteLength;if(te.readyState==="open"&&ie.sctp&&be>ie.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+ie.sctp.maxMessageSize+" bytes)");return de.apply(te,arguments)}}const q=w.RTCPeerConnection.prototype.createDataChannel;w.RTCPeerConnection.prototype.createDataChannel=function(){const te=q.apply(this,arguments);return X(te,this),te},h(w,"datachannel",te=>(X(te.channel,te.target),te))}function Pn(w){if(!w.RTCPeerConnection||"connectionState"in w.RTCPeerConnection.prototype)return;const X=w.RTCPeerConnection.prototype;Object.defineProperty(X,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(X,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(q){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),q&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=q)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(q=>{const te=X[q];X[q]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=ie=>{const de=ie.target;if(de._lastConnectionState!==de.connectionState){de._lastConnectionState=de.connectionState;const re=new Event("connectionstatechange",ie);de.dispatchEvent(re)}return ie},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),te.apply(this,arguments)}})}function Hn(w){if(!w.RTCPeerConnection)return;const X=Se(w);if(X.browser==="chrome"&&X.version>=71||X.browser==="safari"&&X.version>=605)return;const q=w.RTCPeerConnection.prototype.setRemoteDescription;w.RTCPeerConnection.prototype.setRemoteDescription=function(te){return te&&te.sdp&&te.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1&&(te.sdp=te.sdp.split(`
`).filter(ie=>ie.trim()!=="a=extmap-allow-mixed").join(`
`)),q.apply(this,arguments)}}(function({window:w}={},X={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const q=we,te=Se(w),ie={browserDetails:te,commonShim:I,extractVersion:ce,disableLog:se,disableWarnings:pe};switch(te.browser){case"chrome":if(!M||!ft||!X.shimChrome)return q("Chrome shim is not included in this adapter release."),ie;if(te.version===null)return q("Chrome shim can not determine version, not shimming."),ie;q("adapter.js shimming chrome."),ie.browserShim=M,Ae(w),oe(w),ft(w),Ce(w),lt(w),De(w),Fe(w),_e(w),vt(w),zn(w),Pn(w),yi(w),tn(w),Hn(w);break;case"firefox":if(!y||!Cn||!X.shimFirefox)return q("Firefox shim is not included in this adapter release."),ie;q("adapter.js shimming firefox."),ie.browserShim=y,xt(w),Cn(w),ii(w),Di(w),Tn(w),Jt(w),kn(w),ri(w),Gn(w),vi(w),gn(w),zn(w),Pn(w),yi(w),tn(w);break;case"edge":if(!v||!mi||!X.shimEdge)return q("MS edge shim is not included in this adapter release."),ie;q("adapter.js shimming edge."),ie.browserShim=v,ln(w),Ke(w),mi(w),Bn(w),yi(w),tn(w);break;case"safari":if(!R||!X.shimSafari)return q("Safari shim is not included in this adapter release."),ie;q("adapter.js shimming safari."),ie.browserShim=R,Vn(w),Mi(w),Nt(w),In(w),Rn(w),Oi(w),gi(w),Si(w),zn(w),yi(w),tn(w),Hn(w);break;default:q("Unsupported browser!")}})({window}),G(393);var oi=Ragnarok.GridApp,qi=Ragnarok.ChooseStreamingSettings,Qi=Ragnarok.ChooseStreamingResolution,pr=Ragnarok.InitializeUtils,Ji=Ragnarok.GetSupportedAudioChannelCount,Wr=Ragnarok.GetDeviceCapabilities,mr=Ragnarok.getSupportedCodecs,Yi=Ragnarok.VirtualButton,vr=Ragnarok.VirtualGamepadHandler,Is=Ragnarok.ConfigureRagnarokSettings,Rs=Ragnarok.CHANGELIST,Ps=Ragnarok.AuthType,xs=Ragnarok.performHttpRequest,Ns=Ragnarok.AddPlatformTelemetry,Kr=Ragnarok.IsFeatureSupported,$r=Ragnarok.CalculateMaxBitrateKbps,Ds=Ragnarok.CalculateDataUsage,gr=Ragnarok.LogImpl,qr=Ragnarok.EVENTS,Lo=Ragnarok.HotkeyModifier,Qr=Ragnarok.defaultInputConfigFlags,Os=Ragnarok.StreamingProfilePreset,ai=Ragnarok.TrackType,Ar=Ragnarok.STREAMING_STATE,_o=Ragnarok.RNotificationCode,cn=Ragnarok.ScErrorCode,Ms=Ragnarok.configureSessionControlSettings,Ls=Ragnarok.DeviceType,_s=Ragnarok.DeviceOS,Jr=Ragnarok.NetworkType,Fs=Ragnarok.registerLogCallback,Fo=Ragnarok.LogLevel,L=Ragnarok.createSessionControl,Z=Ragnarok.SdrHdrMode,le=Ragnarok.Usage,Te=Ragnarok.Protocol,ye=Ragnarok.AppLevelProtocol,Ve=Ragnarok.AdState,Ze=Ragnarok.AdAction,$e=Ragnarok.BitDepth,qe=Ragnarok.ClientType,Ge=Ragnarok.SessionState,Ye=Ragnarok.SessionProgressState,it=Ragnarok.AppLaunchMode,St=Ragnarok.updateSessionParameters,At=Ragnarok.isCancelCode,dn=Ragnarok.isResumableSessionState,Us=Ragnarok.getResumableSession,Uo=Ragnarok.SessionControlTelemetry,un=Ragnarok.GsErrorCode,sl=Ragnarok.GridServerSettings,wi=Ragnarok.ConfigureGridServerSettings,ol=Ragnarok.BrowserName,jo=Ragnarok.PlatformName,Gt=Ragnarok.getPlatformDetails,Li=Ragnarok.DeviceModel,li=Ragnarok.DeviceVendor,js=Ragnarok.CLIENT_VERSION,al=Ragnarok.CLIENT_IDENTIFICATION,ll=Ragnarok.SESSIONMODIFY_ACTION,cl=Ragnarok.AudioFormat,dl=Ragnarok.ClientStreamer,ul=Ragnarok.GS_EVENTS,Yr=Ragnarok.GridServer,hl=Ragnarok.PassThruServer,Bo=Ragnarok.VsyncType,fl=Ragnarok.getDeviceCapabilities,wd=Ragnarok.serializeDeviceCapabilities,Go=Ragnarok.PayloadOSType,pl=Ragnarok.PayloadBrowserType,Vo=Ragnarok.PayloadDeviceType,Bs=Ragnarok.ClientHeaderOSType,ml=Ragnarok.ClientHeaderBrowserType,zo=Ragnarok.ClientHeaderDeviceType,vl=Ragnarok.translatePlatformDetailsForPayload,gl=Ragnarok.translatePlatformDetailsForClientHeader,Al=Ragnarok.getStreamerType,Gs=Ragnarok.BrowserFeature,bd=Ragnarok.isFeatureSupported,Sl=Ragnarok.shouldDefaultEnableMic,Wn=Ragnarok.getRecommendedBitrate,Kn=Ragnarok.getStreamStartParameters,Ho=Ragnarok.estimateDataUsage,Wt=Ragnarok.NskTelemetry,_i=Ragnarok.createNskStreamClient,Xr=Ragnarok.configureRagnarokSettings,Wo=Ragnarok.getNetworkTypeDetector,Ko=Ragnarok.RErrorCode,$o=Ragnarok.HidType,Zr=Ragnarok.InputType,es=Ragnarok.VideoCodecType,ts=Ragnarok.MicState,ns=Ragnarok.DynamicStreamingMode,qo=Ragnarok.MediaTrackKind,Qo=Ragnarok.StreamStopReason,is=Ragnarok.StreamWarningType,Jo=Ragnarok.CursorType,Yo=Ragnarok.StreamingState})(),A.exports=K})()},142:(A,k,O)=>{O.r(k),O.d(k,{DiagConsoleLogger:()=>He,DiagLogLevel:()=>j,INVALID_SPANID:()=>vi,INVALID_SPAN_CONTEXT:()=>In,INVALID_TRACEID:()=>gn,ProxyTracer:()=>Wr,ProxyTracerProvider:()=>Yi,ROOT_CONTEXT:()=>ae,SamplingDecision:()=>Hn,SpanKind:()=>oi,SpanStatusCode:()=>qi,TraceFlags:()=>Cn,ValueType:()=>ee,baggageEntryMetadataFromString:()=>Je,context:()=>Kr,createContextKey:()=>F,createNoopMeter:()=>ii,createTraceState:()=>Ns,default:()=>Fo,defaultTextMapGetter:()=>Tn,defaultTextMapSetter:()=>Jt,diag:()=>$r,isSpanContextValid:()=>tn,isValidSpanId:()=>yi,isValidTraceId:()=>zn,metrics:()=>qr,propagation:()=>_s,trace:()=>Fs});var b=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof O.g=="object"?O.g:{},J="1.4.1",G=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,K=function(L){var Z=new Set([L]),le=new Set,Te=L.match(G);if(!Te)return function(){return!1};var ye=+Te[1],Ve=+Te[2],Ze=+Te[3];if(Te[4]!=null)return function(Ge){return Ge===L};function $e(Ge){return le.add(Ge),!1}function qe(Ge){return Z.add(Ge),!0}return function(Ge){if(Z.has(Ge))return!0;if(le.has(Ge))return!1;var Ye=Ge.match(G);if(!Ye)return $e(Ge);var it=+Ye[1],St=+Ye[2],At=+Ye[3];return Ye[4]!=null||ye!==it?$e(Ge):ye===0?Ve===St&&Ze<=At?qe(Ge):$e(Ge):Ve<=St?qe(Ge):$e(Ge)}}(J),M=J.split(".")[0],v=Symbol.for("opentelemetry.js.api."+M),y=b;function R(L,Z,le,Te){var ye;Te===void 0&&(Te=!1);var Ve=y[v]=(ye=y[v])!==null&&ye!==void 0?ye:{version:J};if(!Te&&Ve[L]){var Ze=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+L);return le.error(Ze.stack||Ze.message),!1}return Ve.version!==J?(Ze=new Error("@opentelemetry/api: Registration of version v"+Ve.version+" for "+L+" does not match previously registered API v"+J),le.error(Ze.stack||Ze.message),!1):(Ve[L]=Z,le.debug("@opentelemetry/api: Registered a global for "+L+" v"+J+"."),!0)}function I(L){var Z,le,Te=(Z=y[v])===null||Z===void 0?void 0:Z.version;if(Te&&K(Te))return(le=y[v])===null||le===void 0?void 0:le[L]}function P(L,Z){Z.debug("@opentelemetry/api: Unregistering a global for "+L+" v"+J+".");var le=y[v];le&&delete le[L]}var j,ce=function(){function L(Z){this._namespace=Z.namespace||"DiagComponentLogger"}return L.prototype.debug=function(){for(var Z=[],le=0;le<arguments.length;le++)Z[le]=arguments[le];return h("debug",this._namespace,Z)},L.prototype.error=function(){for(var Z=[],le=0;le<arguments.length;le++)Z[le]=arguments[le];return h("error",this._namespace,Z)},L.prototype.info=function(){for(var Z=[],le=0;le<arguments.length;le++)Z[le]=arguments[le];return h("info",this._namespace,Z)},L.prototype.warn=function(){for(var Z=[],le=0;le<arguments.length;le++)Z[le]=arguments[le];return h("warn",this._namespace,Z)},L.prototype.verbose=function(){for(var Z=[],le=0;le<arguments.length;le++)Z[le]=arguments[le];return h("verbose",this._namespace,Z)},L}();function h(L,Z,le){var Te=I("diag");if(Te)return le.unshift(Z),Te[L].apply(Te,function(ye,Ve,Ze){if(arguments.length===2)for(var $e,qe=0,Ge=Ve.length;qe<Ge;qe++)!$e&&qe in Ve||($e||($e=Array.prototype.slice.call(Ve,0,qe)),$e[qe]=Ve[qe]);return ye.concat($e||Array.prototype.slice.call(Ve))}([],function(ye,Ve){var Ze=typeof Symbol=="function"&&ye[Symbol.iterator];if(!Ze)return ye;var $e,qe,Ge=Ze.call(ye),Ye=[];try{for(;(Ve===void 0||Ve-- >0)&&!($e=Ge.next()).done;)Ye.push($e.value)}catch(it){qe={error:it}}finally{try{$e&&!$e.done&&(Ze=Ge.return)&&Ze.call(Ge)}finally{if(qe)throw qe.error}}return Ye}(le),!1))}(function(L){L[L.NONE=0]="NONE",L[L.ERROR=30]="ERROR",L[L.WARN=50]="WARN",L[L.INFO=60]="INFO",L[L.DEBUG=70]="DEBUG",L[L.VERBOSE=80]="VERBOSE",L[L.ALL=9999]="ALL"})(j||(j={}));var se=function(){function L(){function Z(Te){return function(){for(var ye=[],Ve=0;Ve<arguments.length;Ve++)ye[Ve]=arguments[Ve];var Ze=I("diag");if(Ze)return Ze[Te].apply(Ze,function($e,qe,Ge){if(arguments.length===2)for(var Ye,it=0,St=qe.length;it<St;it++)!Ye&&it in qe||(Ye||(Ye=Array.prototype.slice.call(qe,0,it)),Ye[it]=qe[it]);return $e.concat(Ye||Array.prototype.slice.call(qe))}([],function($e,qe){var Ge=typeof Symbol=="function"&&$e[Symbol.iterator];if(!Ge)return $e;var Ye,it,St=Ge.call($e),At=[];try{for(;(qe===void 0||qe-- >0)&&!(Ye=St.next()).done;)At.push(Ye.value)}catch(dn){it={error:dn}}finally{try{Ye&&!Ye.done&&(Ge=St.return)&&Ge.call(St)}finally{if(it)throw it.error}}return At}(ye),!1))}}var le=this;le.setLogger=function(Te,ye){var Ve,Ze,$e;if(ye===void 0&&(ye={logLevel:j.INFO}),Te===le){var qe=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return le.error((Ve=qe.stack)!==null&&Ve!==void 0?Ve:qe.message),!1}typeof ye=="number"&&(ye={logLevel:ye});var Ge=I("diag"),Ye=function(St,At){function dn(Us,Uo){var un=At[Us];return typeof un=="function"&&St>=Uo?un.bind(At):function(){}}return St<j.NONE?St=j.NONE:St>j.ALL&&(St=j.ALL),At=At||{},{error:dn("error",j.ERROR),warn:dn("warn",j.WARN),info:dn("info",j.INFO),debug:dn("debug",j.DEBUG),verbose:dn("verbose",j.VERBOSE)}}((Ze=ye.logLevel)!==null&&Ze!==void 0?Ze:j.INFO,Te);if(Ge&&!ye.suppressOverrideMessage){var it=($e=new Error().stack)!==null&&$e!==void 0?$e:"<failed to generate stacktrace>";Ge.warn("Current logger will be overwritten from "+it),Ye.warn("Current logger will overwrite one already registered from "+it)}return R("diag",Ye,le,!0)},le.disable=function(){P("diag",le)},le.createComponentLogger=function(Te){return new ce(Te)},le.verbose=Z("verbose"),le.debug=Z("debug"),le.info=Z("info"),le.warn=Z("warn"),le.error=Z("error")}return L.instance=function(){return this._instance||(this._instance=new L),this._instance},L}(),pe=function(){function L(Z){this._entries=Z?new Map(Z):new Map}return L.prototype.getEntry=function(Z){var le=this._entries.get(Z);if(le)return Object.assign({},le)},L.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(Z){var le=function(Te,ye){var Ve=typeof Symbol=="function"&&Te[Symbol.iterator];if(!Ve)return Te;var Ze,$e,qe=Ve.call(Te),Ge=[];try{for(;(ye===void 0||ye-- >0)&&!(Ze=qe.next()).done;)Ge.push(Ze.value)}catch(Ye){$e={error:Ye}}finally{try{Ze&&!Ze.done&&(Ve=qe.return)&&Ve.call(qe)}finally{if($e)throw $e.error}}return Ge}(Z,2);return[le[0],le[1]]})},L.prototype.setEntry=function(Z,le){var Te=new L(this._entries);return Te._entries.set(Z,le),Te},L.prototype.removeEntry=function(Z){var le=new L(this._entries);return le._entries.delete(Z),le},L.prototype.removeEntries=function(){for(var Z,le,Te=[],ye=0;ye<arguments.length;ye++)Te[ye]=arguments[ye];var Ve=new L(this._entries);try{for(var Ze=function(Ge){var Ye=typeof Symbol=="function"&&Symbol.iterator,it=Ye&&Ge[Ye],St=0;if(it)return it.call(Ge);if(Ge&&typeof Ge.length=="number")return{next:function(){return Ge&&St>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[St++],done:!Ge}}};throw new TypeError(Ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),$e=Ze.next();!$e.done;$e=Ze.next()){var qe=$e.value;Ve._entries.delete(qe)}}catch(Ge){Z={error:Ge}}finally{try{$e&&!$e.done&&(le=Ze.return)&&le.call(Ze)}finally{if(Z)throw Z.error}}return Ve},L.prototype.clear=function(){return new L},L}(),we=Symbol("BaggageEntryMetadata"),Be=se.instance();function Se(L){return L===void 0&&(L={}),new pe(new Map(Object.entries(L)))}function Je(L){return typeof L!="string"&&(Be.error("Cannot create baggage metadata from unknown type: "+typeof L),L=""),{__TYPE__:we,toString:function(){return L}}}function F(L){return Symbol.for(L)}var Q,ee,ae=new function L(Z){var le=this;le._currentContext=Z?new Map(Z):new Map,le.getValue=function(Te){return le._currentContext.get(Te)},le.setValue=function(Te,ye){var Ve=new L(le._currentContext);return Ve._currentContext.set(Te,ye),Ve},le.deleteValue=function(Te){var ye=new L(le._currentContext);return ye._currentContext.delete(Te),ye}},Ae=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],He=function(){function L(le){return function(){for(var Te=[],ye=0;ye<arguments.length;ye++)Te[ye]=arguments[ye];if(console){var Ve=console[le];if(typeof Ve!="function"&&(Ve=console.log),typeof Ve=="function")return Ve.apply(console,Te)}}}for(var Z=0;Z<Ae.length;Z++)this[Ae[Z].n]=L(Ae[Z].c)},oe=(Q=function(L,Z){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,Te){le.__proto__=Te}||function(le,Te){for(var ye in Te)Object.prototype.hasOwnProperty.call(Te,ye)&&(le[ye]=Te[ye])},Q(L,Z)},function(L,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function le(){this.constructor=L}Q(L,Z),L.prototype=Z===null?Object.create(Z):(le.prototype=Z.prototype,new le)}),Ce=function(){function L(){}return L.prototype.createHistogram=function(Z,le){return Ke},L.prototype.createCounter=function(Z,le){return ln},L.prototype.createUpDownCounter=function(Z,le){return mi},L.prototype.createObservableGauge=function(Z,le){return xt},L.prototype.createObservableCounter=function(Z,le){return Bn},L.prototype.createObservableUpDownCounter=function(Z,le){return jt},L.prototype.addBatchObservableCallback=function(Z,le){},L.prototype.removeBatchObservableCallback=function(Z){},L}(),De=function(){},Fe=function(L){function Z(){return L!==null&&L.apply(this,arguments)||this}return oe(Z,L),Z.prototype.add=function(le,Te){},Z}(De),_e=function(L){function Z(){return L!==null&&L.apply(this,arguments)||this}return oe(Z,L),Z.prototype.add=function(le,Te){},Z}(De),Et=function(L){function Z(){return L!==null&&L.apply(this,arguments)||this}return oe(Z,L),Z.prototype.record=function(le,Te){},Z}(De),lt=function(){function L(){}return L.prototype.addCallback=function(Z){},L.prototype.removeCallback=function(Z){},L}(),ft=function(L){function Z(){return L!==null&&L.apply(this,arguments)||this}return oe(Z,L),Z}(lt),vt=function(L){function Z(){return L!==null&&L.apply(this,arguments)||this}return oe(Z,L),Z}(lt),It=function(L){function Z(){return L!==null&&L.apply(this,arguments)||this}return oe(Z,L),Z}(lt),Ut=new Ce,ln=new Fe,Ke=new Et,mi=new _e,Bn=new ft,xt=new vt,jt=new It;function ii(){return Ut}(function(L){L[L.INT=0]="INT",L[L.DOUBLE=1]="DOUBLE"})(ee||(ee={}));var Cn,Tn={get:function(L,Z){if(L!=null)return L[Z]},keys:function(L){return L==null?[]:Object.keys(L)}},Jt={set:function(L,Z,le){L!=null&&(L[Z]=le)}},Di=function(){function L(){}return L.prototype.active=function(){return ae},L.prototype.with=function(Z,le,Te){for(var ye=[],Ve=3;Ve<arguments.length;Ve++)ye[Ve-3]=arguments[Ve];return le.call.apply(le,function(Ze,$e,qe){if(arguments.length===2)for(var Ge,Ye=0,it=$e.length;Ye<it;Ye++)!Ge&&Ye in $e||(Ge||(Ge=Array.prototype.slice.call($e,0,Ye)),Ge[Ye]=$e[Ye]);return Ze.concat(Ge||Array.prototype.slice.call($e))}([Te],function(Ze,$e){var qe=typeof Symbol=="function"&&Ze[Symbol.iterator];if(!qe)return Ze;var Ge,Ye,it=qe.call(Ze),St=[];try{for(;($e===void 0||$e-- >0)&&!(Ge=it.next()).done;)St.push(Ge.value)}catch(At){Ye={error:At}}finally{try{Ge&&!Ge.done&&(qe=it.return)&&qe.call(it)}finally{if(Ye)throw Ye.error}}return St}(ye),!1))},L.prototype.bind=function(Z,le){return le},L.prototype.enable=function(){return this},L.prototype.disable=function(){return this},L}(),kn="context",ri=new Di,Gn=function(){function L(){}return L.getInstance=function(){return this._instance||(this._instance=new L),this._instance},L.prototype.setGlobalContextManager=function(Z){return R(kn,Z,se.instance())},L.prototype.active=function(){return this._getContextManager().active()},L.prototype.with=function(Z,le,Te){for(var ye,Ve=[],Ze=3;Ze<arguments.length;Ze++)Ve[Ze-3]=arguments[Ze];return(ye=this._getContextManager()).with.apply(ye,function($e,qe,Ge){if(arguments.length===2)for(var Ye,it=0,St=qe.length;it<St;it++)!Ye&&it in qe||(Ye||(Ye=Array.prototype.slice.call(qe,0,it)),Ye[it]=qe[it]);return $e.concat(Ye||Array.prototype.slice.call(qe))}([Z,le,Te],function($e,qe){var Ge=typeof Symbol=="function"&&$e[Symbol.iterator];if(!Ge)return $e;var Ye,it,St=Ge.call($e),At=[];try{for(;(qe===void 0||qe-- >0)&&!(Ye=St.next()).done;)At.push(Ye.value)}catch(dn){it={error:dn}}finally{try{Ye&&!Ye.done&&(Ge=St.return)&&Ge.call(St)}finally{if(it)throw it.error}}return At}(Ve),!1))},L.prototype.bind=function(Z,le){return this._getContextManager().bind(Z,le)},L.prototype._getContextManager=function(){return I(kn)||ri},L.prototype.disable=function(){this._getContextManager().disable(),P(kn,se.instance())},L}();(function(L){L[L.NONE=0]="NONE",L[L.SAMPLED=1]="SAMPLED"})(Cn||(Cn={}));var vi="0000000000000000",gn="00000000000000000000000000000000",In={traceId:gn,spanId:vi,traceFlags:Cn.NONE},Rn=function(){function L(Z){Z===void 0&&(Z=In),this._spanContext=Z}return L.prototype.spanContext=function(){return this._spanContext},L.prototype.setAttribute=function(Z,le){return this},L.prototype.setAttributes=function(Z){return this},L.prototype.addEvent=function(Z,le){return this},L.prototype.setStatus=function(Z){return this},L.prototype.updateName=function(Z){return this},L.prototype.end=function(Z){},L.prototype.isRecording=function(){return!1},L.prototype.recordException=function(Z,le){},L}(),Nt=F("OpenTelemetry Context Key SPAN");function gi(L){return L.getValue(Nt)||void 0}function Ai(){return gi(Gn.getInstance().active())}function Vn(L,Z){return L.setValue(Nt,Z)}function Oi(L){return L.deleteValue(Nt)}function Mi(L,Z){return Vn(L,new Rn(Z))}function Si(L){var Z;return(Z=gi(L))===null||Z===void 0?void 0:Z.spanContext()}var $i=/^([0-9a-f]{32})$/i,si=/^[0-9a-f]{16}$/i;function zn(L){return $i.test(L)&&L!==gn}function yi(L){return si.test(L)&&L!==vi}function tn(L){return zn(L.traceId)&&yi(L.spanId)}function Pn(L){return new Rn(L)}var Hn,oi,qi,Qi=Gn.getInstance(),pr=function(){function L(){}return L.prototype.startSpan=function(Z,le,Te){if(Te===void 0&&(Te=Qi.active()),!!(le!=null&&le.root))return new Rn;var ye,Ve=Te&&Si(Te);return typeof(ye=Ve)=="object"&&typeof ye.spanId=="string"&&typeof ye.traceId=="string"&&typeof ye.traceFlags=="number"&&tn(Ve)?new Rn(Ve):new Rn},L.prototype.startActiveSpan=function(Z,le,Te,ye){var Ve,Ze,$e;if(!(arguments.length<2)){arguments.length===2?$e=le:arguments.length===3?(Ve=le,$e=Te):(Ve=le,Ze=Te,$e=ye);var qe=Ze??Qi.active(),Ge=this.startSpan(Z,Ve,qe),Ye=Vn(qe,Ge);return Qi.with(Ye,$e,void 0,Ge)}},L}(),Ji=new pr,Wr=function(){function L(Z,le,Te,ye){this._provider=Z,this.name=le,this.version=Te,this.options=ye}return L.prototype.startSpan=function(Z,le,Te){return this._getTracer().startSpan(Z,le,Te)},L.prototype.startActiveSpan=function(Z,le,Te,ye){var Ve=this._getTracer();return Reflect.apply(Ve.startActiveSpan,Ve,arguments)},L.prototype._getTracer=function(){if(this._delegate)return this._delegate;var Z=this._provider.getDelegateTracer(this.name,this.version,this.options);return Z?(this._delegate=Z,this._delegate):Ji},L}(),mr=new(function(){function L(){}return L.prototype.getTracer=function(Z,le,Te){return new pr},L}()),Yi=function(){function L(){}return L.prototype.getTracer=function(Z,le,Te){var ye;return(ye=this.getDelegateTracer(Z,le,Te))!==null&&ye!==void 0?ye:new Wr(this,Z,le,Te)},L.prototype.getDelegate=function(){var Z;return(Z=this._delegate)!==null&&Z!==void 0?Z:mr},L.prototype.setDelegate=function(Z){this._delegate=Z},L.prototype.getDelegateTracer=function(Z,le,Te){var ye;return(ye=this._delegate)===null||ye===void 0?void 0:ye.getTracer(Z,le,Te)},L}();(function(L){L[L.NOT_RECORD=0]="NOT_RECORD",L[L.RECORD=1]="RECORD",L[L.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Hn||(Hn={})),function(L){L[L.INTERNAL=0]="INTERNAL",L[L.SERVER=1]="SERVER",L[L.CLIENT=2]="CLIENT",L[L.PRODUCER=3]="PRODUCER",L[L.CONSUMER=4]="CONSUMER"}(oi||(oi={})),function(L){L[L.UNSET=0]="UNSET",L[L.OK=1]="OK",L[L.ERROR=2]="ERROR"}(qi||(qi={}));var vr="[_0-9a-z-*/]",Is=new RegExp("^(?:[a-z]"+vr+"{0,255}|[a-z0-9]"+vr+"{0,240}@[a-z]"+vr+"{0,13})$"),Rs=/^[ -~]{0,255}[!-~]$/,Ps=/,|=/,xs=function(){function L(Z){this._internalState=new Map,Z&&this._parse(Z)}return L.prototype.set=function(Z,le){var Te=this._clone();return Te._internalState.has(Z)&&Te._internalState.delete(Z),Te._internalState.set(Z,le),Te},L.prototype.unset=function(Z){var le=this._clone();return le._internalState.delete(Z),le},L.prototype.get=function(Z){return this._internalState.get(Z)},L.prototype.serialize=function(){var Z=this;return this._keys().reduce(function(le,Te){return le.push(Te+"="+Z.get(Te)),le},[]).join(",")},L.prototype._parse=function(Z){Z.length>512||(this._internalState=Z.split(",").reverse().reduce(function(le,Te){var ye=Te.trim(),Ve=ye.indexOf("=");if(Ve!==-1){var Ze=ye.slice(0,Ve),$e=ye.slice(Ve+1,Te.length);(function(qe){return Is.test(qe)})(Ze)&&function(qe){return Rs.test(qe)&&!Ps.test(qe)}($e)&&le.set(Ze,$e)}return le},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},L.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},L.prototype._clone=function(){var Z=new L;return Z._internalState=new Map(this._internalState),Z},L}();function Ns(L){return new xs(L)}var Kr=Gn.getInstance(),$r=se.instance(),Ds=new(function(){function L(){}return L.prototype.getMeter=function(Z,le,Te){return Ut},L}()),gr="metrics",qr=function(){function L(){}return L.getInstance=function(){return this._instance||(this._instance=new L),this._instance},L.prototype.setGlobalMeterProvider=function(Z){return R(gr,Z,se.instance())},L.prototype.getMeterProvider=function(){return I(gr)||Ds},L.prototype.getMeter=function(Z,le,Te){return this.getMeterProvider().getMeter(Z,le,Te)},L.prototype.disable=function(){P(gr,se.instance())},L}().getInstance(),Lo=function(){function L(){}return L.prototype.inject=function(Z,le){},L.prototype.extract=function(Z,le){return Z},L.prototype.fields=function(){return[]},L}(),Qr=F("OpenTelemetry Baggage Key");function Os(L){return L.getValue(Qr)||void 0}function ai(){return Os(Gn.getInstance().active())}function Ar(L,Z){return L.setValue(Qr,Z)}function _o(L){return L.deleteValue(Qr)}var cn="propagation",Ms=new Lo,Ls=function(){function L(){this.createBaggage=Se,this.getBaggage=Os,this.getActiveBaggage=ai,this.setBaggage=Ar,this.deleteBaggage=_o}return L.getInstance=function(){return this._instance||(this._instance=new L),this._instance},L.prototype.setGlobalPropagator=function(Z){return R(cn,Z,se.instance())},L.prototype.inject=function(Z,le,Te){return Te===void 0&&(Te=Jt),this._getGlobalPropagator().inject(Z,le,Te)},L.prototype.extract=function(Z,le,Te){return Te===void 0&&(Te=Tn),this._getGlobalPropagator().extract(Z,le,Te)},L.prototype.fields=function(){return this._getGlobalPropagator().fields()},L.prototype.disable=function(){P(cn,se.instance())},L.prototype._getGlobalPropagator=function(){return I(cn)||Ms},L}(),_s=Ls.getInstance(),Jr="trace",Fs=function(){function L(){this._proxyTracerProvider=new Yi,this.wrapSpanContext=Pn,this.isSpanContextValid=tn,this.deleteSpan=Oi,this.getSpan=gi,this.getActiveSpan=Ai,this.getSpanContext=Si,this.setSpan=Vn,this.setSpanContext=Mi}return L.getInstance=function(){return this._instance||(this._instance=new L),this._instance},L.prototype.setGlobalTracerProvider=function(Z){var le=R(Jr,this._proxyTracerProvider,se.instance());return le&&this._proxyTracerProvider.setDelegate(Z),le},L.prototype.getTracerProvider=function(){return I(Jr)||this._proxyTracerProvider},L.prototype.getTracer=function(Z,le){return this.getTracerProvider().getTracer(Z,le)},L.prototype.disable=function(){P(Jr,se.instance()),this._proxyTracerProvider=new Yi},L}().getInstance();const Fo={context:Kr,diag:$r,metrics:qr,propagation:_s,trace:Fs}},52:(A,k,O)=>{Object.defineProperty(k,"__esModule",{value:!0});const b=O(823),J=O(84),G=O(704);class K{static async connect(v){if(!K._stream){const y=v.streamSource;try{if(y==="gfn")return K._stream=new J.default,K._stream.connect(v.streamConfig);if(y==="direct")return K._stream=new b.default,K._stream.connect(v.streamConfig)}catch(R){throw{action:G.eAction.start,status:G.eStatus.error,info:R}}throw console.error(`Stream:init: ${y} is an invalid source`),{action:G.eAction.start,status:G.eStatus.error,info:TypeError(`Stream:init: '${y}' is an invalid source`)}}return{action:G.eAction.start,status:G.eStatus.inProgress,info:"Starting stream"}}static async sendMessage(v){try{if(K._stream)return K._stream.sendMessage(v),console.debug(`Sent message to GFN app: ${v}`),{action:G.eAction.message,status:G.eStatus.success,info:"Message was successfully sent."};{const y="There is no stream controller. Please call the setup method.";throw console.error(`Error sending message: ${y}`),{action:G.eAction.message,status:G.eStatus.error,info:y}}}catch(y){throw console.error("Error sending message: "+y),{action:G.eAction.message,status:G.eStatus.error,info:y}}}static async start(){if(K._stream)return K._stream.start();throw{action:G.eAction.start,status:G.eStatus.error,info:"There is no stream controller. Please call the setup method."}}static async stop(){if(K._stream)return K._stream.stop().then(v=>v);throw{action:G.eAction.stop,status:G.eStatus.error,info:"There is no stream controller. Please call the setup method."}}static async terminate(v=!1,y=!1){if(K._stream)return K._stream.terminate(v).then(R=>((R==null?void 0:R.status)==="success"&&(K._stream=null),R));throw{action:G.eAction.terminate,status:G.eStatus.error,info:"There is no stream controller. Please call the setup method."}}static async resize(v,y){try{if(K._stream)return K._stream.resize(v,y),{action:G.eAction.update,status:G.eStatus.success,info:"The stream resolution has been updated."};throw{action:G.eAction.update,status:G.eStatus.error,info:"There is no stream controller. Please call the setup method."}}catch(R){throw console.error("Error resizing: "+R),{action:G.eAction.update,status:G.eStatus.error,info:R}}}}k.default=K},122:(A,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.DefaultDirectQueryProps=void 0,k.DefaultDirectQueryProps={accessToken:"",autoLaunch:!0,cursor:"free",fps:60,height:1080,mediaPort:14109,mediaServer:"",mic:!1,nucleus:"",server:"",sessionId:"",signalingPort:48322,signalingServer:"",signalingPath:"",signalingQuery:null,width:1920},k.default=class{static query(O){const b=Object.keys(O).reduce((J,G)=>{if(k.DefaultDirectQueryProps[G]!==void 0&&O[G]!==void 0&&O[G]!==null&&G!=="width"&&G!=="height"){const K=["accessToken"].includes(G)?G:G.toLowerCase();J.push([K,O[G]])}return J},[["resolution",`${O.width}x${O.height}`]]);return new URLSearchParams(b).toString()}}},823:(A,k,O)=>{Object.defineProperty(k,"__esModule",{value:!0});const b=O(637),J=O(947),G=O(473),K=O(498),M=O(704),v=O(122),y="client",R={videoElementId:"remote-video",audioElementId:"remote-audio",authenticate:!1,maxReconnects:5,nativeTouchEvents:!1,backendUrl:"",connectivityTimeout:2e3,onUpdate:null,onStart:null,onStop:null,onTerminate:null,onStreamStats:null,onCustomEvent:null,...v.DefaultDirectQueryProps};k.default=class{constructor(){this._ragnarokApp=null,this._backendURL="",this._accessToken=null,this._nucleus=null,this._sessionID=null}async connect(I){if(!I)throw{action:M.eAction.start,status:M.eStatus.error,info:"No DirectConfig props provided. Please refer to usage documentation."};if((I={...R,...I}).maxReconnects<0)throw{action:M.eAction.start,status:M.eStatus.error,info:`Invalid prop DirectConfig.maxReconnects: ${I.maxReconnects}. Must be >= 0.`};const P={search:v.default.query(I)};try{this._backendURL=I.backendUrl,this._accessToken=I.accessToken,this._nucleus=I.nucleus,this._sessionID=I.sessionId,I.maxReconnects===0&&(P.search=`${P.search}&disableworkerws=true`);const j=await(0,b.getPlatformDetails)(),ce=I.maxReconnects+1;let h=1;const se=(pe,we)=>{const Be=M.StreamEventConverter.convert(pe,we);Be.status===M.eStatus.error&&(h<ce&&(Be.status=M.eStatus.warning),Be.info=`${h} of ${ce} connection attempts have failed.`,++h),I.onStart&&I.onStart(Be)};I.authenticate||(P.search=P.search.replace("accessToken","accessTokenUnused")),this._ragnarokApp=new K.RagnarokApp({maxSessionStartRetry:I.maxReconnects,platformDetails:j,videoElementId:I.videoElementId,audioElementId:I.audioElementId,urlLocation:P,authProvider:new J.DummyAuth,logBuffer:new G.LogBuffer(512e3),onSessionStartResult:se,onProgressUpdate:I.onUpdate?(pe,we)=>I.onUpdate(M.StreamEventConverter.convert(pe,we)):null,onStreamStopped:I.onStop?(pe,we)=>I.onStop(M.StreamEventConverter.convert(pe,we)):null,onActiveSessionResult:null,onStreamingEvent:null,onGetSessionResult:null,onISSOUpdate:I.onStreamStats?(pe,we)=>I.onStreamStats(M.StreamEventConverter.convert(pe,we)):null,onCustomEvent:I.onCustomEvent,useTelemetry:!1,nativeTouchEvents:I.nativeTouchEvents,connectivityTimeout:I.connectivityTimeout,enableAV1Support:I.enableAV1Support,codecList:I.codecList}),I.autoLaunch&&await this._ragnarokApp.startButtonClick()}catch(j){throw G.Log.e(y,`Some error happened: ${j==null?void 0:j.name}, ${j==null?void 0:j.message}.`),{action:M.eAction.start,status:M.eStatus.error,info:j}}return{action:M.eAction.start,status:M.eStatus.inProgress,info:"Starting stream."}}sendMessage(I){const P={messageType:"json",messageRecipient:"kit",data:I};this._ragnarokApp.sendCustomMessage(P)}async stop(){try{return this._ragnarokApp.stopButtonClick(),{action:M.eAction.stop,status:M.eStatus.inProgress,info:"Stopping stream."}}catch{return{action:M.eAction.stop,status:M.eStatus.error,info:"Stopping stream."}}}async start(){try{return await this._ragnarokApp.startButtonClick(),{action:M.eAction.start,status:M.eStatus.inProgress,info:"Starting stream."}}catch(I){return{action:M.eAction.start,status:M.eStatus.error,info:I}}}_terminateStream(){this._ragnarokApp.stopButtonClick(!1,!0),this._ragnarokApp=null,this._backendURL="",this._accessToken=null,this._nucleus=null,this._sessionID=null}async terminate(I){if(!I)return this._terminateStream(),{action:M.eAction.terminate,status:M.eStatus.success,info:"Session has terminated"};if(confirm("Terminating the session will destroy all associated resources and is not recoverable. All unsaved changes will be lost. Are you sure you would like to terminate the session?")){const P=this._accessToken;this._nucleus;const j=this._sessionID,ce=this._backendURL;this._terminateStream();let h="DELETE";if(ce){let se=null;{const pe=`https://${ce}/stream`;se=await fetch(pe,{method:h,headers:{Authorization:`Bearer ${P}`,accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({session_id:`${j}`})})}if((se==null?void 0:se.status)!==200){let pe=null,we=null,Be=null;try{pe=await se.setHeader("Strict-Transport-Security","max-age=63072000; includeSubDomains").json(),Be=pe.message,we=`${se.status}: ${pe}`}catch{we=`${se.status}: ${se.statusText} ${se.url}`}return G.Log.e(y,`Session termination failed due to '${Be}'`),{action:M.eAction.terminate,status:M.eStatus.error,info:we}}}return{action:M.eAction.terminate,status:M.eStatus.success,info:"Session has terminated"}}return{action:M.eAction.terminate,status:M.eStatus.canceled,info:"Termination has been cancelled"}}resize(I,P){const j={type:"resize",value:{height:P,width:I}},ce={messageType:"json",messageRecipient:"stream",data:JSON.stringify(j)};this._ragnarokApp.sendCustomMessage(ce)}}},84:(A,k,O)=>{Object.defineProperty(k,"__esModule",{value:!0});const b=O(704),J={GFN:null,catalogClientId:null,clientId:null,cmsId:null,nonce:null,partnerId:null,muteAudio:!0,onUpdate:null,onStart:null,onCustomEvent:null};k.default=class{constructor(){this._GFN=null,this._catalogClientId="",this._clientId="",this._cmsId=-9999,this._nonce="",this._partnerId="",this._muteAudio=!0}async connect(G){if(!G)throw{action:b.eAction.start,status:b.eStatus.error,info:"Invalid GFNConfig props provided. Please refer to usage documentation."};return G={...J,...G},this._GFN=G.GFN,this._catalogClientId=G.catalogClientId,this._clientId=G.clientId,this._cmsId=G.cmsId,this._muteAudio=G.muteAudio,this._nonce=G.nonce,this._partnerId=G.partnerId,this._initialize().then(async()=>{var K,M;await this._login();const v=await this._GFN.server.getServerInfo();G.onUpdate({action:b.eAction.authUser,status:b.eStatus.success,info:(K=this._GFN.currentUser)===null||K===void 0?void 0:K.displayName}),await this._stream((M=v==null?void 0:v.defaultZone)===null||M===void 0?void 0:M.address),console.debug("Started streaming"),this._GFN.streamer.on("started",()=>{G.onStart({action:b.eAction.start,status:b.eStatus.success,info:"streamready"})}),this._GFN.streamer.on("message",y=>{console.debug(`Received message from GFN app: ${y}`);const R=JSON.parse(y);R.event_type&&R.payload?G.onCustomEvent(R):Object.keys(R).forEach(I=>{G.onUpdate({action:b.eAction.update,status:b.eStatus.success,info:JSON.stringify({key:I,value:R[I]})})})})}).catch(K=>{throw{action:b.eAction.start,status:b.eStatus.error,info:K}}),{action:b.eAction.start,status:b.eStatus.inProgress,info:"Starting stream."}}async start(){throw new Error("GFNStreamer::start is not defined.")}async stop(){throw new Error("GFNStreamer::stop is not defined.")}async terminate(){throw new Error("GFNStreamer::terminate is not defined.")}sendMessage(G){try{this._GFN.streamer.sendMessage(G)}catch(K){console.error("Error sending message: "+K)}}async _initialize(){console.debug("initialize");const G=new this._GFN.Settings({clientId:this._clientId,catalogClientId:this._catalogClientId,partnerId:this._partnerId});try{if(await this._GFN.initialize(G),console.debug("gfn init finished"),!this._GFN.settings.vpcId){const K=await this._GFN.server.getServerInfo();this._GFN.settings.vpcId=K.vpcId}}catch(K){console.error(`GFN Initialization Failed: ${K.message}`)}}async _login(){this._nonce?await this._loginWithNonce(this._nonce,this._cmsId):await this._gfnLogin()}async _loginWithNonce(G,K){console.debug("_loginWithNonce");try{await this._GFN.auth.loginWithNonce(G,K.toString())}catch(M){throw console.error(`GFN Authorization Failed: ${M.message}`),M}}async _gfnLogin(){console.debug("gfn login");const G=this._GFN.auth.createLoginUrl();console.debug(`login ${G}`);try{await this._GFN.auth.loginWithBrowserPopup(G),console.debug("GFN Authorization Successful!"),console.debug(`GFN Logged in username: ${this._GFN.currentUser.displayName}`)}catch(K){throw console.error(`GFN Authorization Failed: ${K.message}`),K}}async _stream(G){const K=this._cmsId,M=this._GFN.streamer.detectStreamingResolution(),v={server:G,appId:K,streamParams:{width:M.width,height:M.height,fps:60},authTokenCallback:async()=>this._GFN.currentUser.authInfo.idToken.value,windowElementId:"view",enableMutedAutoPlay:this._muteAudio};return this._GFN.streamer.start(v).then(()=>{console.debug("streamer is starting...")}).catch(y=>{console.debug(`error while starting stream. ${y}`)})}resize(G,K){const M={type:"resize",value:{height:K,width:G}};this.sendMessage(JSON.stringify(M))}}},704:(A,k,O)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.StreamEventConverter=k.eStatus=k.eAction=void 0;const b=O(637);var J,G,K;(function(v){v.unknown="unknown",v.active="active",v.configure="configure",v.connect="connect",v.get="get",v.start="start",v.stop="stop",v.stream="stream",v.terminate="terminate",v.update="update",v.message="message",v.authUser="authUser"})(J=k.eAction||(k.eAction={})),function(v){v.unknown="unknown",v.inProgress="inProgress",v.success="success",v.canceled="canceled",v.error="error",v.warning="warning",v.waiting="waiting"}(G=k.eStatus||(k.eStatus={})),function(v){v.sessionProgressUpdateEvent="SessionProgressUpdateEvent",v.streamingEvent="StreamingEvent",v.streamUpdateEvent="StreamUpdateEvent",v.startSessionResultEvent="StartSessionResultEvent",v.streamingTerminatedEvent="StreamingTerminatedEvent",v.activeSessionResultEvent="ActiveSessionResultEvent",v.getSessionResult="GetSessionResult"}(K||(K={}));class M{static convert(y,R){return R===K.sessionProgressUpdateEvent?M.fromSessionProgressUpdateEvent(y):R===K.activeSessionResultEvent?M.fromActiveSessionResultEvent(y):R===K.streamingEvent?M.fromStreamingEvent(y):R===K.streamUpdateEvent?M.fromStreamUpdateEvent(y):R===K.getSessionResult?M.fromGetSessionResult(y):R===K.streamingTerminatedEvent?M.fromStreamingTerminatedEvent(y):R===K.startSessionResultEvent?M.fromStartSessionResultEvent(y):{action:J.unknown,status:G.unknown,info:"An unknown event has occured."}}static fromSessionProgressUpdateEvent(y){const R=y.state===b.SessionProgressState.STARTING_STREAMER?J.start:y.state===b.SessionProgressState.CONFIGURING?J.configure:y.state===b.SessionProgressState.CONNECTING?J.connect:J.unknown;return{action:R,status:G.inProgress,info:`${R}ing`,sessionId:y.sessionId,subSessionId:y.subSessionId,queuePosition:y.queuePosition,eta:y.eta}}static fromStartSessionResultEvent(y){var R;return{action:J.start,status:y.error?G.error:G.success,info:((R=y==null?void 0:y.error)===null||R===void 0?void 0:R.description)||"",sessionId:y.sessionId,subSessionId:y.subSessionId}}static fromStreamingEvent(y){return{action:J.stream,status:G.unknown,info:"streaming"}}static fromStreamUpdateEvent(y){return{action:J.update,status:G.unknown,info:"stat-update",stats:{codec:y.codec,fps:y.fps,rtd:y.rtd,avgDecodeTime:y.avgDecodeTime,frameLoss:y.frameLoss,packetLoss:y.packetLoss,totalBandwidth:y.totalBandwidth,utilizedBandwidth:y.utilizedBandwidth,streamingResolutionHeight:y.streamingResolution.height,streamingResolutionWidth:y.streamingResolution.width}}}static fromStreamingTerminatedEvent(y){var R;const I=(R=y.error)===null||R===void 0?void 0:R.code;return{action:J.terminate,status:I?G.error:G.unknown,info:I?"Stream terminated unexpectedly":"terminating",sessionId:y.sessionId,subSessionId:y.subSessionId}}static fromActiveSessionResultEvent(y){return{action:J.active,status:G.unknown,info:"active"}}static fromGetSessionResult(y){return{action:J.get,status:G.unknown,info:"streaming",sessionId:y.sessionId,subSessionId:y.subSessionId}}}k.StreamEventConverter=M},947:(A,k,O)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.DummyAuth=void 0;const b=O(637);k.DummyAuth=class{setDataForLoginType(J){console.log("initializing dummy auth")}getLoginUrl(){return"error"}getUserName(){return"Local"}getUserId(){return"Local"}getExternalUserId(){return"Local"}getDeviceId(){return"Local"}getIdpId(){return"Local"}checkTokenValidity(){return Promise.resolve()}respondToRedirect(J){return Promise.resolve()}getTokenCallback(){return()=>Promise.resolve("dummy")}getAuthInfo(){return Promise.resolve({type:b.AuthType.JWT_GFN,token:"dummy"})}logout(){console.log("logging out of dummy auth")}startOffDeviceLogin(){return Promise.resolve({verification_uri:"",user_code:"",device_code:"",expires_in:0,interval:0})}pollOffDeviceLogin(J){return Promise.resolve()}}},473:(A,k,O)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.Log=k.LogBuffer=void 0;const b=O(637);class J{constructor(K,M){this.encoder=new TextEncoder,this.logIndex=0,this.full=!1,this.buffer=new Uint8Array(K+J.FULL_MESSAGE.length),this.maxLength=K,this.logfile=M}clear(){this.encoder=new TextEncoder,this.logIndex=0,this.full=!1}log(K){if(this.full)return;let M=this.encoder.encode(K+`
`);this.logIndex+M.byteLength>this.maxLength&&(this.full=!0,M=this.encoder.encode(J.FULL_MESSAGE)),this.buffer.set(M,this.logIndex),this.logIndex+=M.byteLength}download(){const K=document.createElement("a");K.style.display="none";const M=new Blob([new DataView(this.buffer.buffer,0,this.logIndex)],{type:"text/plain"}),v=URL.createObjectURL(M);K.href=v,this.logfile?K.download=this.logfile:K.download=`omniverse-streaming-${new Date().toISOString()}.log`,document.body.appendChild(K),K.click(),URL.revokeObjectURL(v),document.body.removeChild(K)}setIds(K,M){this.sessionId=K,this.subSessionId=M}}k.LogBuffer=J,J.FULL_MESSAGE=`Log is full
`,k.Log=new b.LogImpl("ows",{enable:!0,enableConsoleLogging:!0})},498:(A,k,O)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.RagnarokApp=void 0;const b=O(637),J=O(473),G=O(593),K=O(704),M="client";k.RagnarokApp=class{constructor({maxSessionStartRetry:v,platformDetails:y,videoElementId:R,audioElementId:I,urlLocation:P,authProvider:j,logBuffer:ce,onSessionStartResult:h,onProgressUpdate:se,onStreamStopped:pe,onActiveSessionResult:we,onStreamingEvent:Be,onGetSessionResult:Se,onISSOUpdate:Je,onCustomEvent:F,codecList:Q,enableAV1Support:ee,useTelemetry:ae=!1,nativeTouchEvents:Ae=!1,connectivityTimeout:He=2e3}){this.tracksMap=new Map,this.totalTracks=0,this.hasPlatformBeenSimulated=!1,this.hasAppLaunchBeenSimulated=!1,this.micEnabled=!1,this.sessionStartRetryLeft=0,this._hasFocus=!1,P=P||location,this.sessionStartParams={},this.sessionId="",this.sessionsToDelete=0,this.sessionStartRetryLeft=v,this.videoElement=document.getElementById(R),this.audioElement=document.getElementById(I),this.logBuffer=ce,this.authProvider=j,this.codecList=Q,this.useTelemetry=ae,this.nativeTouchEvents=Ae,this.connectivityTimeout=He,this.enableAV1Support=ee,this.errorMap=new Map,this.buildErrorMessageMap(),this.platformDetails=y,J.Log.i(M,`Platform details: ${this.platformDetails}`),this.instantiateGridApp(),this.setupHTMLElements(),this.queryParams=new URLSearchParams(P.search),this._onProgressUpdate=se,this._onSessionStartResult=h,this._onStreamStopped=pe,this._onActiveSessionResult=we,this._onStreamingEvent=Be,this._onGetSessionResult=Se,this._onISSOUpdate=Je,this._onCustomEvent=F}setupHTMLElements(){this.audioElement&&(this.audioElement.muted=!0),this.videoElement.muted=!0,this.videoElement.playsInline=!0,this.videoElement.autoplay=!0,this.videoElement.tabIndex=-1,this.videoElement.parentElement.tabIndex=-1,this.videoElement.parentElement.style.outline="none",this.videoElement.parentElement.addEventListener("contextmenu",function(v){v.preventDefault()}),this.videoElement.parentElement.addEventListener("keydown",this.keyUpDownEventHandler.bind(this)),this.videoElement.parentElement.addEventListener("keyup",this.keyUpDownEventHandler.bind(this)),document.addEventListener("focusin",this.focusinEventHandler.bind(this)),document.addEventListener("focusout",this.focusoutEventHandler.bind(this)),this.videoElement.parentElement.addEventListener("pointerdown",this.videoElementClickedEventHandler.bind(this)),this._hasFocus=this.videoElement.parentElement.tabIndex===-1,console.log(`Viewport has focus: ${this._hasFocus}`)}videoElementClickedEventHandler(v){this.videoElement.parentElement.focus()}focusoutEventHandler(v){v.relatedTarget||this._hasFocus===!0||(console.log("Viewport getting focus"),this._hasFocus=!0,this.tracksMap.size>0&&this.gridApp.toggleUserInput(!0,b.InputType.All))}focusinEventHandler(v){document.activeElement===this.videoElement.parentElement?this._hasFocus!==!0&&(console.log("Viewport getting focus"),this._hasFocus=!0,this.tracksMap.size>0&&this.gridApp.toggleUserInput(!0,b.InputType.All)):this._hasFocus===!0&&(console.log("Viewport losing focus"),this._hasFocus=!1,this.tracksMap.size>0&&this.gridApp.toggleUserInput(!1,b.InputType.Keyboard|b.InputType.Gamepad|b.InputType.Touch))}keyUpDownEventHandler(v){v.keyCode==73&&v.ctrlKey&&v.shiftKey||v.keyCode==67&&v.shiftKey&&v.metaKey||v.keyCode==68&&v.ctrlKey&&v.shiftKey||v.code=="Tab"&&v.altKey||v.code=="ZoomToggle"||v.code=="SelectTask"||v.code=="BrightnessDown"||v.code=="BrightnessUp"||v.code=="AudioVolumeMute"||v.code=="AudioVolumeDown"||v.code=="AudioVolumeUp"||v.keyCode>=48&&v.keyCode<=57||v.code=="Backspace"||v.preventDefault(),v.keyCode==86&&v.ctrlKey&&this.pasteClipboardText()}pasteClipboardText(){navigator.clipboard&&window.isSecureContext?navigator.clipboard.readText().then(v=>{v&&(J.Log.i(M,"Sent clipboard text to the server."),this.gridApp.sendTextInput((0,G.StringToUtf8)(v)))}).catch(v=>{J.Log.e(M,"Failed to read clipboard contents: "+v)}):J.Log.i(M,"Cannot read from clipboard because in insecure context.")}copyTextToClipboard(v){navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(v).then(()=>{J.Log.i(M,"Copied clipboard text from the server: "+v)}).catch(y=>{J.Log.e(M,"Failed to write clipboard contents: "+y)}):J.Log.i(M,"Cannot write to clipboard because in insecure context.")}getQueryParam(v){return this.queryParams.get(v)}onLogEvent(v){if(this.logBuffer)v.logLevel!=="DEBUG"&&this.logBuffer.log(`${v.timeStamp} ${v.logLevel} ${v.logModule}/${v.logtag} ${v.logstr}`);else switch(v.logLevel){case"INFO":console.log(`${v.timeStamp} ${v.logLevel} ${v.logModule}/${v.logtag} ${v.logstr}`);break;case"WARN":console.warn(`${v.timeStamp} ${v.logLevel} ${v.logModule}/${v.logtag} ${v.logstr}`);break;case"DEBUG":console.debug(`${v.timeStamp} ${v.logLevel} ${v.logModule}/${v.logtag} ${v.logstr}`);break;case"ERROR":console.error(`${v.timeStamp} ${v.logLevel} ${v.logModule}/${v.logtag} ${v.logstr}`)}}updateEventDataElements(){var v;(v=this.gridApp)===null||v===void 0||v.updateEventDataElements({commonData:{clientId:"78589530426925203",clientVer:"2.0.45.34",clientVariant:"Release",eventSchemaVer:"23.0",eventSysVer:"0.12.2",deviceId:this.authProvider.getDeviceId(),userId:this.authProvider.getUserId(),externalUserId:this.authProvider.getExternalUserId(),idpId:this.authProvider.getIdpId(),integrationId:"undefined",sessionId:"92774af7-fbc1-488f-a090-ba49cfd13da2",deviceOS:this.getMappedDeviceOS(this.platformDetails.os),deviceOSVersion:this.platformDetails.osVer,deviceType:this.getMappedDeviceType(this.platformDetails.deviceType),deviceMake:"APPLE",deviceModel:"undefined",clientType:"Browser",browserType:this.getMappedBrowserName(this.platformDetails.browser),platform:"Web",eventProtocol:"1.4",deviceGdprFuncOptIn:"Full",deviceGdprTechOptIn:"None",deviceGdprBehOptIn:"None",gdprFuncOptIn:"Full",gdprTechOptIn:"Full",gdprBehOptIn:"Full"},experiments:[{id:"6376d3bf-3f62-419d-989c-2955c25f2b4e",group:"ENABLE"},{id:"feb30a68-ee9a-44a0-a717-da2d28c81e97",group:"ENABLE"},{id:"ea128779-32c7-45c1-94c8-c9374d64219d",group:"ENABLE"},{id:"ac00061b-eb8d-4d6c-978a-f3ac96f8e91a",group:"ENABLE"},{id:"21f7e7af-b5ae-4c76-b269-3cc4351671d2",group:"ENABLE"},{id:"b205ded0-6c08-4436-b818-f0bde4633f08",group:"ENABLE"},{id:"d639ef8f-c6c5-4931-8e75-451e9e075c62",group:"ENABLE"},{id:"cdce276d-d611-4ef9-ba6f-a90c3e7040d4",group:"ENABLE"},{id:"4c57b739-c860-4c5e-b3e4-9d89ff91b561",group:"ENABLE"},{id:"86bf4cf1-b717-4f72-8414-0f40d6a32656",group:"ENABLE"}],config:{server:"https://events.gfestage.nvidia.com",version:"v1.0"},telemetryEventIds:{streamingProfileGuid:"testClientStreamingProfileGuid",systemInfoGuid:"testClientSystemInfoGuid"}})}getMappedBrowserName(v){switch(v){case b.BrowserName.CHROME:return"Chrome";case b.BrowserName.SAFARI:return"Safari";case b.BrowserName.YANDEX:return"Yandex";case b.BrowserName.EDGE:return"Edge";case b.BrowserName.EDGE_LEGACY:return"Edge_legacy";case b.BrowserName.FIREFOX:return"Firefox";case b.BrowserName.SAMSUNG:return"Samsung";case b.BrowserName.CHROMIUM:return"Chromium";case b.BrowserName.OPERA:return"Opera";case b.BrowserName.BRAVE:return"Brave";case b.BrowserName.SILK:return"Silk";case b.BrowserName.UNKNOWN:case b.BrowserName.REACT:default:return"undefined"}}getMappedDeviceType(v){let y="undefined";return v===b.DeviceType.CONSOLE?y="Console":v===b.DeviceType.TABLET?y="Tablet":v===b.DeviceType.PHONE?y="Phone":v===b.DeviceType.TV?y="TV":v===b.DeviceType.LAPTOP?y="Laptop":v===b.DeviceType.DESKTOP&&(y="Desktop"),y}getMappedDeviceOS(v){switch(v.toLowerCase()){case"windows":return"Windows";case"macosx":case"macos":return"MacOS";case"chromeos":case"chrome os":return"ChromeOS";case"linux":return"Linux";case"ios":return"iOS";case"ipados":return"iPadOS";case"tizen":return"Tizen";case"webos":return"WebOS";case"xbox":return"Xbox";default:return"undefined"}}setMessageElementValue(v,y=!1){}instantiateGridApp(){J.Log.i(M,"Instantiating grid app."),this.gridApp=new b.GridApp(this.platformDetails),this.gridApp.addListener(b.EVENTS.SESSION_START_RESULT,this.onSessionStartResult.bind(this)),this.gridApp.addListener(b.EVENTS.SESSION_STOP_RESULT,this.onSessionStopResult.bind(this)),this.gridApp.addListener(b.EVENTS.ACTIVE_SESSIONS_RESULT,this.onActiveSessionResult.bind(this)),this.gridApp.addListener(b.EVENTS.PROGRESS_UPDATE,this.onProgressUpdate.bind(this)),this.gridApp.addListener(b.EVENTS.STREAM_STOPPED,this.onStreamStopped.bind(this)),this.gridApp.addListener(b.EVENTS.STREAMING_EVENT,this.onStreamingEvent.bind(this)),this.gridApp.addListener(b.EVENTS.GET_SESSION_RESULT,this.onGetSessionResult.bind(this)),this.gridApp.addListener(b.EVENTS.CUSTOM_MESSAGE,this.onCustomMessage.bind(this)),this.gridApp.addListener(b.EVENTS.STREAM_STATS_UPDATE,this.onISSOUpdate.bind(this)),this.gridApp.addListener(b.EVENTS.LOG_EVENT,this.onLogEvent.bind(this))}buildErrorMessageMap(){this.errorMap.set(b.RErrorCode.AuthProviderError,"Error happened during request to auth provider."),this.errorMap.set(b.RErrorCode.NoNetwork,"No internet connection."),this.errorMap.set(b.RErrorCode.NetworkError,"A network error occurred."),this.errorMap.set(b.RErrorCode.GetActiveSessionServerError,"Error occurred due to GetActiveSessionServerError."),this.errorMap.set(b.RErrorCode.ExceptionHappened,"Unexpected exception happened."),this.errorMap.set(b.RErrorCode.AuthTokenNotUpdated,"Error occurred due to AuthTokenNotUpdated."),this.errorMap.set(b.RErrorCode.SessionFinishedState,"Unexpected session state while polling."),this.errorMap.set(b.RErrorCode.ResponseParseFailure,"Failed to parse server response."),this.errorMap.set(b.RErrorCode.StreamerVideoPlayError,"Video play failure."),this.errorMap.set(b.RErrorCode.GridAppNotInitialized,"Grid app instance was not initialized."),this.errorMap.set(b.RErrorCode.SessionLimitExceeded,"Session Limit Exceeded."),this.errorMap.set(b.RErrorCode.StreamErrorGeneric,"Some generic error happened in streamer."),this.errorMap.set(b.RErrorCode.StreamerSignInFailure,"Error occurred during sign-in request to signaling server."),this.errorMap.set(b.RErrorCode.StreamerHangingGetFailure,"Error occurred in hanging get request of peer connection."),this.errorMap.set(b.RErrorCode.StreamerIceConnectionFailed,"Could not find valid ice candidate pair."),this.errorMap.set(b.RErrorCode.StreamerGetRemotePeerTimedOut,"Streaming stopped due to no remote peer."),this.errorMap.set(b.RErrorCode.StreamInputChannelError,"Streaming stopped due to input channel error."),this.errorMap.set(b.RErrorCode.StreamCursorChannelError,"Streaming stopped due to cursor channel error."),this.errorMap.set(b.RErrorCode.StreamControlChannelError,"Streaming stopped due to control channel error."),this.errorMap.set(b.RErrorCode.StreamerIceReConnectionFailed,"Reconnect attempt failed after network problem, or remote peer not alive."),this.errorMap.set(b.RErrorCode.StreamerNoVideoPacketsReceivedEver,"Streaming stopped as NoVideoPacketsReceivedEver."),this.errorMap.set(b.RErrorCode.StreamerNoVideoFramesLossyNetwork,"Streaming stopped as NoVideoFramesLossyNetwork."),this.errorMap.set(b.RErrorCode.StreamDisconnectedFromServer,"Stream disconnected from server, unknown reason."),this.errorMap.set(b.RErrorCode.ServerDisconnectedNoResponse,"Stream disconnected from server, NoResponse."),this.errorMap.set(b.RErrorCode.ServerDisconnectedRemoteInputError,"Stream disconnected from server, RemoteInputError."),this.errorMap.set(b.RErrorCode.ServerDisconnectedFrameGrabFailed,"Stream disconnected from server, FrameGrabFailed."),this.errorMap.set(b.RErrorCode.ServerDisconnectedConfigUnAvailable,"Stream disconnected from server, ConfigUnAvailable."),this.errorMap.set(b.RErrorCode.ServerDisconnectedInvalidCommand,"Stream disconnected from server, InvalidCommand."),this.errorMap.set(b.RErrorCode.ServerDisconnectedInvalidMouseState,"Stream disconnected from server, InvalidMouseState."),this.errorMap.set(b.RErrorCode.ServerDisconnectedNetworkError,"Stream disconnected from server, NetworkError."),this.errorMap.set(b.RErrorCode.ServerDisconnectedGameLaunchFailed,"Stream disconnected from server, GameLaunchFailed."),this.errorMap.set(b.RErrorCode.ServerDisconnectedVideoFirstFrameSendFailed,"Stream disconnected from server, VideoFirstFrameSendFailed."),this.errorMap.set(b.RErrorCode.ServerDisconnectedVideoNextFrameSendFailed,"Stream disconnected from server, VideoNextFrameSendFailed."),this.errorMap.set(b.RErrorCode.ServerDisconnectedFrameGrabTimedOut,"Stream disconnected from server, FrameGrabTimedOut."),this.errorMap.set(b.RErrorCode.ServerDisconnectedFrameEncodeTimedOut,"Stream disconnected from server, FrameEncodeTimedOut."),this.errorMap.set(b.RErrorCode.ServerDisconnectedFrameSendTimedOut,"Stream disconnected from server, FrameSendTimedOut."),this.errorMap.set(b.RErrorCode.ServerDisconnectedIntended,"Stream disconnected from server as user quit the game."),this.errorMap.set(b.RErrorCode.ServerDisconnectedUserLoggedInDifferentAccount,"Stream disconnected from server, userLoggedInDifferentAccount."),this.errorMap.set(b.RErrorCode.ServerDisconnectedWindowedMode,"Stream disconnected from server, WindowedMode."),this.errorMap.set(b.RErrorCode.ServerDisconnectedUserIdle,"Stream disconnected from server, UserIdle."),this.errorMap.set(b.RErrorCode.ServerDisconnectedUnAuthorizedProcessDetected,"Stream disconnected from server, UnAuthorizedProcessDetected."),this.errorMap.set(b.RErrorCode.ServerDisconnectedMaliciousProcessDetected,"Stream disconnected from server, MaliciousProcessDetected."),this.errorMap.set(b.RErrorCode.ServerDisconnectedUnKnownProcessDetected,"Stream disconnected from server, UnKnownProcessDetected."),this.errorMap.set(b.RErrorCode.ServerDisconnectedMinerProcessDetected,"Stream disconnected from server, MinerProcessDetected."),this.errorMap.set(b.RErrorCode.ServerDisconnectedStreamingUnsupported,"Stream disconnected from server, StreamingUnsupported."),this.errorMap.set(b.RErrorCode.ServerDisconnectedAnotherClient,"Stream disconnected from server, AnotherClient."),this.errorMap.set(b.RErrorCode.ServerDisconnectedUnknownFromPm,"Stream disconnected from server, UnknownFromPm."),this.errorMap.set(b.RErrorCode.ServerDisconnectedUserEntitledMinutesExceeded,"Stream disconnected from server, UserEntitledMinutesExceeded."),this.errorMap.set(b.RErrorCode.ServerDisconnectedClientReconnectTimeLimitExceeded,"Stream disconnected from server, ClientReconnectTimeLimitExceeded."),this.errorMap.set(b.RErrorCode.ServerDisconnectedOperatorCommandedTermination,"Stream disconnected from server, OperatorCommandedTermination."),this.errorMap.set(b.RErrorCode.ServerDisconnectedConcurrentSessionLimitExceeded,"Stream disconnected from server, ConcurrentSessionLimitExceeded."),this.errorMap.set(b.RErrorCode.ServerDisconnectedMaxSessionTimeLimitExceeded,"Stream disconnected from server, MaxSessionTimeLimitExceeded."),this.errorMap.set(b.RErrorCode.ServerDisconnectedBifrostInitiatedSessionPause,"Stream disconnected from server, BifrostInitiatedSessionPause."),this.errorMap.set(b.RErrorCode.ServerDisconnectedSystemCommandTermination,"Stream disconnected from server, SystemCommandTermination."),this.errorMap.set(b.RErrorCode.ServerDisconnectedMultipleLogin,"Stream disconnected from server, MultipleLogin."),this.errorMap.set(b.RErrorCode.ServerInternalError,"Session setup failed on server."),this.errorMap.set(b.RErrorCode.RequestLimitExceeded,"You have tried to play too many games in a short period of time. Please wait a few minutes and try again."),this.errorMap.set(b.RErrorCode.EntitlementFailure,"You are not entitled to play this game. Please check you entitlement."),this.errorMap.set(b.RErrorCode.EntitlementFailure,"One of the micro services on Zone failed. Please check telemetry for more details."),this.errorMap.set(b.RErrorCode.AppPatching,"Game is currently in patching state, please try again later."),this.errorMap.set(b.RErrorCode.GameNotFound,"Requested game is not available in the zone. Please try another zone."),this.errorMap.set(b.RErrorCode.AppMaintenanceStatus,"Requested game is under maintenance."),this.errorMap.set(b.RErrorCode.RequiredSeatInstanceTypeNotSupported,"Required instance type for the game is not available in current zone. Please try different zone."),this.errorMap.set(b.RErrorCode.ServerSessionQueueLengthExceeded,"We have reached our limit for the number of gamers who can wait for the next available rig. Please try again later"),this.errorMap.set(b.RErrorCode.SessionTerminatedByAnotherClient,"Session setup request was terminated by another client."),this.errorMap.set(b.RErrorCode.ServerDisconnectedGameNotOwnedByUser,"Your session ended as you do not own the requested game."),this.errorMap.set(b.RErrorCode.SystemSleepDuringStreaming,"Your session ended as device went to sleep during streaming"),this.errorMap.set(b.RErrorCode.SessionInQueueAbandoned,"Session abandoned during polling"),this.errorMap.set(b.RErrorCode.NoInternetDuringSessionSetup,"Cannot connect to server."),this.errorMap.set(b.RErrorCode.NoInternetDuringStreaming,"Cannot connect to server.")}getDisplayableErrorMessage(v){return this.errorMap.has(v)?this.errorMap.get(v):`No displayable error message found for error code ${v}`}handleActiveSessions(v){for(let y=0;y<v.length;y++)if(this.sessionStartParams.appId==v[y].appId&&(v[y].state==b.SessionState.READY_FOR_CONNECTION||v[y].state==b.SessionState.STREAMING||v[y].state==b.SessionState.PAUSED))return J.Log.i(M,"Existing session found with the appid "+v[y].appId+" and SessionState "+v[y].state),this.setMessageElementValue("Resuming previous session..."),this.sessionStartParams.appLaunchMode==b.AppLaunchMode.TouchFriendly&&v[y].appLaunchMode!=b.AppLaunchMode.TouchFriendly&&(this.sessionStartParams.appLaunchMode=b.AppLaunchMode.Default,J.Log.w(M,"session "+v[y].sessionId+" was not launched in touch friendly mode, ignoring touch input mode.")),void this.gridApp.resumeSession(this.sessionStartParams,v[y].sessionId);this.setMessageElementValue("Stopping existing sessions"),this.sessionsToDelete=v.length;for(let y=0;y<v.length;y++)this.gridApp.stopSession(v[y].sessionId)}resetTrackInfo(){this.totalTracks=0,this.tracksMap.clear()}playTrack(v,y){let R=y.play();const I=P=>{for(const j of y.srcObject.getTracks())this.tracksMap.set(j.id,P)};if(R){let P=this._hasFocus;R.then(()=>{J.Log.i(M,`${v} play succeeded.`),y instanceof HTMLVideoElement&&(P?this.gridApp.toggleUserInput(!0,b.InputType.All):this.gridApp.toggleUserInput(!0,b.InputType.Mouse)),I(!0)}).catch(j=>{J.Log.e(M,`${v} play error: ${j==null?void 0:j.name} , ${j==null?void 0:j.message}`),I(!1),this.gridApp.stopSession(this.sessionId),this.setMessageElementValue("Play failed",!0)})}else y instanceof HTMLVideoElement&&(this._hasFocus?this.gridApp.toggleUserInput(!0,b.InputType.All):this.gridApp.toggleUserInput(!0,b.InputType.Mouse)),I(!0)}playMedia(){for(let v of this.startResult.streams)for(let y of v.tracks)y.kind===b.TrackType.VIDEO&&this.videoElement.srcObject?this.playTrack(y.trackId,this.videoElement):y.kind===b.TrackType.AUDIO&&this.audioElement.srcObject&&this.playTrack(y.trackId,this.audioElement)}onSessionStartResult(v){if(this.lastSessionId=v.sessionId,this.lastSubSessionId=v.subSessionId,v.error)if(v.error.code==b.RErrorCode.SessionLimitExceeded)v.sessionList?(J.Log.i(M,"Session limit reached. Number of active sessions: "+v.sessionList.length),v.sessionList.length&&this.handleActiveSessions(v.sessionList)):(this.setMessageElementValue("Checking for existing sessions.."),this.gridApp.getActiveSessions()),this.handleLogs(v.sessionId,v.subSessionId);else if(v.error.code==b.RErrorCode.SessionLimitPerDeviceReached)this.setMessageElementValue("There is an active session for this device belonging to another user. Please try again after sometime"),this.handleLogs(v.sessionId,v.subSessionId);else if(v.error.code==b.RErrorCode.SessionSetupCancelled||v.error.code==b.RErrorCode.SessionSetupCancelledDuringQueuing)this.setMessageElementValue("Session setup was cancelled, please reconfigure your session.",!0);else{let y=this.getDisplayableErrorMessage(v.error.code);if(this.sessionStartRetryLeft>0){let R=`
                        Connection attempt failed with error message '${y}'. 
                        Number of retry left: ${this.sessionStartRetryLeft}. 
                        Retry in 5 seconds...`;J.Log.e(M,R),this.setMessageElementValue("Connection in progress..."),this.sessionStartRetryLeft-=1,window.setTimeout(()=>this.startButtonClick(),5e3)}else this.setMessageElementValue(y+" "+(0,G.GetHexString)(v.error.code),!0);this.handleLogs(v.sessionId,v.subSessionId)}else{J.Log.i(M,"client: successfully set up session: "+v.sessionId),J.Log.i(M,"Should enable mic: "+this.getGridApp().shouldDefaultEnableMic()),this.sessionId=v.sessionId,this.startResult=v,J.Log.i(M,"streams: "+JSON.stringify(this.startResult.streams));for(let y of this.startResult.streams)this.totalTracks+=y.tracks.length;this.playMedia()}this._onSessionStartResult&&this._onSessionStartResult(v,"StartSessionResultEvent")}handleLogs(v,y){this.logBuffer.setIds(v,y)}onSessionStopResult(v){this.lastSessionId=v.sessionId,this.lastSubSessionId=v.subSessionId,this.sessionId==v.sessionId?(this.sessionId="",v.framesDecoded>0?J.Log.i(M,"Session stop result is normal"):this.setMessageElementValue("Zero frame decoded.",!0)):this.sessionsToDelete>0&&(this.sessionsToDelete--,this.sessionsToDelete===0&&this.begin()),this.handleLogs(v.sessionId,v.subSessionId)}onProgressUpdate(v){J.Log.i(M,JSON.stringify(v));let y="Setting up your session. state: "+v.state;v.state==b.SessionProgressState.STARTING_STREAMER?y="Starting streamer...":v.state==b.SessionProgressState.CONNECTING&&(y="Connecting to streamer..."),v.queuePosition&&(y+=". QueuePosition: "+v.queuePosition),v.eta>1e3&&(y+=". ETA "+Math.round(v.eta/1e3)+"seconds"),this._onProgressUpdate&&this._onProgressUpdate(v,"SessionProgressUpdateEvent"),this.setMessageElementValue(y)}onStreamStopped(v){if(this.lastSessionId=v.sessionId,this.lastSubSessionId=v.subSessionId,this.resetTrackInfo(),v.error){let y=this.getQueryParam("resume");if(v.error.code==b.RErrorCode.ServerDisconnectedIntended)this.setMessageElementValue("Server disconnected intended.",!0);else if(y&&v.isResumable)J.Log.i(M,"Resuming after 15 secs"),this.setMessageElementValue("Resuming after 15 secs..."),window.setTimeout(()=>this.gridApp.getActiveSessions(),15e3);else{let R=this.getDisplayableErrorMessage(v.error.code);this.setMessageElementValue(R+" "+(0,G.GetHexString)(v.error.code),!0)}}this._onStreamStopped&&this._onStreamStopped(v,"StreamingTerminatedEvent"),this.handleLogs(v.sessionId,v.subSessionId)}onActiveSessionResult(v){v.error?(J.Log.e(M,"ActiveSession request failed. Error: "+v.error.code.toString(16).toUpperCase()),this.setMessageElementValue("Get Active session failed",!0)):(J.Log.i(M,"ActiveSession request succeeded. Number of active sessions: "+v.sessionList.length),v.sessionList.length?this.handleActiveSessions(v.sessionList):this.begin()),this._onActiveSessionResult&&this._onActiveSessionResult(v,"ActiveSessionResultEvent")}onStreamingEvent(v){J.Log.i(M,"StreamingEvent event: "+JSON.stringify(v)),v.streamingState&&v.streamingState.state===b.STREAMING_STATE.RECONNECTING&&(this.setMessageElementValue("Reconnecting...",!0),this._onStreamingEvent&&this._onStreamingEvent(v,"StreamingEvent"))}onGetSessionResult(v){v.error?(J.Log.e(M,"Cannot resume: "+v.error.code),this.setMessageElementValue(v.error.description+": "+v.error.code,!0)):(J.Log.i(M,"onGetSessionResult state: "+v.state),v.state==b.SessionState.INITIALIZING||v.state==b.SessionState.RESUMING?window.setTimeout(()=>this.gridApp.getSession(v.sessionId),1e3):v.state==b.SessionState.READY_FOR_CONNECTION&&this.gridApp.resumeSession(this.sessionStartParams,v.sessionId)),this._onGetSessionResult&&this._onGetSessionResult(v,"GetSessionResult")}sendCustomMessage(v){J.Log.i(M,JSON.stringify(v)),this.gridApp.sendCustomMessage(v)}onCustomMessage(v){"clipboard_set"in v?this.copyTextToClipboard(String(v.clipboard_set)):this._onCustomEvent?(J.Log.i(M,JSON.stringify(v)),this._onCustomEvent(v)):J.Log.i(M,JSON.stringify({action:K.eAction.message,status:K.eStatus.warning,info:"Stream sent a custom message, but client has not provided an onCustomEvent handler method."}))}onISSOUpdate(v){this._onISSOUpdate&&this._onISSOUpdate(v,"StreamUpdateEvent")}downloadLogs(){this.logBuffer.download()}downloadAudioRecordings(){var v;(v=this.gridApp)===null||v===void 0||v.downloadAudio()}getPlatformOverride(v,y,R,I,P){return"clientplatformname="+v+"&clienttype="+y+"&deviceos="+R+"&devicetype="+I+"&clientstreamer="+P}getPlatformAndAppLaunchOverrides(v,y){let R,I=this.queryParams.toString(),P="";switch(v){case 0:this.hasPlatformBeenSimulated&&this.getPlatformOverride("","","","","");break;case 1:P=this.getPlatformOverride("Windows",b.ClientType.NATIVE,b.DeviceOS.WINDOWS,b.DeviceType.DESKTOP,b.ClientStreamer.CLASSIC);break;case 2:P=this.getPlatformOverride("MacOSX",b.ClientType.NATIVE,b.DeviceOS.MACOS,b.DeviceType.DESKTOP,b.ClientStreamer.CLASSIC);break;case 3:P=this.getPlatformOverride("Linux",b.ClientType.NATIVE,b.DeviceOS.ANDROID,b.DeviceType.TABLET,b.ClientStreamer.CLASSIC);break;case 4:P=this.getPlatformOverride("browser",b.ClientType.BROWSER,b.DeviceOS.IOS,b.DeviceType.PHONE,b.ClientStreamer.WEBRTC);break;case 5:P=this.getPlatformOverride("browser",b.ClientType.BROWSER,b.DeviceOS.IPADOS,b.DeviceType.TABLET,b.ClientStreamer.WEBRTC);break;case 6:P=this.getPlatformOverride("browser",b.ClientType.BROWSER,b.DeviceOS.CHROMEOS,b.DeviceType.DESKTOP,b.ClientStreamer.WEBRTC);break;case 7:P=this.getPlatformOverride("browser",b.ClientType.BROWSER,b.DeviceOS.WINDOWS,b.DeviceType.DESKTOP,b.ClientStreamer.WEBRTC);break;case 8:P=this.getPlatformOverride("browser",b.ClientType.BROWSER,b.DeviceOS.MACOS,b.DeviceType.DESKTOP,b.ClientStreamer.WEBRTC);break;case 9:P=this.getPlatformOverride("browser",b.ClientType.BROWSER,b.DeviceOS.LINUX,b.DeviceType.DESKTOP,b.ClientStreamer.WEBRTC);break;case 10:P=this.getPlatformOverride("browser",b.ClientType.BROWSER,b.DeviceOS.WEBOS,b.DeviceType.TV,b.ClientStreamer.WEBRTC);break;case 11:P=this.getPlatformOverride("browser",b.ClientType.BROWSER,b.DeviceOS.TIZEN,b.DeviceType.TV,b.ClientStreamer.WEBRTC);break;case 12:P=this.getPlatformOverride("browser",b.ClientType.BROWSER,b.DeviceOS.XBOX,b.DeviceType.CONSOLE,b.ClientStreamer.WEBRTC)}switch(P&&(this.hasPlatformBeenSimulated=!0,I+=P+"&"),y){case 0:this.hasAppLaunchBeenSimulated&&(R=b.AppLaunchMode.Default);break;case 1:R=b.AppLaunchMode.Default;break;case 2:R=b.AppLaunchMode.TouchFriendly;break;case 3:R=b.AppLaunchMode.GamepadFriendly}return R!==void 0&&(this.hasAppLaunchBeenSimulated=!0,I+="applaunchmode="+R+"&"),I.endsWith("&")||(I+="&"),I+"webrtcstreamer=enable"}configureGridApp(v){return new Promise((y,R)=>{this.useTelemetry&&this.updateEventDataElements();const I={serverAddress:v,authTokenCallback:this.authProvider.getTokenCallback(),deviceHashId:"",clientShutDownCallback:void 0};let P;switch(this.getQueryParam("cursor")){case"hw":P=b.CursorType.HARDWARE;break;case"free":P=b.CursorType.FREE;break;case"sw":P=b.CursorType.SOFTWARE;default:P=b.CursorType.FREE}let j={cursorType:P,allowUnconfined:this.getQueryParam("allowunconfined")!==null};J.Log.i(M,"initializing gridApp with server: "+I.serverAddress),this.gridApp.initialize(I,j)?this.authProvider.getAuthInfo().then(ce=>{this.gridApp.setAuthInfo(ce),y()}).catch(()=>{R()}):R()})}getGridApp(){return this.gridApp}begin(){this.gridApp.startSession(this.sessionStartParams)}async startButtonClick(){var v;let y=this.getPlatformAndAppLaunchOverrides(0,0);const R={connectivityCheckTimeout:this.connectivityTimeout,sleepErrorsStreaming:["0xC0F2230F"]};!((v=this.codecList)===null||v===void 0)&&v.length&&(R.codecList=this.codecList),typeof this.enableAV1Support=="boolean"&&(R.enableAv1Support=this.enableAV1Support);const I={remoteConfigData:{ragnarok:JSON.stringify(R)},gxtOverrideData:JSON.stringify({params:[{name:"ragnarok",value:{enableCpm:!1}}]}),overrideData:y};(0,b.ConfigureRagnarokSettings)(I);let P=this.getQueryParam("server");try{let j=this.getQueryParam("resolution").split(":"),ce=(0,G.ToNumber)(this.getQueryParam("fps"));const h="0";let se="en-US";this.configureGridApp(P).then(()=>{J.Log.i(M,"grid app setup completed");const pe=this.nativeTouchEvents&&(0,G.IsiDevice)(this.platformDetails);this.sessionStartParams={streamParams:[],appLaunchMode:pe?b.AppLaunchMode.TouchFriendly:b.AppLaunchMode.Default,keyboardLayout:se,shortName:"Omniverse App Streaming",accountLinked:!1};let we=parseInt(j[0]),Be=parseInt(j[1]),Se=ce;const Je=parseInt(h);if(!we||!Be){const Ae=[{resolution:{width:3840,height:2160},frameRate:60},{resolution:{width:3440,height:1440},frameRate:60},{resolution:{width:2560,height:1600},frameRate:120},{resolution:{width:2560,height:1600},frameRate:60},{resolution:{width:2560,height:1440},frameRate:120},{resolution:{width:2560,height:1440},frameRate:60},{resolution:{width:1920,height:1200},frameRate:60},{resolution:{width:1920,height:1080},frameRate:60},{resolution:{width:1920,height:1080},frameRate:30},{resolution:{width:1920,height:1080},frameRate:120},{resolution:{width:1680,height:1050},frameRate:60},{resolution:{width:1600,height:900},frameRate:60},{resolution:{width:1280,height:1024},frameRate:60},{resolution:{width:1440,height:900},frameRate:60},{resolution:{width:1366,height:768},frameRate:60},{resolution:{width:1280,height:800},frameRate:60},{resolution:{width:1280,height:720},frameRate:60},{resolution:{width:1600,height:1200},frameRate:60},{resolution:{width:1112,height:834},frameRate:60},{resolution:{width:1024,height:768},frameRate:60},{resolution:{width:960,height:540},frameRate:60}],He=(0,b.ChooseStreamingSettings)(b.StreamingProfilePreset.BALANCED,Ae,this.platformDetails);we=He.resolution.width,Be=He.resolution.height,J.Log.i(M,"Recommended stream settings: "+we+"x"+Be+"@"+He.frameRate),J.Log.i(M,"Capable stream settings: "+Ae)}this.sessionStartParams.streamParams.push({width:we,height:Be,fps:Se,maxBitrateKbps:Je,drc:!1,videoTagId:this.videoElement.id,audioTagId:this.audioElement.id});const F=this.getQueryParam("signalingserver");let Q=[];if(F){const Ae=parseInt(this.getQueryParam("signalingport")),He=this.getQueryParam("signalingpath"),oe=(0,G.IsValidIPv4)(F)?b.AppLevelProtocol.HTTP:b.AppLevelProtocol.HTTPS;Q.push({ip:F,port:Ae,resourcePath:He,usage:b.Usage.SIGNALING,appLevelProtocol:oe,protocol:b.Protocol.TCP}),J.Log.i(M,"initializing signaling connection: "+JSON.stringify({signalingserver:F,signalingport:Ae,signalingpath:He}))}const ee=this.getQueryParam("mediaserver");if(ee)if((0,G.IsIPv4Address)(ee)&&!(0,G.IsValidIPv4)(ee))J.Log.e(M,"mediaserver query parameter is not a valid IP. value: "+ee);else{const Ae=parseInt(this.getQueryParam("mediaport"));Q.push({ip:ee,port:Ae,usage:b.Usage.VIDEO,appLevelProtocol:b.AppLevelProtocol.UNKNOWN,protocol:b.Protocol.UDP})}let ae=this.getQueryParam("signalingquery");if(ae&&(this.sessionStartParams.signalingUrlQueryParameters=decodeURIComponent(ae)),P)this.sessionStartParams.connectionInfo=void 0,this.sessionStartParams.sessionId=void 0;else{if(!Q.length)return void this.setMessageElementValue("Signaling server info is required in pass-thru use case. Please add signalingserver=<> to the query parameters",!0);this.sessionStartParams.connectionInfo=Q;const Ae=this.getQueryParam("sessionid");Ae&&(this.sessionStartParams.sessionId=Ae)}this.getQueryParam("accessToken")&&(this.sessionStartParams.sessionId+="-Authorization.Bearer-"+this.getQueryParam("accessToken")),J.Log.i(M,"Beginning"),this.begin()}).catch(pe=>{const we=`Something unexpected happened: ${pe==null?void 0:pe.name} ${pe==null?void 0:pe.message}`;J.Log.e(M,we),this.setMessageElementValue(we,!0)})}catch(j){J.Log.e(M,"Exception in start button click: "+j)}}stopButtonClick(v=!1,y=!1){this.resetTrackInfo(),this.sessionId&&(v?this.gridApp.pauseSession(this.sessionId):this.gridApp.stopSession(this.sessionId)),this.setMessageElementValue("Session is stopped.")}}},593:(A,k,O)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.KeyUpDownEventHandler=k.StringToUtf8=k.ToNumber=k.IsiDevice=k.IsiOS=k.IsTizen=k.IsWebOS=k.IsiPadOS=k.IsXbox=k.IsValidIPv4=k.IsIPv4Address=k.GetRandNumericString=k.GetHexString=k.convertToUnsignedInt=void 0;const b=O(637);function J(M){return M>>>0}function G(M){return M.os===b.PlatformName.IPADOS}function K(M){return M.os===b.PlatformName.IOS}k.convertToUnsignedInt=J,k.GetHexString=function(M){return"0x"+("00000000"+(M=J(M)).toString(16).toUpperCase()).slice(-8)},k.GetRandNumericString=function(M){let v=1;for(let R=1;R<M;R++)v*=10;let y=""+Math.floor(Math.random()*v);return y=y.padEnd(M,"0"),y},k.IsIPv4Address=function(M){const v=M.split(".");if(v.length!==4)return!1;for(const y of v){const R=parseInt(y);if(isNaN(R))return!1}return!0},k.IsValidIPv4=function(M){const v=M.split(".");if(v.length!==4)return!1;for(const y of v){const R=parseInt(y);if(isNaN(R)||R<0||R>255)return!1}return!0},k.IsXbox=function(M){return M.os===b.PlatformName.XBOX},k.IsiPadOS=G,k.IsWebOS=function(M){return M.os===b.PlatformName.WEBOS},k.IsTizen=function(M){return M.os===b.PlatformName.TIZEN},k.IsiOS=K,k.IsiDevice=function(M){return K(M)||G(M)},k.ToNumber=function(M){if(M){const v=Number.parseInt(M);if(!Number.isNaN(v))return v}},k.StringToUtf8=function(M){let v=new TextEncoder().encode(M),y=new ArrayBuffer(v.byteLength),R=new DataView(y);for(let I=0;I<v.byteLength;I++)R.setUint8(I,v[I]);return y},k.KeyUpDownEventHandler=function(M){M.keyCode==73&&M.ctrlKey&&M.shiftKey||M.keyCode==67&&M.shiftKey&&M.metaKey||M.keyCode==68&&M.ctrlKey&&M.shiftKey||M.code=="Tab"&&M.altKey||M.code=="ZoomToggle"||M.code=="SelectTask"||M.code=="BrightnessDown"||M.code=="BrightnessUp"||M.code=="AudioVolumeMute"||M.code=="AudioVolumeDown"||M.code=="AudioVolumeUp"||M.keyCode>=48&&M.keyCode<=57||M.code=="Backspace"||M.preventDefault()}}},a={};function l(A){var k=a[A];if(k!==void 0)return k.exports;var O=a[A]={exports:{}};return s[A].call(O.exports,O,O.exports,l),O.exports}l.d=(A,k)=>{for(var O in k)l.o(k,O)&&!l.o(A,O)&&Object.defineProperty(A,O,{enumerable:!0,get:k[O]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(A,k)=>Object.prototype.hasOwnProperty.call(A,k),l.r=A=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})};var f={};return(()=>{var A=f;Object.defineProperty(A,"__esModule",{value:!0}),A.eStatus=A.eAction=A.AppStreamer=void 0;const k=l(52);A.AppStreamer=k.default;const O=l(704);Object.defineProperty(A,"eAction",{enumerable:!0,get:function(){return O.eAction}}),Object.defineProperty(A,"eStatus",{enumerable:!0,get:function(){return O.eStatus}})})(),f})())})(ty);var ka=ty.exports,ny={exports:{}},mb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vb=mb,gb=vb;function iy(){}function ry(){}ry.resetWarningCache=iy;var Ab=function(){function t(a,l,f,A,k,O){if(O!==gb){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}t.isRequired=t;function n(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:ry,resetWarningCache:iy};return s.PropTypes=s,s};ny.exports=Ab();var Sb=ny.exports;const Ph=V0(Sb),yb="local",wb={appServer:"",streamServer:""},bb={server:"127.0.0.1"},ps={source:yb,stream:wb,local:bb};class ki extends Ki.Component{constructor(s){super(s);Jn(this,"_requested");this._requested=!1,this.state={streamReady:!1}}componentDidMount(){if(!this._requested){this._requested=!0;let s,a,l;l="direct",a={videoElementId:"remote-video",audioElementId:"remote-audio",authenticate:!1,maxReconnects:20,server:ps.local.server,nativeTouchEvents:!0,width:1920,height:1080,fps:60,onUpdate:f=>this._onUpdate(f),onStart:f=>this._onStart(f),onCustomEvent:f=>this._onCustomEvent(f),onStop:f=>{console.log(f)},onTerminate:f=>{console.log(f)}};try{s={streamConfig:a,streamSource:l},ka.AppStreamer.connect(s).then(f=>{console.info(f)}).catch(f=>{console.error(f)})}catch(f){console.error(f)}}}componentDidUpdate(s,a,l){if(a.streamReady===!1&&this.state.streamReady===!0){const f=document.getElementById("gfn-stream-player-video");f&&(f.tabIndex=-1,f.playsInline=!0,f.muted=!0,f.play())}}static sendMessage(s){ka.AppStreamer.sendMessage(s)}static stop(){ka.AppStreamer.stop(),ka.AppStreamer._stream=null}_onStart(s){s.action==="start"&&s.status==="success"&&!this.state.streamReady&&(console.info("streamReady"),this.setState({streamReady:!0}),this.props.onStarted()),s.status==="error"&&ps.source}_onUpdate(s){try{s.action==="authUser"&&s.status==="success"&&this.props.onLoggedIn(s.info)}catch{console.error(s)}}_onCustomEvent(s){this.props.handleCustomEvent(s)}_onStop(s){console.info("Stream stopped",s)}_onTerminate(s){console.info("Stream terminated",s)}render(){return ke.jsxs("div",{id:"main-div",style:{backgroundColor:this.state.streamReady?"white":"#dddddd",visibility:this.state.streamReady?"visible":"hidden",...this.props.style},children:[ke.jsx("video",{id:"remote-video",style:{left:0,top:0,width:"100%",height:"100%"},tabIndex:-1,playsInline:!0,muted:!0,autoPlay:!0},"video-canvas"),ke.jsx("audio",{id:"remote-audio",muted:!0}),ke.jsx("h3",{style:{visibility:"hidden"},id:"message-display",children:"..."})]},"stream-canvas")}}Jn(ki,"defaultProps",{style:{}}),Jn(ki,"propTypes",{onStarted:Ph.func.isRequired,handleCustomEvent:Ph.func.isRequired,style:Ph.object});class Eb extends Eo.Component{constructor(s){super(s);Jn(this,"_handleSelectChange",s=>{const a=parseInt(s.target.value,10);this.setState({selectedUSDAssetIndex:a}),this.props.onSelectUSDAsset&&this.props.onSelectUSDAsset(this.props.usdAssets[a])});this.state={selectedUSDAssetIndex:this._findAssetIndexByUrl(s.selectedAssetUrl)}}componentDidUpdate(s){if(s.selectedAssetUrl!==this.props.selectedAssetUrl){const a=this._findAssetIndexByUrl(this.props.selectedAssetUrl);a!==this.state.selectedUSDAssetIndex&&this.setState({selectedUSDAssetIndex:a})}}_findAssetIndexByUrl(s){return this.props.usdAssets.findIndex(a=>a.url===s)}_renderSelector(){const s=this.props.usdAssets.map((a,l)=>ke.jsx("option",{value:l,className:"usdAssetOption",children:a.name},l));return ke.jsx("select",{className:"nvidia-dropdown",onChange:this._handleSelectChange,value:this.state.selectedUSDAssetIndex||"",children:s})}render(){return ke.jsxs("div",{className:"usdAssetContainer",style:{width:this.props.width},children:[ke.jsx("div",{className:"usdAssetHeader",children:"USD Asset"}),ke.jsx("div",{className:"usdAssetSelectorContainer",children:this._renderSelector()})]})}}class Cb extends Eo.Component{constructor(s){super(s);Jn(this,"_onReset",()=>{this.props.onReset()});this.state={expandedIds:new Set}}resetExpandedIds(){this.setState({expandedIds:new Set})}_toggleExpand(s,a){a.stopPropagation(),this.props.fillUSDPrim(s),this.setState(l=>{const f=new Set(l.expandedIds);return f.has(s.path)?f.delete(s.path):f.add(s.path),{expandedIds:f}})}_handleListClick(s,a){a.stopPropagation();const l=new Set(this.props.selectedUSDPrims);l.has(s)?l.delete(s):l.add(s),this.props.onSelectUSDPrims(l)}_renderList(s){if(!(s===null||!Array.isArray(s)))return s.map((a,l)=>{const f=!a.children||a.children.length===0,A=this.state.expandedIds.has(a.path),k=this.props.selectedUSDPrims.has(a),O=`list-item ${f?"leaf":"parent"} ${A?"open":""} ${k?"selected":""}`,b=`item-content ${f?"leaf":"parent"} ${A?"open":""} ${k?"selected":""}`,J=`expand-toggle ${k?"selected":"deselected"}`;return ke.jsxs("li",{className:O,children:[ke.jsxs("div",{className:b,onClick:G=>this._handleListClick(a,G),tabIndex:0,children:[!f&&ke.jsx("span",{onClick:G=>this._toggleExpand(a,G),className:J,children:A?"▼":"▶"}),a.name]}),A&&!f&&a.children&&ke.jsx("ul",{className:"nested-list",children:this._renderList(a.children)})]},a.name||l)})}render(){return ke.jsxs("div",{className:"usdStageContainer",style:{width:this.props.width},children:[ke.jsxs("div",{className:"usdStageHeader",children:["USD Stage",ke.jsx("button",{className:"nvidia-button",onClick:this._onReset,children:"Reset"})]}),ke.jsx("ul",{className:"list-container",children:this._renderList(this.props.usdPrims)})]})}}let Tb=class extends Eo.Component{constructor(s){super(s);Jn(this,"usdStageRef",Eo.createRef());const a=[{name:"Sample 1",url:"./samples/stage01.usd"},{name:"Sample 2",url:"./samples/stage02.usd"}];this.state={usdAssets:a,selectedUSDAsset:a[0],usdPrims:[],selectedUSDPrims:new Set,isKitReady:!1,showStream:!1,showUI:!1,loadingText:"Waiting for stream to begin",isLoading:!1}}_queryLoadingState(){const s={event_type:"loadingStateQuery",payload:{}};ki.sendMessage(JSON.stringify(s))}_onStreamStarted(){this._pollForKitReady()}async _pollForKitReady(){this.state.isKitReady!==!0&&(console.info("polling Kit availability"),this._queryLoadingState(),setTimeout(()=>this._pollForKitReady(),3e3))}_getAsset(s){if(!s)return{name:"",url:""};const a=l=>l.split(/[/\\]/).pop();for(const l of this.state.usdAssets)if(a(l.url)===a(s))return l;return{name:"",url:""}}_onLoggedIn(s){}_openSelectedAsset(){var a;this.setState({loadingText:"Loading Asset...",showStream:!1,isLoading:!0}),this.setState({usdPrims:[],selectedUSDPrims:new Set}),(a=this.usdStageRef.current)==null||a.resetExpandedIds(),console.log(`Sending request to open asset: ${this.state.selectedUSDAsset.url}.`);const s={event_type:"openStageRequest",payload:{url:this.state.selectedUSDAsset.url}};ki.sendMessage(JSON.stringify(s))}_onSelectUSDAsset(s){console.log(`Asset selected: ${s.name}.`),this.setState({selectedUSDAsset:s},()=>{this._openSelectedAsset()})}_getChildren(s=null){console.log(`Requesting children for path: ${s?s.path:"/World"}.`);const a={event_type:"getChildrenRequest",payload:{prim_path:s?s.path:"/World",filters:["USDGeom"]}};ki.sendMessage(JSON.stringify(a))}_makePickable(s){const a=s.map(f=>f.path);console.log(`Sending request to make prims pickable: ${a}.`);const l={event_type:"makePrimsPickable",payload:{paths:a}};ki.sendMessage(JSON.stringify(l))}_onSelectUSDPrims(s){console.log(`Sending request to select: ${s}.`),this.setState({selectedUSDPrims:s});const l={event_type:"selectPrimsRequest",payload:{paths:Array.from(s).map(f=>f.path)}};ki.sendMessage(JSON.stringify(l)),s.forEach(f=>{this._onFillUSDPrim(f)})}_onStageReset(){this.setState({selectedUSDPrims:new Set});const s={event_type:"selectPrimsRequest",payload:{paths:[]}};ki.sendMessage(JSON.stringify(s));const a={event_type:"resetStage",payload:{}};ki.sendMessage(JSON.stringify(a))}_onFillUSDPrim(s){s!==null&&"children"in s&&!Array.isArray(s.children)&&this._getChildren(s)}_findUSDPrimByPath(s,a=this.state.usdPrims){if(Array.isArray(a))for(const l of a){if(l.path===s)return l;if(l.children&&l.children.length>0){const f=this._findUSDPrimByPath(s,l.children);if(f)return f}}return null}_handleCustomEvent(s){if(s)if(s.event_type==="openedStageResult")s.payload.result==="success"?this._queryLoadingState():console.error("Kit App communicates there was an error loading: "+s.payload.url);else if(s.event_type=="loadingStateResponse")if(this.state.isKitReady===!1)console.info("Kit is ready to load assets"),this.setState({isKitReady:!0}),this._queryLoadingState();else{const a=this._getAsset(s.payload.url),l=!!(a.name&&a.url);l&&a!==void 0&&this.state.selectedUSDAsset!==a&&this.setState({selectedUSDAsset:a}),s.payload.url?!l&&s.payload.loading_state==="idle"&&(console.log(`The loaded asset ${s.payload.url} is invalid.`),this._openSelectedAsset()):this._openSelectedAsset(),l&&s.payload.loading_state==="idle"&&(this._getChildren(),this.setState({showStream:!0,loadingText:"Asset loaded",showUI:!0,isLoading:!1}))}else if(s.event_type==="updateProgressAmount")console.log("Kit App communicates progress amount.");else if(s.event_type==="updateProgressActivity")console.log("Kit App communicates progress activity."),this.state.loadingText!=="Loading Asset..."&&this.setState({loadingText:"Loading Asset...",isLoading:!0});else if(s.event_type==="stageSelectionChanged")if(console.log(s.payload.prims.constructor.name),!Array.isArray(s.payload.prims)||s.payload.prims.length===0)console.log("Kit App communicates an empty stage selection."),this.setState({selectedUSDPrims:new Set});else{console.log("Kit App communicates selection of a USDPrimType: "+s.payload.prims.map(l=>l).join(", "));const a=new Set;s.payload.prims.forEach(l=>{const f=this._findUSDPrimByPath(l);f!==null&&a.add(f)}),this.setState({selectedUSDPrims:a})}else if(s.event_type==="getChildrenResponse"){console.log("Kit App sent stage prims");const a=s.payload.prim_path,l=s.payload.children,f=this._findUSDPrimByPath(a);f===null?this.setState({usdPrims:l}):(f.children=l,this.setState({usdPrims:this.state.usdPrims})),Array.isArray(l)&&this._makePickable(l)}else s.messageRecipient==="kit"&&(console.log("onCustomEvent"),console.log(JSON.parse(s.data).event_type))}_handleAppStreamFocus(){console.log("User is interacting in streamed viewer")}_handleAppStreamBlur(){console.log("User is not interacting in streamed viewer")}render(){var a;return ke.jsxs("div",{style:{position:"absolute",top:Cf,width:"100%",height:"100%"},children:[ke.jsxs("div",{style:{position:"absolute",height:`calc(100% - ${Cf}px)`,width:"calc(100% - 300px)"},children:[!this.state.showStream&&ke.jsxs("div",{className:"loading-indicator-label",children:[this.state.loadingText,ke.jsx("div",{className:"spinner-border",role:"status",style:{marginTop:10,visibility:this.state.isLoading?"visible":"hidden"}})]}),ke.jsx(ki,{sessionId:this.props.sessionId,backendUrl:this.props.backendUrl,signalingserver:this.props.signalingserver,signalingport:this.props.signalingport,mediaserver:this.props.mediaserver,mediaport:this.props.mediaport,accessToken:this.props.accessToken,onStarted:()=>this._onStreamStarted(),onFocus:()=>this._handleAppStreamFocus(),onBlur:()=>this._handleAppStreamBlur(),style:{position:"relative",visibility:this.state.showStream?"visible":"hidden"},onLoggedIn:l=>this._onLoggedIn(l),handleCustomEvent:l=>this._handleCustomEvent(l),onStreamFailed:this.props.onStreamFailed})]}),this.state.showUI&&ke.jsxs(ke.Fragment,{children:[ke.jsx(Eb,{usdAssets:this.state.usdAssets,selectedAssetUrl:(a=this.state.selectedUSDAsset)==null?void 0:a.url,onSelectUSDAsset:l=>this._onSelectUSDAsset(l),width:300}),ke.jsx(Cb,{ref:this.usdStageRef,width:300,usdPrims:this.state.usdPrims,onSelectUSDPrims:l=>this._onSelectUSDPrims(l),selectedUSDPrims:this.state.selectedUSDPrims,fillUSDPrim:l=>this._onFillUSDPrim(l),onReset:()=>this._onStageReset()})]})]})}};class kb extends Eo.Component{constructor(n){super(n)}_onStreamStarted(){console.log("The streaming session has started!")}_handleCustomEvent(n){console.log(n)}_handleAppStreamFocus(){console.log("User is interacting in streamed viewer")}_handleAppStreamBlur(){console.log("User is not interacting in streamed viewer")}render(){return ke.jsx("div",{style:{position:"absolute",top:Cf,width:"100%",height:"100%"},children:ke.jsx(ki,{sessionId:this.props.sessionId,backendUrl:this.props.backendUrl,signalingserver:this.props.signalingserver,signalingport:this.props.signalingport,mediaserver:this.props.mediaserver,mediaport:this.props.mediaport,accessToken:this.props.accessToken,onStarted:()=>this._onStreamStarted(),onFocus:()=>this._handleAppStreamFocus(),onBlur:()=>this._handleAppStreamBlur(),style:{position:"relative",top:0,left:0},onLoggedIn:n=>console.log(`User logged in: ${n}`),handleCustomEvent:n=>this._handleCustomEvent(n),onStreamFailed:this.props.onStreamFailed})})}}class Mo{static async get(n){const a=await fetch(n,{headers:{}}),l=await a.json();return{status:a.status,data:l}}static async post(n,s){const l=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),f=await l.json();return{status:l.status,data:f}}static async del(n,s){const l=await fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)return{status:l.status};const f=await l.text();return f?{detail:f,status:l.status}:{status:l.status}}}async function Ib(t){const n=`${t}/cfg/apps`,s=await Mo.get(n),a=s.data.items.reduce((l,f)=>(l[f.id]=f,l),{});return{status:s.status,data:a}}async function Rb(t,n){const s=`${t}/cfg/apps/${n}/versions`,a=await Mo.get(s);return{status:a.status,data:{appId:n,versions:a.data.items.map(l=>l.version)}}}async function Pb(t,n,s){const a=`${t}/cfg/apps/${n}/versions/${s}/profiles`,l=await Mo.get(a);return{status:l.status,data:{appId:n,appVersion:s,profiles:l.data.items}}}async function G0(t,n){const s=`${t}/streaming/stream/${n}`;return await Mo.get(s)}async function xb(t,n,s,a){const l=`${t}/streaming/stream`,f={id:n,version:s,profile:a};return await Mo.post(l,f)}async function Nb(t,n){const s=`${t}/streaming/stream`,a={id:n};return await Mo.del(s,a)}const hr={width:"200px",margin:"20px 15px 0px 0px"},rl={margin:"20px 20px"};class Db extends Ki.Component{constructor(n){super(n),this.state={useWebUI:!0}}_handleOptionChange(n){this.setState({useWebUI:n})}render(){return ke.jsxs("div",{style:rl,children:[ke.jsx("h3",{children:"UI Option"}),ke.jsxs("label",{children:["This client is part of the ",ke.jsx("a",{href:"https://docs.omniverse.nvidia.com/embedded-web-viewer/latest/index.html",target:"_blank",rel:"noopener noreferrer",children:"Embedded Web Viewer Guide"}),". It provides a user interface and functionality that supports Kit applications created from the ",ke.jsx("b",{children:"USD Viewer"})," Template in the ",ke.jsx("a",{href:"https://github.com/NVIDIA-Omniverse/kit-app-template",target:"_blank",rel:"noopener noreferrer",children:"kit-app-template"}),".",ke.jsx("br",{}),"If you are using this client to stream any other application you need to select the 2nd option below in order for the streamed application to become visible."]}),ke.jsx("br",{}),ke.jsx("br",{}),ke.jsxs("div",{className:"form-check",children:[ke.jsx("input",{className:"form-check-input",type:"radio",name:"webUiRadio",checked:this.state.useWebUI,id:"yes",onChange:()=>this._handleOptionChange(!0)}),ke.jsxs("label",{className:"form-check-label",htmlFor:"radios1",children:["UI for default streaming ",ke.jsx("b",{children:"USD Viewer"})," app"]})]}),ke.jsxs("div",{className:"form-check",children:[ke.jsx("input",{className:"form-check-input",type:"radio",name:"webUiRadio",id:"no",checked:!this.state.useWebUI,onChange:()=>this._handleOptionChange(!1)}),ke.jsxs("label",{className:"form-check-label",htmlFor:"radios1",children:["UI for ",ke.jsx("b",{children:"any"})," streaming app"]})]}),ke.jsx("button",{type:"button",className:"nvidia-button",onClick:()=>this.props.onNext(this.state),style:hr,children:"Next"})]})}}class Ob extends Ki.Component{constructor(s){super(s);Jn(this,"_loadApplications",async s=>{const a=await Ib(s);a.status===200&&(console.log(a.data),this.setState(l=>({...l,applications:Object.values(a.data)})))});this.state={appServer:this.props.appServer,streamServer:this.props.streamServer,applications:[]}}_onBack(){let s=document.getElementById("app-server").value,a=document.getElementById("stream-server").value;this.setState({appServer:s,streamServer:a}),this.props.onBack(s,a)}async _validateEndpoint(s){try{const a=await fetch(s,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});if(!a.ok)return alert(`Error: Received status code ${a.status}`),!1}catch{return alert(`Error: Failed to connect to endpoint \`${s}\``),!1}return!0}async _onNext(){let s=document.getElementById("app-server").value;if(s.length===0){alert("An App Server must be entered.");return}try{new URL(s)}catch{alert("Invalid App Server URL format");return}if(!await this._validateEndpoint(`${s}/cfg/apps`))return;let a=document.getElementById("stream-server").value;if(a.length===0){alert("A Stream Server must be entered.");return}try{new URL(a)}catch{alert("Invalid Stream Server URL format");return}await this._validateEndpoint(`${a}/streaming/stream`)&&(await this._loadApplications(s),this.setState(l=>{l.applications.length===0?alert(`No applications were found from App Server \`${s}\``):this.props.onNext(s,a,l.applications)}))}render(){return ke.jsxs("div",{style:rl,children:[ke.jsx("h3",{children:"Server Information"}),ke.jsxs("div",{className:"mb-3",children:[ke.jsx("div",{className:"row align-items-center",children:ke.jsxs("div",{className:"container",children:[ke.jsxs("div",{className:"row align-items-center mb-3",children:[ke.jsx("div",{className:"col-auto",children:ke.jsx("label",{htmlFor:"input1",className:"col-form-label",children:"App Server"})}),ke.jsx("div",{className:"col",children:ke.jsx("input",{type:"text",className:"form-control",id:"app-server",placeholder:"Enter App Server",defaultValue:this.state.appServer,style:{outline:"2px solid #76b900"}})})]}),ke.jsxs("div",{className:"row align-items-center",children:[ke.jsx("div",{className:"col-auto",children:ke.jsx("label",{htmlFor:"input2",className:"col-form-label",children:"Stream Server"})}),ke.jsx("div",{className:"col",children:ke.jsx("input",{type:"text",className:"form-control",id:"stream-server",placeholder:"Enter Stream Server",defaultValue:this.state.streamServer,style:{outline:"2px solid #76b900"}})})]})]})}),ke.jsx("button",{type:"button",className:"nvidia-button",onClick:()=>this._onBack(),style:hr,children:"Previous"}),ke.jsx("button",{type:"button",className:"nvidia-button",onClick:()=>this._onNext(),style:hr,children:"Next"})]})]})}}class Mb extends Ki.Component{constructor(s){super(s);Jn(this,"_loadVersions",async(s,a)=>{const l=await Rb(s,a);l.status===200&&this.setState(f=>({...f,versions:l.data.versions}))});Jn(this,"handleSelectChange",s=>{const a=s.target.value,l=this.props.applications.find(f=>f.id===a);if(!l)throw new Error(`Application with id ${a} not found`);this.setState({selectedApplication:l})});this.state={selectedApplication:this.props.applications[0],versions:[]}}async _onNext(){const s=this.state.selectedApplication.id;await this._loadVersions(this.props.appServer,s),this.setState(a=>{if(a.versions.length===0){alert(`No versions were found from Application with id ${s}`);return}else this.props.onNext(a.selectedApplication.id,a.versions)})}render(){return ke.jsxs("div",{style:rl,children:[ke.jsx("h3",{children:"Select Application"}),ke.jsx("div",{className:"mb-3",children:ke.jsx("select",{className:"nvidia-dropdown",id:"exampleSelect",value:this.state.selectedApplication.id,onChange:this.handleSelectChange,children:this.props.applications.map(s=>ke.jsx("option",{value:s.id,className:"nvidia-dropdown-option",children:s.id},s.id))})}),ke.jsx("button",{type:"button",className:"nvidia-button",onClick:()=>this.props.onBack(),style:hr,children:"Previous"}),ke.jsx("button",{type:"button",className:"nvidia-button",onClick:()=>this._onNext(),style:hr,children:"Next"})]})}}class Lb extends Ki.Component{constructor(s){super(s);Jn(this,"_loadProfiles",async(s,a)=>{const l=await Pb(this.props.appServer,s,a);l.status===200&&this.setState(f=>({...f,profiles:l.data.profiles.map(A=>A.id)}))});Jn(this,"handleSelectChange",s=>{const a=s.target.value;this.setState({selectedVersion:a})});this.state={selectedVersion:this.props.versions[0],profiles:[]}}async _onNext(){const s=this.state.selectedVersion;await this._loadProfiles(this.props.applicationId,s),this.setState(a=>{if(a.profiles.length===0){alert(`No profiles were found for Application version ${s}`);return}else this.props.onNext(a.selectedVersion,a.profiles)})}render(){return ke.jsxs("div",{style:rl,children:[ke.jsx("h3",{children:"Select Version"}),ke.jsx("div",{className:"mb-3",children:ke.jsx("select",{className:"nvidia-dropdown",id:"exampleSelect",value:this.state.selectedVersion,onChange:this.handleSelectChange,children:this.props.versions.map(s=>ke.jsx("option",{value:s,className:"nvidia-dropdown-option",children:s},s))})}),ke.jsx("button",{type:"button",className:"nvidia-button",onClick:()=>this.props.onBack(),style:hr,children:"Previous"}),ke.jsx("button",{type:"button",className:"nvidia-button",onClick:()=>this._onNext(),style:hr,children:"Next"})]})}}class _b extends Ki.Component{constructor(s){super(s);Jn(this,"handleSelectChange",s=>{const a=s.target.value;this.setState({selectedProfile:a})});this.state={selectedProfile:this.props.profiles[0]}}async _onNext(){this.props.onNext(this.state.selectedProfile)}render(){return ke.jsxs("div",{style:rl,children:[ke.jsx("h3",{children:"Select Profile"}),ke.jsx("div",{className:"mb-3",children:ke.jsx("select",{className:"nvidia-dropdown",id:"profileSelect",value:this.state.selectedProfile,onChange:this.handleSelectChange,children:this.props.profiles.map(s=>ke.jsx("option",{value:s,className:"nvidia-dropdown-option",children:s},s))})}),ke.jsx("button",{type:"button",className:"nvidia-button",onClick:()=>this.props.onBack(),style:hr,children:"Previous"}),ke.jsx("button",{type:"button",className:"nvidia-button",onClick:()=>this._onNext(),style:hr,children:"Next"})]})}}const Fb="/assets/nvidia_logo-BDmVZ2r8.png",Cf=60;class Ub extends Ki.Component{constructor(n){super(n),this.state={currentForm:1,useWebUI:!0,streamServer:ps.stream.streamServer,appServer:ps.stream.appServer,applications:[],applicationVersions:[],applicationProfiles:[],selectedApplicationId:"",selectedApplicationVersion:"",selectedApplicationProfile:"",streamStatus:0,connectionText:"",backendUrl:"",signalingserver:"",signalingport:0,mediaserver:"",mediaport:0,accessToken:"",sessionId:""},this._resetStream=this._resetStream.bind(this)}_resetState(){this.setState({currentForm:1,useWebUI:!0,streamServer:ps.stream.streamServer,appServer:ps.stream.appServer,applications:[],applicationVersions:[],applicationProfiles:[],selectedApplicationId:"",selectedApplicationVersion:"",selectedApplicationProfile:"",streamStatus:0,connectionText:"",backendUrl:"",signalingserver:"",signalingport:0,mediaserver:"",mediaport:0,accessToken:"",sessionId:""})}async pollForSessionReady(n){try{console.info("polling for session");const s=await G0(this.state.streamServer,n);s.status===200?(console.info("Session is ready. Waiting before setup..."),console.info("Delay complete. Setting up stream..."),this.setupStream(s.data)):(setTimeout(()=>this.pollForSessionReady(n),1e4),console.log(`Waiting for session ${n} to be ready... Last checked at ${new Date().toLocaleTimeString()}`))}catch(s){console.error("Error polling session info:",s)}}async _startStream(n,s,a){this.setState({currentForm:0,selectedApplicationProfile:a}),console.log(`Creating Session for ${n} ${s}. Errors are expected as the stream updates.`),this.setState({connectionText:"Attempting to create streaming session..."});const l=await xb(this.state.streamServer,n,s,a);if(l.status>400){console.log(`Failed to create a new streaming session for ${n} ${s}. Error code ${l.status}`),alert(`Failed to create a new streaming session for ${n} ${s}. Error code ${l.status}`),this._resetState();return}if(this.setState({sessionId:l.data.id,streamStatus:1,connectionText:"Attempting to load stream..."}),l.status===202){this.pollForSessionReady(l.data.id);return}this.setupStream(l.data)}setupStream(n){console.info("createdStream",n);const s=n.id,a=Object.keys(n.routes)[0],l=n.routes[a].routes,f=l.find(k=>k.description==="signaling"),A=l.find(k=>k.description==="media");if(!f||!A){console.error("Signaling or media data is missing");return}this.setState({backendUrl:`${this.state.streamServer}/streaming/stream`,signalingserver:a,signalingport:f.source_port,mediaserver:a,mediaport:A.source_port,accessToken:"",sessionId:s,currentForm:6,streamStatus:2})}async _resetStream(){await this._endStream(),this._resetState(),ka.AppStreamer.terminate()}async _endStream(){const n=this.state.sessionId;if(!n||(await G0(this.state.streamServer,n)).status!==200)return;const a=await Nb(this.state.streamServer,n);if("detail"in a){alert(a.detail);return}console.info(`Streaming Session ${n} Destroyed`)}render(){return ke.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[ke.jsxs("div",{className:"header-bar",children:[ke.jsx("img",{src:Fb,alt:"Logo",className:"header-logo"}),ke.jsx("span",{className:"header-title",children:"Omniverse Embedded Web Viewer Example"})]}),ps.source==="stream",this.state.currentForm===0&&ke.jsx("div",{children:ke.jsxs("div",{className:"loading-indicator-label",children:[this.state.connectionText,ke.jsx("div",{className:"spinner-border",role:"status",style:{marginTop:10,visibility:this.state.streamStatus===1?"visible":"hidden"}})]})}),this.state.currentForm===1&&ke.jsx(Db,{onNext:n=>this.setState({currentForm:6,useWebUI:n.useWebUI})}),this.state.currentForm===2&&ke.jsx(Ob,{appServer:this.state.appServer,streamServer:this.state.streamServer,onNext:(n,s,a)=>this.setState({currentForm:3,appServer:n,streamServer:s,applications:a}),onBack:(n,s)=>this.setState({currentForm:1,appServer:n,streamServer:s})}),this.state.currentForm===3&&ke.jsx(Mb,{appServer:this.state.appServer,applications:this.state.applications,onNext:(n,s)=>this.setState({currentForm:4,selectedApplicationId:n,applicationVersions:s}),onBack:()=>this.setState({currentForm:2,selectedApplicationId:"",applicationVersions:[]})}),this.state.currentForm===4&&ke.jsx(Lb,{appServer:this.state.appServer,applicationId:this.state.selectedApplicationId,versions:this.state.applicationVersions,onNext:(n,s)=>this.setState({currentForm:5,selectedApplicationVersion:n,applicationProfiles:s}),onBack:()=>this.setState({currentForm:3,selectedApplicationVersion:"",applicationProfiles:[]})}),this.state.currentForm===5&&ke.jsx(_b,{profiles:this.state.applicationProfiles,onNext:n=>this._startStream(this.state.selectedApplicationId,this.state.selectedApplicationVersion,n),onBack:()=>this.setState({currentForm:4,selectedApplicationProfile:"",applicationProfiles:[]})}),this.state.currentForm===6&&this.state.useWebUI&&ke.jsx(Tb,{sessionId:this.state.sessionId,backendUrl:this.state.backendUrl,signalingserver:this.state.signalingserver,signalingport:this.state.signalingport,mediaserver:this.state.mediaserver,mediaport:this.state.mediaport,accessToken:this.state.accessToken,onStreamFailed:this._resetStream}),this.state.currentForm===6&&!this.state.useWebUI&&ke.jsx(kb,{sessionId:this.state.sessionId,backendUrl:this.state.backendUrl,signalingserver:this.state.signalingserver,signalingport:this.state.signalingport,mediaserver:this.state.mediaserver,mediaport:this.state.mediaport,accessToken:this.state.accessToken,onStreamFailed:this._resetStream})]})}}xh.createRoot(document.getElementById("root")).render(ke.jsx(Eo.StrictMode,{children:ke.jsx(Ub,{})}));
